"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{883:function(e,t,r){r.d(t,{FavoritesProvider:function(){return n},r:function(){return o}});var a=r(7437),s=r(2265);let l=(0,s.createContext)(void 0),i={FAVORITES:"patissier-practice-favorites",BOOKMARKS:"patissier-practice-bookmarks"};function n(e){let{children:t}=e,[r,n]=(0,s.useState)([]),[o,c]=(0,s.useState)([]);(0,s.useEffect)(()=>{(()=>{try{let e=localStorage.getItem(i.FAVORITES),t=localStorage.getItem(i.BOOKMARKS);e&&n(JSON.parse(e)),t&&c(JSON.parse(t))}catch(e){console.error("Error loading favorites/bookmarks from localStorage:",e)}})()},[]),(0,s.useEffect)(()=>{try{localStorage.setItem(i.FAVORITES,JSON.stringify(r))}catch(e){console.error("Error saving favorites to localStorage:",e)}},[r]),(0,s.useEffect)(()=>{try{localStorage.setItem(i.BOOKMARKS,JSON.stringify(o))}catch(e){console.error("Error saving bookmarks to localStorage:",e)}},[o]);let u=(0,s.useCallback)(e=>{n(t=>t.includes(e)?t:[...t,e])},[]),g=(0,s.useCallback)(e=>{n(t=>t.filter(t=>t!==e))},[]),S=(0,s.useCallback)(e=>{n(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),f=(0,s.useCallback)(e=>{c(t=>t.includes(e)?t:[...t,e])},[]),d=(0,s.useCallback)(e=>{c(t=>t.filter(t=>t!==e))},[]),p=(0,s.useCallback)(e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),v=(0,s.useCallback)(e=>r.includes(e),[r]),h=(0,s.useCallback)(e=>o.includes(e),[o]),E=(0,s.useCallback)(()=>{n([])},[]),m=(0,s.useCallback)(()=>{c([])},[]),C=(0,s.useCallback)(e=>e.filter(e=>r.includes(e.id)),[r]),k=(0,s.useCallback)(e=>e.filter(e=>o.includes(e.id)),[o]);return(0,a.jsx)(l.Provider,{value:{favoriteTechniques:r,bookmarkedTechniques:o,addToFavorites:u,removeFromFavorites:g,toggleFavorite:S,addToBookmarks:f,removeFromBookmarks:d,toggleBookmark:p,isFavorite:v,isBookmarked:h,clearAllFavorites:E,clearAllBookmarks:m,getFavoriteTechniques:C,getBookmarkedTechniques:k},children:t})}function o(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useFavorites must be used within a FavoritesProvider");return e}},9224:function(e,t,r){r.d(t,{ProgressProvider:function(){return n},S:function(){return o}});var a=r(7437),s=r(2265);let l=(0,s.createContext)(void 0),i={USER_PROGRESS:"patissier-practice-user-progress",TECHNIQUE_PROGRESS:"patissier-practice-technique-progress",LEARNING_PATH_PROGRESS:"patissier-practice-learning-path-progress"};function n(e){let{children:t}=e,[r,n]=(0,s.useState)({userId:"current-user",techniques:[],learningPaths:[],quizAttempts:[],aiFeedback:[],achievements:[],preferences:{difficultyLevel:"Beginner",interests:[],learningGoals:[],notifications:{email:!0,push:!0,achievements:!0},theme:"light"},totalTimeSpent:0,streak:0,lastActiveAt:new Date().toISOString(),level:"1",experience:0,nextLevelExperience:100,totalTechniquesCompleted:0,currentStreak:0,longestStreak:0}),[o,c]=(0,s.useState)({}),[u,g]=(0,s.useState)({});(0,s.useEffect)(()=>{(()=>{try{let e=localStorage.getItem(i.USER_PROGRESS),t=localStorage.getItem(i.TECHNIQUE_PROGRESS),r=localStorage.getItem(i.LEARNING_PATH_PROGRESS);e&&n(JSON.parse(e)),t&&c(JSON.parse(t)),r&&g(JSON.parse(r))}catch(e){console.error("Error loading progress from localStorage:",e)}})()},[]),(0,s.useEffect)(()=>{try{localStorage.setItem(i.USER_PROGRESS,JSON.stringify(r))}catch(e){console.error("Error saving user progress to localStorage:",e)}},[r]),(0,s.useEffect)(()=>{try{localStorage.setItem(i.TECHNIQUE_PROGRESS,JSON.stringify(o))}catch(e){console.error("Error saving technique progress to localStorage:",e)}},[o]),(0,s.useEffect)(()=>{try{localStorage.setItem(i.LEARNING_PATH_PROGRESS,JSON.stringify(u))}catch(e){console.error("Error saving learning path progress to localStorage:",e)}},[u]);let S=(0,s.useCallback)((e,t)=>{c(r=>{let a={...r[e]||{techniqueId:e,isCompleted:!1,completionPercentage:0,timeSpent:0,lastAccessed:new Date().toISOString(),stepsCompleted:[],notes:"",rating:0,difficulty:"Beginner"},...t,lastAccessed:new Date().toISOString()};return{...r,[e]:a}}),n(e=>{let r=e.totalTimeSpent+(t.timeSpent||0),a=e.experience+(t.isCompleted?10:1),s=parseInt(e.level),l=e.nextLevelExperience;return a>=e.nextLevelExperience&&(s+=1,l=100*s),{...e,totalTimeSpent:r,experience:a,level:s.toString(),nextLevelExperience:l,lastActiveAt:new Date().toISOString()}})},[]),f=(0,s.useCallback)(e=>{S(e,{isCompleted:!0,completionPercentage:100,completedAt:new Date().toISOString()}),n(e=>({...e,totalTechniquesCompleted:e.totalTechniquesCompleted+1}))},[S]),d=(0,s.useCallback)(e=>{S(e,{isCompleted:!1,completionPercentage:0}),n(e=>({...e,totalTechniquesCompleted:Math.max(0,e.totalTechniquesCompleted-1)}))},[S]),p=(0,s.useCallback)(e=>o[e]||{techniqueId:e,isCompleted:!1,completionPercentage:0,timeSpent:0,lastAccessed:new Date().toISOString(),stepsCompleted:[],notes:"",rating:0,difficulty:"Beginner"},[o]),v=(0,s.useCallback)(()=>{let e=Object.keys(o).length;return 0===e?0:Math.round(Object.values(o).filter(e=>e.isCompleted).length/e*100)},[o]),h=(0,s.useCallback)(e=>0,[]),E=(0,s.useCallback)(e=>u[e]||0,[u]),m=(0,s.useCallback)((e,t)=>{g(r=>({...r,[e]:Math.min(100,Math.max(0,t))}))},[]),C=(0,s.useCallback)(()=>{n({userId:"current-user",techniques:[],learningPaths:[],quizAttempts:[],aiFeedback:[],achievements:[],preferences:{difficultyLevel:"Beginner",interests:[],learningGoals:[],notifications:{email:!0,push:!0,achievements:!0},theme:"light"},totalTimeSpent:0,streak:0,lastActiveAt:new Date().toISOString(),level:"1",experience:0,nextLevelExperience:100,totalTechniquesCompleted:0,currentStreak:0,longestStreak:0}),c({}),g({})},[]),k=(0,s.useCallback)(()=>JSON.stringify({userProgress:r,techniqueProgress:o,learningPathProgress:u,exportedAt:new Date().toISOString()},null,2),[r,o,u]),b=(0,s.useCallback)(e=>{try{let t=JSON.parse(e);return t.userProgress&&n(t.userProgress),t.techniqueProgress&&c(t.techniqueProgress),t.learningPathProgress&&g(t.learningPathProgress),!0}catch(e){return console.error("Error importing progress data:",e),!1}},[]);return(0,a.jsx)(l.Provider,{value:{userProgress:r,techniqueProgress:o,learningPathProgress:u,updateTechniqueProgress:S,markTechniqueComplete:f,markTechniqueIncomplete:d,getTechniqueProgress:p,getOverallProgress:v,getCategoryProgress:h,getLearningPathProgress:E,updateLearningPathProgress:m,resetProgress:C,exportProgress:k,importProgress:b},children:t})}function o(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useProgress must be used within a ProgressProvider");return e}},7690:function(e,t,r){r.d(t,{D:function(){return o},ReviewProvider:function(){return n}});var a=r(7437),s=r(2265);let l=(0,s.createContext)(void 0),i={TECHNIQUE_RATINGS:"patissier-practice-technique-ratings",USER_REVIEWS:"patissier-practice-user-reviews"};function n(e){let{children:t}=e,[r,n]=(0,s.useState)({}),[o,c]=(0,s.useState)({});(0,s.useEffect)(()=>{(()=>{try{let e=localStorage.getItem(i.TECHNIQUE_RATINGS),t=localStorage.getItem(i.USER_REVIEWS);e&&n(JSON.parse(e)),t&&c(JSON.parse(t))}catch(e){console.error("Error loading reviews from localStorage:",e)}})()},[]),(0,s.useEffect)(()=>{try{localStorage.setItem(i.TECHNIQUE_RATINGS,JSON.stringify(r))}catch(e){console.error("Error saving technique ratings to localStorage:",e)}},[r]),(0,s.useEffect)(()=>{try{localStorage.setItem(i.USER_REVIEWS,JSON.stringify(o))}catch(e){console.error("Error saving user reviews to localStorage:",e)}},[o]);let u=(0,s.useCallback)((e,t)=>{c(r=>({...r,[e]:t}));let r={id:"review-".concat(e,"-").concat(Date.now()),techniqueId:e,userId:"current-user",userName:"You",userAvatar:void 0,rating:t.rating,title:t.title,content:t.content,helpfulVotes:0,notHelpfulVotes:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isVerified:!0,difficulty:t.difficulty,timeSpent:t.timeSpent,tags:t.tags};n(t=>{let a=t[e]||{techniqueId:e,averageRating:0,totalRatings:0,ratingDistribution:{1:0,2:0,3:0,4:0,5:0},reviews:[]},s=[...a.reviews.filter(e=>"current-user"!==e.userId),r],l=s.length,i=l>0?s.reduce((e,t)=>e+t.rating,0)/l:0,n={1:0,2:0,3:0,4:0,5:0};return s.forEach(e=>{n[e.rating]++}),{...t,[e]:{...a,averageRating:Math.round(10*i)/10,totalRatings:l,ratingDistribution:n,reviews:s}}})},[]),g=(0,s.useCallback)((e,t)=>{u(e,t)},[u]),S=(0,s.useCallback)(e=>{c(t=>{let r={...t};return delete r[e],r}),n(t=>{let r=t[e];if(!r)return t;let a=r.reviews.filter(e=>"current-user"!==e.userId),s=a.length,l=s>0?a.reduce((e,t)=>e+t.rating,0)/s:0,i={1:0,2:0,3:0,4:0,5:0};return a.forEach(e=>{i[e.rating]++}),{...t,[e]:{...r,averageRating:Math.round(10*l)/10,totalRatings:s,ratingDistribution:i,reviews:a}}})},[]),f=(0,s.useCallback)(e=>r[e]||null,[r]),d=(0,s.useCallback)(e=>o[e]||null,[o]),p=(0,s.useCallback)((e,t)=>{n(r=>{let a={...r};return Object.keys(a).forEach(r=>{let s=a[parseInt(r)];if(s){let r=s.reviews.findIndex(t=>t.id===e);if(-1!==r){let e=s.reviews[r];t?e.helpfulVotes++:e.notHelpfulVotes++,s.reviews[r]={...e}}}}),a})},[]),v=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r[e];if(!a)return[];let s=[...a.reviews];switch(t.rating&&(s=s.filter(e=>e.rating===t.rating)),void 0!==t.verified&&(s=s.filter(e=>e.isVerified===t.verified)),t.sortBy){case"newest":s.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());break;case"oldest":s.sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime());break;case"helpful":s.sort((e,t)=>t.helpfulVotes-t.notHelpfulVotes-(e.helpfulVotes-e.notHelpfulVotes));break;case"rating":s.sort((e,t)=>t.rating-e.rating);break;default:s.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())}return s},[r]),h=(0,s.useCallback)(e=>o.hasOwnProperty(e),[o]),E=(0,s.useCallback)(e=>!h(e),[h]);return(0,a.jsx)(l.Provider,{value:{techniqueRatings:r,userReviews:o,addReview:u,updateReview:g,deleteReview:S,getTechniqueRating:f,getUserReview:d,voteReview:p,getReviews:v,hasUserReviewed:h,canUserReview:E},children:t})}function o(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useReviews must be used within a ReviewProvider");return e}}}]);