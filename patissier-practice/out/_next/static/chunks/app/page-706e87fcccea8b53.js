(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2062:function(e,s,t){Promise.resolve().then(t.bind(t,9762))},9762:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return tq}});var a=t(7437),r=t(2265),l=t(5293),i=t(535),n=t(1994),c=t(3335);function o(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,c.m6)((0,n.W)(s))}let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),m=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:n=!1,...c}=e,m=n?l.g7:"button";return(0,a.jsx)(m,{className:o(d({variant:r,size:i,className:t})),ref:s,...c})});m.displayName="Button";var x=t(5317),u=t(1769),h=t(9474),g=t(4972),p=t(525),f=t(8997),j=t(883),v=t(9224);function N(e){let{onFavoritesClick:s,onProgressClick:t}=e,{favoriteTechniques:r,bookmarkedTechniques:l}=(0,j.r)(),{userProgress:i,getOverallProgress:n}=(0,v.S)(),c=r.length+l.length,o=n();return(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:(0,a.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"h-8 w-8 text-primary"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Patissier Practice"})]}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center gap-6",children:[(0,a.jsxs)("a",{href:"#techniques",className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),"Techniques"]}),(0,a.jsxs)("a",{href:"#paths",className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),"Learning Paths"]}),(0,a.jsxs)("a",{href:"#quizzes",className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"}),"Quizzes"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m,{variant:"ghost",size:"sm",className:"relative",onClick:t,children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Progress",o>0&&(0,a.jsxs)("span",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:[o,"%"]})]}),(0,a.jsxs)(m,{variant:"ghost",size:"sm",className:"relative",onClick:s,children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Favorites",c>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full h-5 w-5 flex items-center justify-center",children:c})]}),(0,a.jsx)(m,{variant:"outline",size:"sm",children:"Sign In"}),(0,a.jsx)(m,{size:"sm",children:"Get Started"})]})]})})}let b=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("rounded-xl border bg-card text-card-foreground shadow",t),...r})});b.displayName="Card";let y=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("flex flex-col space-y-1.5 p-6",t),...r})});y.displayName="CardHeader";let w=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("font-semibold leading-none tracking-tight",t),...r})});w.displayName="CardTitle",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let k=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("p-6 pt-0",t),...r})});k.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";var C=t(6595),S=t(3276);function Z(){return(0,a.jsx)("section",{className:"py-20 px-4",children:(0,a.jsxs)("div",{className:"container mx-auto text-center",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-secondary/20 text-secondary-foreground px-4 py-2 rounded-full text-sm font-medium",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4"}),"AI-Powered Learning Platform"]})}),(0,a.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold text-balance mb-6",children:["Master the Art of ",(0,a.jsx)("span",{className:"text-primary",children:"Pastry"})]}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground text-balance mb-8 max-w-2xl mx-auto",children:"From beginner basics to advanced techniques, learn pastry arts with interactive lessons, step-by-step videos, and AI-powered feedback on your creations."}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[(0,a.jsxs)(m,{size:"lg",className:"text-lg px-8",children:[(0,a.jsx)(x.Z,{className:"mr-2 h-5 w-5"}),"Start Learning"]}),(0,a.jsxs)(m,{variant:"outline",size:"lg",className:"text-lg px-8 bg-transparent",children:[(0,a.jsx)(S.Z,{className:"mr-2 h-5 w-5"}),"Watch Demo"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[(0,a.jsxs)(b,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(u.Z,{className:"h-6 w-6 text-primary"})}),(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"500+ Techniques"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Comprehensive library of pastry techniques with videos and step-by-step guides"})]}),(0,a.jsxs)(b,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(h.Z,{className:"h-6 w-6 text-secondary"})}),(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Progressive Paths"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Structured learning from beginner to advanced with unlockable achievements"})]}),(0,a.jsxs)(b,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(g.Z,{className:"h-6 w-6 text-primary"})}),(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"AI Feedback"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload photos of your creations and get instant AI-powered improvement tips"})]})]})]})})}var A=t(200);let q=A.fC,R=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(A.aV,{ref:s,className:o("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...r})});R.displayName=A.aV.displayName;let I=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(A.xz,{ref:s,className:o("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...r})});I.displayName=A.xz.displayName;let T=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(A.VY,{ref:s,className:o("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});T.displayName=A.VY.displayName;var z=t(1817);let P=window.location.origin+"/api";class L{async fetchApi(e,s){try{let t=await fetch("".concat(P).concat(e),{headers:{"Content-Type":"application/json",...null==s?void 0:s.headers},...s});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(s){return console.error("API Error for ".concat(e,":"),s),{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}}async getTechniques(e){let s=new URLSearchParams;(null==e?void 0:e.category)&&s.append("category",e.category),(null==e?void 0:e.difficulty)&&s.append("difficulty",e.difficulty),(null==e?void 0:e.duration)&&s.append("duration",e.duration),(null==e?void 0:e.rating)&&s.append("rating",e.rating.toString()),(null==e?void 0:e.tags)&&s.append("tags",e.tags.join(",")),(null==e?void 0:e.search)&&s.append("search",e.search);let t=s.toString(),a=await this.fetchApi("/content/techniques".concat(t?"?".concat(t):""));if(a.success&&a.data)return a;{console.warn("API not available, using mock data:",a.error);let s=this.getMockTechniques();return{success:!0,data:this.filterMockTechniques(s,e)}}}filterMockTechniques(e,s){return s?e.filter(e=>{if(s.category&&e.category!==s.category||s.difficulty&&e.difficulty!==s.difficulty)return!1;if(s.duration){let t=e.duration;if(!this.matchesDurationFilter(t,s.duration))return!1}if(s.rating&&e.rating<s.rating||s.tags&&s.tags.length>0&&!s.tags.some(s=>e.tags.some(e=>e.toLowerCase().includes(s.toLowerCase()))))return!1;if(s.search){let t=s.search.toLowerCase();if(!(e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t))))return!1}return!0}):e}matchesDurationFilter(e,s){let t=this.parseDurationToMinutes(e);switch(s){case"0-15":return t<=15;case"15-30":return t>15&&t<=30;case"30-60":return t>30&&t<=60;case"60+":return t>60;default:return!0}}parseDurationToMinutes(e){let s=e.match(/(\d+)\s*(min|hour|h|m)/i);if(!s)return 0;let t=parseInt(s[1]),a=s[2].toLowerCase();return"hour"===a||"h"===a?60*t:t}async getTechniqueById(e){return this.fetchApi("/content/techniques/".concat(e))}async getTechniquesByCategory(e){return this.fetchApi("/content/techniques/category/".concat(e))}async searchTechniques(e){return this.fetchApi("/content/techniques/search?q=".concat(encodeURIComponent(e)))}async getLearningPaths(e){let s=new URLSearchParams;(null==e?void 0:e.level)&&s.append("level",e.level),(null==e?void 0:e.duration)&&s.append("duration",e.duration),(null==e?void 0:e.unlocked)!==void 0&&s.append("unlocked",e.unlocked.toString()),(null==e?void 0:e.search)&&s.append("search",e.search);let t=s.toString();return this.fetchApi("/content/paths".concat(t?"?".concat(t):""))}async getLearningPathById(e){return this.fetchApi("/content/paths/".concat(e))}async getQuizzes(e){let s=new URLSearchParams;(null==e?void 0:e.difficulty)&&s.append("difficulty",e.difficulty),(null==e?void 0:e.category)&&s.append("category",e.category),(null==e?void 0:e.type)&&s.append("type",e.type),(null==e?void 0:e.completed)!==void 0&&s.append("completed",e.completed.toString()),(null==e?void 0:e.search)&&s.append("search",e.search);let t=s.toString();return this.fetchApi("/content/quizzes".concat(t?"?".concat(t):""))}async getQuizById(e){return this.fetchApi("/content/quizzes/".concat(e))}getMockTechniques(){return[{id:1,title:"Basic Choux Pastry",description:"Master the foundation of \xe9clairs, profiteroles, and cream puffs",duration:"15 min",difficulty:"Beginner",rating:4.8,students:1250,image:"/choux-pastry-being-piped.jpg",category:"Fundamentals",videoUrl:"/videos/choux-pastry-basics.mp4",steps:[{id:1,stepNumber:1,title:"Heat water and butter",description:"Bring water and butter to a rolling boil in a saucepan",duration:"3 min",tips:["Use unsalted butter for better control","Don't let it boil too long"]},{id:2,stepNumber:2,title:"Add flour and cook out",description:"Add flour all at once and stir vigorously until a smooth paste forms",duration:"2 min",tips:["Stir continuously to prevent lumps","Cook until the paste pulls away from the pan"]}],tags:["choux","pastry","basics","french"],createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:2,title:"Perfect P\xe2te Bris\xe9e",description:"Learn the classic short pastry for tarts and quiches",duration:"12 min",difficulty:"Beginner",rating:4.9,students:980,image:"/rolling-pastry-dough.jpg",category:"Fundamentals",videoUrl:"/videos/pate-brisee-perfect.mp4",steps:[{id:3,stepNumber:1,title:"Mix dry ingredients",description:"Combine flour and salt in a large bowl",duration:"1 min",tips:["Use cold ingredients","Don't overmix"]}],tags:["pastry","tart","quiche","french"],createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:3,title:"Tempering Chocolate",description:"Achieve the perfect shine and snap in your chocolate work",duration:"20 min",difficulty:"Intermediate",rating:4.7,students:750,image:"/tempering-chocolate-on-marble.jpg",category:"Fundamentals",videoUrl:"/videos/chocolate-tempering.mp4",steps:[{id:4,stepNumber:1,title:"Melt chocolate",description:"Melt 2/3 of the chocolate in a double boiler",duration:"5 min",tips:["Don't let water touch the chocolate","Stir gently"]}],tags:["chocolate","tempering","technique","desserts"],createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"}]}getMockLearningPaths(){return[{id:1,title:"Beginner Baker",description:"Start your pastry journey with fundamental techniques and basic recipes",shortDescription:"Fundamental pastry techniques for beginners",level:"Beginner",duration:"4-6 weeks",estimatedHours:8,difficulty:"Beginner",modules:[],tags:["beginner","fundamentals"],color:"bg-green-500",isUnlocked:!0,isRecommended:!0,isFeatured:!1,completionRate:75,averageRating:4.5,totalStudents:1200,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"}]}getMockQuizzes(){return[]}}let F=new L;function M(e){let[s,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[i,n]=(0,r.useState)(null),[c,o]=(0,r.useState)(e),d=(0,r.useCallback)(async e=>{l(!0),n(null);try{let s=await F.getTechniques(e);s.success&&s.data?t(s.data):(console.warn("API not available, using mock data:",s.error),t(F.getMockTechniques()))}catch(e){console.error("Error fetching techniques:",e),n(e instanceof Error?e.message:"Failed to fetch techniques"),t(F.getMockTechniques())}finally{l(!1)}},[]),m=(0,r.useCallback)(async()=>{await d(c)},[d,c]),x=(0,r.useCallback)(async e=>{let s={...c,search:e};await d(s)},[c,d]),u=(0,r.useCallback)(async e=>{o(e),await d(e)},[d]);return(0,r.useEffect)(()=>{d(e)},[d,e]),{techniques:s,loading:a,error:i,refetch:m,searchTechniques:x,filterTechniques:u}}var E=t(9009),D=t(2489);let B=E.fC;E.xz;let U=E.h_;E.x8;let O=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(E.aV,{ref:s,className:o("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});O.displayName=E.aV.displayName;let V=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(U,{children:[(0,a.jsx)(O,{}),(0,a.jsxs)(E.VY,{ref:s,className:o("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[r,(0,a.jsxs)(E.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});V.displayName=E.VY.displayName;let Y=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:o("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};Y.displayName="DialogHeader";let Q=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(E.Dx,{ref:s,className:o("text-lg font-semibold leading-none tracking-tight",t),...r})});Q.displayName=E.Dx.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(E.dk,{ref:s,className:o("text-sm text-muted-foreground",t),...r})}).displayName=E.dk.displayName;let H=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function G(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:o(H({variant:t}),s),...r})}var W=t(7796);let _=r.forwardRef((e,s)=>{let{className:t,value:r,...l}=e;return(0,a.jsx)(W.fC,{ref:s,className:o("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...l,children:(0,a.jsx)(W.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});_.displayName=W.fC.displayName;var K=t(8728),J=t(4415),$=t(5884),X=t(9227),ee=t(5274),es=t(1548),et=t(8623),ea=t(1706),er=t(9076);function el(e){let{src:s,poster:t,title:l,className:i,autoPlay:n=!1,muted:c=!1,onProgress:d,onComplete:x,onPlay:u,onPause:h}=e,g=(0,r.useRef)(null),p=(0,r.useRef)(null),[f,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(0),[b,y]=(0,r.useState)(0),[w,k]=(0,r.useState)(1),[C,Z]=(0,r.useState)(c),[A,q]=(0,r.useState)(!1),[R,I]=(0,r.useState)(!0),[T,z]=(0,r.useState)(!0),[P,L]=(0,r.useState)(1),[F,M]=(0,r.useState)(!1),E=(0,r.useCallback)(()=>{if(g.current){let e=g.current.currentTime,s=g.current.duration;N(e),null==d||d(e,s)}},[d]),D=(0,r.useCallback)(()=>{g.current&&(f?(g.current.pause(),j(!1),null==h||h()):(g.current.play(),j(!0),null==u||u()))},[f,u,h]),B=(0,r.useCallback)(e=>{g.current&&(g.current.volume=e,k(e),Z(0===e))},[]),U=(0,r.useCallback)(()=>{g.current&&(C?(g.current.volume=w,Z(!1)):(g.current.volume=0,Z(!0)))},[C,w]),O=(0,r.useCallback)(e=>{g.current&&(g.current.currentTime=e,N(e))},[]),V=(0,r.useCallback)(()=>{if(document.fullscreenElement)document.exitFullscreen(),q(!1);else{var e;null===(e=p.current)||void 0===e||e.requestFullscreen(),q(!0)}},[]),Y=(0,r.useCallback)(e=>{g.current&&(g.current.playbackRate=e,L(e))},[]),Q=(0,r.useCallback)(e=>{g.current&&O(Math.max(0,Math.min(b,v+e)))},[v,b,O]),H=(0,r.useCallback)(e=>"".concat(Math.floor(e/60),":").concat(Math.floor(e%60).toString().padStart(2,"0")),[]);(0,r.useEffect)(()=>{let e=g.current;if(!e)return;let s=()=>{y(e.duration),z(!1)},t=()=>{E()},a=()=>{j(!1),null==x||x()},r=()=>{j(!0),null==u||u()},l=()=>{j(!1),null==h||h()},i=()=>{k(e.volume),Z(e.muted)},n=()=>{q(!!document.fullscreenElement)};return e.addEventListener("loadedmetadata",s),e.addEventListener("timeupdate",t),e.addEventListener("ended",a),e.addEventListener("play",r),e.addEventListener("pause",l),e.addEventListener("volumechange",i),document.addEventListener("fullscreenchange",n),()=>{e.removeEventListener("loadedmetadata",s),e.removeEventListener("timeupdate",t),e.removeEventListener("ended",a),e.removeEventListener("play",r),e.removeEventListener("pause",l),e.removeEventListener("volumechange",i),document.removeEventListener("fullscreenchange",n)}},[E,x,u,h]),(0,r.useEffect)(()=>{n&&g.current&&g.current.play()},[n]),(0,r.useEffect)(()=>{let e;let s=()=>{I(!0),clearTimeout(e),e=setTimeout(()=>I(!1),3e3)},t=p.current;if(t)return t.addEventListener("mousemove",s),()=>{t.removeEventListener("mousemove",s),clearTimeout(e)}},[]);let G=b>0?v/b*100:0;return(0,a.jsxs)("div",{ref:p,className:o("relative group bg-black rounded-lg overflow-hidden",A&&"fixed inset-0 z-50 rounded-none",i),onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),children:[(0,a.jsx)("video",{ref:g,src:s,poster:t,className:"w-full h-full object-cover",preload:"metadata",playsInline:!0}),T&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})}),(0,a.jsxs)("div",{className:o("absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent transition-opacity duration-300",R?"opacity-100":"opacity-0"),children:[(0,a.jsxs)("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between",children:[l&&(0,a.jsx)("h3",{className:"text-white font-medium text-lg truncate max-w-md",children:l}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>M(!F),className:"text-white hover:bg-white/20",children:(0,a.jsx)(K.Z,{className:"h-4 w-4"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:V,className:"text-white hover:bg-white/20",children:A?(0,a.jsx)(J.Z,{className:"h-4 w-4"}):(0,a.jsx)($.Z,{className:"h-4 w-4"})})]})]}),F&&(0,a.jsx)("div",{className:"absolute top-12 right-4 bg-black/80 backdrop-blur-sm rounded-lg p-4 min-w-48",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-white text-sm font-medium block mb-2",children:"Playback Speed"}),(0,a.jsx)("div",{className:"flex gap-2",children:[.5,.75,1,1.25,1.5,2].map(e=>(0,a.jsxs)(m,{variant:P===e?"default":"outline",size:"sm",onClick:()=>Y(e),className:"text-xs",children:[e,"x"]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-white text-sm font-medium block mb-2",children:"Volume"}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:C?0:w,onChange:e=>B(parseFloat(e.target.value)),className:"w-full"})]})]})}),!f&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(m,{size:"lg",onClick:D,className:"w-16 h-16 rounded-full bg-white/20 hover:bg-white/30 text-white",children:(0,a.jsx)(S.Z,{className:"h-8 w-8 ml-1"})})}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(_,{value:G,className:"h-1 cursor-pointer",onClick:e=>{let s=e.currentTarget.getBoundingClientRect();O((e.clientX-s.left)/s.width*b)}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:D,className:"text-white hover:bg-white/20",children:f?(0,a.jsx)(X.Z,{className:"h-5 w-5"}):(0,a.jsx)(S.Z,{className:"h-5 w-5"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>Q(-10),className:"text-white hover:bg-white/20",children:(0,a.jsx)(ee.Z,{className:"h-4 w-4"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>Q(10),className:"text-white hover:bg-white/20",children:(0,a.jsx)(es.Z,{className:"h-4 w-4"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:U,className:"text-white hover:bg-white/20",children:C?(0,a.jsx)(et.Z,{className:"h-4 w-4"}):(0,a.jsx)(ea.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"text-white text-sm font-mono",children:[H(v)," / ",H(b)]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>O(0),className:"text-white hover:bg-white/20",children:(0,a.jsx)(er.Z,{className:"h-4 w-4"})})})]})]})]})]})}var ei=t(1723),en=t(2451),ec=t(407),eo=t(5802),ed=t(3391),em=t(5846),ex=t(6865);function eu(e){let{steps:s,currentStep:t=0,onStepChange:l,className:i,showNavigation:n=!0,showThumbnails:c=!0,autoPlay:d=!1,autoPlayInterval:x=3e3}=e,[u,h]=(0,r.useState)(t),[g,p]=(0,r.useState)(!1),[f,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(1),[b,y]=(0,r.useState)(0),[w,k]=(0,r.useState)(!0),[C,Z]=(0,r.useState)(!0),A=(0,r.useRef)(null),q=(0,r.useRef)(null),R=s[u];if(!R)return(0,a.jsx)("div",{className:"w-full h-96 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No step data available"})});let I=e=>{e>=0&&e<s.length&&(h(e),null==l||l(e))},T=()=>{u<s.length-1&&I(u+1)},z=()=>{u>0&&I(u-1)},P=()=>{f?(q.current&&(clearInterval(q.current),q.current=null),j(!1)):j(!0)};return((0,r.useEffect)(()=>(f&&d?q.current=setInterval(()=>{u<s.length-1?T():j(!1)},x):q.current&&(clearInterval(q.current),q.current=null),()=>{q.current&&clearInterval(q.current)}),[f,u,s.length,d,x]),(0,r.useEffect)(()=>{let e=e=>{if(g)switch(e.key){case"ArrowLeft":e.preventDefault(),z();break;case"ArrowRight":e.preventDefault(),T();break;case" ":e.preventDefault(),P();break;case"Escape":e.preventDefault(),g&&(document.exitFullscreen(),p(!1))}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[u,g]),(0,r.useEffect)(()=>{h(t)},[t]),R)?(0,a.jsxs)("div",{ref:A,className:o("relative bg-black rounded-lg overflow-hidden",g&&"fixed inset-0 z-50 rounded-none",i),children:[(0,a.jsxs)("div",{className:"relative aspect-video bg-gray-900",children:[R.image?(0,a.jsx)("img",{src:R.image,alt:R.title,className:"w-full h-full object-contain",style:{transform:"scale(".concat(v,") rotate(").concat(b,"deg)"),transition:"transform 0.3s ease"}}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(ei.Z,{className:"h-8 w-8"})}),(0,a.jsx)("p",{className:"text-lg font-medium",children:R.title}),(0,a.jsx)("p",{className:"text-sm",children:"No image available for this step"})]})}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent",children:[(0,a.jsxs)("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(G,{variant:"secondary",className:"bg-white/90 text-gray-900",children:["Step ",u+1," of ",s.length]}),R.duration&&(0,a.jsxs)(G,{variant:"secondary",className:"bg-white/90 text-gray-900",children:[(0,a.jsx)(ei.Z,{className:"h-3 w-3 mr-1"}),R.duration]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>{if(g)document.exitFullscreen(),p(!1);else{var e;null===(e=A.current)||void 0===e||e.requestFullscreen(),p(!0)}},className:"text-white hover:bg-white/20",children:g?(0,a.jsx)(J.Z,{className:"h-4 w-4"}):(0,a.jsx)($.Z,{className:"h-4 w-4"})})})]}),d&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(m,{size:"lg",onClick:P,className:"w-16 h-16 rounded-full bg-white/20 hover:bg-white/30 text-white",children:f?(0,a.jsx)(X.Z,{className:"h-8 w-8"}):(0,a.jsx)(S.Z,{className:"h-8 w-8 ml-1"})})}),(0,a.jsx)("div",{className:"absolute bottom-4 left-4 right-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:z,disabled:0===u,className:"text-white hover:bg-white/20 disabled:opacity-50",children:(0,a.jsx)(en.Z,{className:"h-4 w-4"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:T,disabled:u===s.length-1,className:"text-white hover:bg-white/20 disabled:opacity-50",children:(0,a.jsx)(ec.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>N(e=>Math.max(e-.25,.5)),className:"text-white hover:bg-white/20",children:(0,a.jsx)(eo.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("span",{className:"text-white text-sm font-mono min-w-[3rem] text-center",children:[Math.round(100*v),"%"]}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>N(e=>Math.min(e+.25,3)),className:"text-white hover:bg-white/20",children:(0,a.jsx)(ed.Z,{className:"h-4 w-4"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>y(e=>(e+90)%360),className:"text-white hover:bg-white/20",children:(0,a.jsx)(er.Z,{className:"h-4 w-4"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>{N(1),y(0)},className:"text-white hover:bg-white/20",children:"Reset"})]})]})})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-background",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:R.title}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:R.description})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[R.tips&&R.tips.length>0&&(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>k(!w),className:o("text-blue-600 hover:bg-blue-50",w&&"bg-blue-50"),children:[(0,a.jsx)(em.Z,{className:"h-4 w-4 mr-1"}),"Tips"]}),R.warnings&&R.warnings.length>0&&(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>Z(!C),className:o("text-orange-600 hover:bg-orange-50",C&&"bg-orange-50"),children:[(0,a.jsx)(ex.Z,{className:"h-4 w-4 mr-1"}),"Warnings"]})]})]}),(w||C)&&(0,a.jsxs)("div",{className:"space-y-3",children:[w&&R.tips&&R.tips.length>0&&(0,a.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("h4",{className:"font-medium text-blue-900 mb-2 flex items-center gap-2",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4"}),"Tips"]}),(0,a.jsx)("ul",{className:"space-y-1",children:R.tips.map((e,s)=>(0,a.jsxs)("li",{className:"text-sm text-blue-800 flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),e]},s))})]}),C&&R.warnings&&R.warnings.length>0&&(0,a.jsxs)("div",{className:"p-3 bg-orange-50 rounded-lg",children:[(0,a.jsxs)("h4",{className:"font-medium text-orange-900 mb-2 flex items-center gap-2",children:[(0,a.jsx)(ex.Z,{className:"h-4 w-4"}),"Warnings"]}),(0,a.jsx)("ul",{className:"space-y-1",children:R.warnings.map((e,s)=>(0,a.jsxs)("li",{className:"text-sm text-orange-800 flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-orange-500 mt-1",children:"•"}),e]},s))})]})]})]}),c&&s.length>1&&(0,a.jsx)("div",{className:"p-4 bg-muted/30 border-t",children:(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map((e,s)=>(0,a.jsx)("button",{onClick:()=>I(s),className:o("flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all",u===s?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"),children:e.image?(0,a.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:(0,a.jsx)(ei.Z,{className:"h-6 w-6 text-muted-foreground"})})},e.id))})}),n&&s.length>1&&(0,a.jsx)("div",{className:"px-4 pb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground min-w-[3rem]",children:[u+1,"/",s.length]}),(0,a.jsx)("div",{className:"flex-1 bg-muted rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:"".concat((u+1)/s.length*100,"%")}})}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round((u+1)/s.length*100),"%"]})]})})]}):(0,a.jsx)("div",{className:o("flex items-center justify-center h-64 bg-muted rounded-lg",i),children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No steps available"})})}var eh=t(927),eg=t(5275),ep=t(1178);function ef(e){let{techniqueId:s,type:t,size:l="md",variant:i="ghost",showLabel:n=!1,className:c,onToggle:d}=e,[x,u]=(0,r.useState)(!1),{isFavorite:h,isBookmarked:g,toggleFavorite:p,toggleBookmark:v}=(0,j.r)(),N="favorite"===t?h(s):g(s),b="favorite"===t?p:v,y=async()=>{u(!0);try{b(s),null==d||d(!N)}catch(e){console.error("Error toggling ".concat(t,":"),e)}finally{u(!1)}};return(0,a.jsxs)(m,{variant:i,size:"md"===l?"default":l,onClick:y,disabled:x,className:o("transition-all duration-200",N&&"favorite"===t&&"text-red-500 hover:text-red-600 hover:bg-red-50",N&&"bookmark"===t&&"text-blue-500 hover:text-blue-600 hover:bg-blue-50",!N&&"text-muted-foreground hover:text-foreground",n&&"gap-2",(()=>{switch(l){case"sm":return"h-8 w-8 p-0";case"md":default:return"h-9 w-9 p-0";case"lg":return"h-10 w-10 p-0"}})(),c),children:[x?(0,a.jsx)(z.Z,{className:"h-4 w-4 animate-spin"}):"favorite"===t?N?(0,a.jsx)(f.Z,{className:"h-4 w-4 fill-current"}):(0,a.jsx)(eh.Z,{className:"h-4 w-4"}):N?(0,a.jsx)(eg.Z,{className:"h-4 w-4 fill-current"}):(0,a.jsx)(ep.Z,{className:"h-4 w-4"}),n&&(0,a.jsx)("span",{className:(()=>{switch(l){case"sm":return"text-xs";case"md":default:return"text-sm";case"lg":return"text-base"}})(),children:"favorite"===t?N?"Remove from Favorites":"Add to Favorites":N?"Remove Bookmark":"Bookmark"})]})}function ej(e){let{techniqueId:s,type:t,className:r}=e,{isFavorite:l,isBookmarked:i}=(0,j.r)();return("favorite"===t?l(s):i(s))?(0,a.jsxs)(G,{variant:"secondary",className:o("absolute top-2 right-2 z-10","favorite"===t&&"bg-red-100 text-red-800 border-red-200","bookmark"===t&&"bg-blue-100 text-blue-800 border-blue-200",r),children:["favorite"===t?(0,a.jsx)(f.Z,{className:"h-3 w-3 mr-1 fill-current"}):(0,a.jsx)(ep.Z,{className:"h-3 w-3 mr-1 fill-current"}),"favorite"===t?"Favorite":"Bookmarked"]}):null}var ev=t(1671),eN=t(8896),eb=t(1239),ey=t(3327);function ew(e){let{progress:s,total:t,completed:r,label:l,showPercentage:i=!0,showCount:n=!0,size:c="md",variant:d="default",className:m}=e,x=()=>{switch(c){case"sm":return"text-xs";case"md":default:return"text-sm";case"lg":return"text-base"}};return(0,a.jsxs)("div",{className:o("space-y-2",m),children:[l&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:o("font-medium text-foreground",x()),children:l}),n&&(0,a.jsxs)("span",{className:o("text-muted-foreground",x()),children:[r,"/",t]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(_,{value:s,className:o((()=>{switch(c){case"sm":return"h-2";case"md":default:return"h-3";case"lg":return"h-4"}})(),"w-full")}),i&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("span",{className:o("font-semibold text-white drop-shadow-sm",x()),children:[Math.round(s),"%"]})})]})]})}function ek(e){let{techniqueId:s,title:t,progress:r,isCompleted:l,timeSpent:i,lastAccessed:n,difficulty:c,onToggleComplete:d,className:m}=e;return(0,a.jsxs)(b,{className:o("group hover:shadow-md transition-all duration-200",m),children:[(0,a.jsx)(y,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)(w,{className:"text-lg text-balance flex-1",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)(G,{className:(e=>{switch(e){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(c),children:c}),l&&(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-green-500"})]})]})}),(0,a.jsxs)(k,{className:"space-y-4",children:[(0,a.jsx)(ew,{progress:r,total:100,completed:Math.round(r),showPercentage:!0,showCount:!1,size:"md",variant:l?"success":"default"}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),(e=>{if(e<60)return"".concat(e,"m");let s=Math.floor(e/60),t=e%60;return t>0?"".concat(s,"h ").concat(t,"m"):"".concat(s,"h")})(i)]}),n&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eN.Z,{className:"h-4 w-4"}),(e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/864e5);return 0===t?"Today":1===t?"Yesterday":t<7?"".concat(t," days ago"):s.toLocaleDateString()})(n)]})]}),d&&(0,a.jsx)("button",{onClick:()=>d(s),className:o("px-3 py-1 rounded-full text-xs font-medium transition-colors",l?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:l?"Mark Incomplete":"Mark Complete"})]})]})]})}function eC(e){let{level:s,experience:t,nextLevelExperience:r,totalTechniquesCompleted:l,totalTimeSpent:i,currentStreak:n,longestStreak:c,className:d}=e,m=t/r*100;return(0,a.jsxs)(b,{className:o("bg-gradient-to-br from-primary/5 to-primary/10",d),children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5 text-primary"}),"Your Progress"]})}),(0,a.jsxs)(k,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"font-medium",children:["Level ",s]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[t,"/",r," XP"]})]}),(0,a.jsx)(ew,{progress:m,total:100,completed:t,showPercentage:!0,showCount:!1,size:"md",variant:"success"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-background/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"font-semibold text-lg",children:l})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Techniques Completed"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-background/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)("span",{className:"font-semibold text-lg",children:(e=>{if(e<60)return"".concat(e,"m");let s=Math.floor(e/60),t=e%60;return t>0?"".concat(s,"h ").concat(t,"m"):"".concat(s,"h")})(i)})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Time Spent"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-background/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,a.jsx)(eb.Z,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsx)("span",{className:"font-semibold text-lg",children:n})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Current Streak"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-background/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,a.jsx)(ey.Z,{className:"h-4 w-4 text-purple-500"}),(0,a.jsx)("span",{className:"font-semibold text-lg",children:c})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Best Streak"})]})]})]})]})}function eS(e){let{rating:s,maxRating:t=5,size:l="md",interactive:i=!1,showValue:n=!1,showCount:c=!1,count:d,onRatingChange:m,className:x}=e,[u,h]=(0,r.useState)(0),[g,p]=(0,r.useState)(!1),f=()=>{switch(l){case"sm":return"h-3 w-3";case"md":default:return"h-4 w-4";case"lg":return"h-5 w-5"}},j=g?u:s,v=e=>{i&&(h(e+1),p(!0))},N=e=>{i&&m&&m(e+1)};return(0,a.jsxs)("div",{className:o("flex items-center gap-1",x),children:[(0,a.jsx)("div",{className:"flex items-center gap-0.5",onMouseLeave:()=>{i&&(h(0),p(!1))},children:Array.from({length:t},(e,s)=>{let t=s<j,r=s===Math.floor(j)&&j%1!=0;return(0,a.jsx)("button",{type:"button",className:o("transition-colors duration-150",i&&"cursor-pointer hover:scale-110",!i&&"cursor-default"),onMouseEnter:()=>v(s),onClick:()=>N(s),disabled:!i,children:(0,a.jsx)(C.Z,{className:o(f(),t||r?"fill-yellow-400 text-yellow-400":"text-gray-300",i&&"hover:fill-yellow-300 hover:text-yellow-300")})},s)})}),(n||c)&&(0,a.jsxs)("div",{className:o("ml-2 text-muted-foreground",(()=>{switch(l){case"sm":return"text-xs";case"md":default:return"text-sm";case"lg":return"text-base"}})()),children:[n&&(0,a.jsx)("span",{className:"font-medium",children:s.toFixed(1)}),n&&c&&void 0!==d&&(0,a.jsx)("span",{className:"mx-1",children:"•"}),c&&void 0!==d&&(0,a.jsxs)("span",{children:["(",d,")"]})]})]})}function eZ(e){let{distribution:s,totalRatings:t,className:r}=e,l=e=>t>0?e/t*100:0;return(0,a.jsx)("div",{className:o("space-y-2",r),children:[5,4,3,2,1].map(e=>{let t=s[e],r=l(t);return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 w-8",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e}),(0,a.jsx)(C.Z,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"})]}),(0,a.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:"".concat(r,"%")}})}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground w-8 text-right",children:t})]},e)})})}var eA=t(9322),eq=t(2720);function eR(e){let{techniqueId:s,techniqueTitle:t,initialReview:l,onSubmit:i,onCancel:n,className:c}=e,[d,x]=(0,r.useState)((null==l?void 0:l.rating)||0),[u,h]=(0,r.useState)((null==l?void 0:l.title)||""),[g,p]=(0,r.useState)((null==l?void 0:l.content)||""),[f,j]=(0,r.useState)((null==l?void 0:l.difficulty)||"Beginner"),[v,N]=(0,r.useState)((null==l?void 0:l.timeSpent)||0),[S,Z]=(0,r.useState)((null==l?void 0:l.tags)||[]),[A,q]=(0,r.useState)(""),[R,I]=(0,r.useState)({}),T=()=>{let e={};return 0===d&&(e.rating="Please select a rating"),u.trim()||(e.title="Please enter a review title"),g.trim()||(e.content="Please write your review"),g.trim().length<10&&(e.content="Review must be at least 10 characters long"),v<=0&&(e.timeSpent="Please enter the time spent"),I(e),0===Object.keys(e).length},z=()=>{let e=A.trim().toLowerCase();e&&!S.includes(e)&&(Z([...S,e]),q(""))},P=e=>{Z(S.filter(s=>s!==e))};return(0,a.jsxs)(b,{className:o("w-full max-w-2xl mx-auto",c),children:[(0,a.jsxs)(y,{children:[(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-5 w-5 text-yellow-500"}),l?"Edit Your Review":"Write a Review"]}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:['Share your experience with "',t,'"']})]}),(0,a.jsx)(k,{children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),T()&&i({techniqueId:s,rating:d,title:u.trim(),content:g.trim(),difficulty:f,timeSpent:v,tags:S})},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["Overall Rating ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eS,{rating:d,interactive:!0,onRatingChange:x,size:"lg"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:d>0&&"".concat(d," out of 5 stars")})]}),R.rating&&(0,a.jsxs)("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[(0,a.jsx)(eA.Z,{className:"h-3 w-3"}),R.rating]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{htmlFor:"title",className:"text-sm font-medium",children:["Review Title ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"title",type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"Summarize your experience in a few words",className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"}),R.title&&(0,a.jsxs)("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[(0,a.jsx)(eA.Z,{className:"h-3 w-3"}),R.title]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{htmlFor:"content",className:"text-sm font-medium",children:["Your Review ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("textarea",{id:"content",value:g,onChange:e=>p(e.target.value),placeholder:"Tell others about your experience. What did you like? What could be improved? Any tips for other learners?",rows:4,className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent resize-none"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:[g.length," characters"]}),(0,a.jsx)("span",{children:"Minimum 10 characters"})]}),R.content&&(0,a.jsxs)("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[(0,a.jsx)(eA.Z,{className:"h-3 w-3"}),R.content]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Perceived Difficulty"}),(0,a.jsx)("div",{className:"flex gap-2",children:[{value:"Beginner",label:"Beginner",color:"bg-green-100 text-green-800"},{value:"Intermediate",label:"Intermediate",color:"bg-yellow-100 text-yellow-800"},{value:"Advanced",label:"Advanced",color:"bg-red-100 text-red-800"}].map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>j(e.value),className:o("px-3 py-2 rounded-md text-sm font-medium transition-colors",f===e.value?e.color:"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{htmlFor:"timeSpent",className:"text-sm font-medium",children:["Time Spent (minutes) ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(ei.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("input",{id:"timeSpent",type:"number",min:"1",value:v,onChange:e=>N(parseInt(e.target.value)||0),placeholder:"30",className:"w-full pl-10 pr-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"})]}),R.timeSpent&&(0,a.jsxs)("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[(0,a.jsx)(eA.Z,{className:"h-3 w-3"}),R.timeSpent]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Tags (optional)"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(eq.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("input",{type:"text",value:A,onChange:e=>q(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),z())},placeholder:"Add a tag (e.g., 'challenging', 'fun', 'beginner-friendly')",className:"w-full pl-10 pr-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"})]}),(0,a.jsx)(m,{type:"button",variant:"outline",onClick:z,disabled:!A.trim(),children:"Add"})]}),S.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:S.map(e=>(0,a.jsxs)(G,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>P(e),className:"ml-1 hover:text-red-500",children:(0,a.jsx)(D.Z,{className:"h-3 w-3"})})]},e))})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(m,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),(0,a.jsxs)(m,{type:"submit",className:"flex-1",children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4 mr-2"}),l?"Update Review":"Submit Review"]})]})]})})]})}var eI=t(740),eT=t(2369),ez=t(1810),eP=t(7157);function eL(e){let{reviews:s,averageRating:t,totalRatings:l,ratingDistribution:i,onVote:n,onFilterChange:c,currentFilters:d,className:x}=e,[u,h]=(0,r.useState)(!1),g=e=>{switch(e){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/864e5);return 0===t?"Today":1===t?"Yesterday":t<7?"".concat(t," days ago"):t<30?"".concat(Math.floor(t/7)," weeks ago"):s.toLocaleDateString()},f=e=>{if(e<60)return"".concat(e,"m");let s=Math.floor(e/60),t=e%60;return t>0?"".concat(s,"h ").concat(t,"m"):"".concat(s,"h")},j=e=>{c({...d,sortBy:e})},v=e=>{c({...d,rating:e})},N=e=>{c({...d,verified:e})};return(0,a.jsxs)("div",{className:o("space-y-6",x),children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-5 w-5 text-yellow-500"}),"Reviews & Ratings"]})}),(0,a.jsx)(k,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl font-bold text-primary mb-2",children:t.toFixed(1)}),(0,a.jsx)(eS,{rating:t,size:"lg",showValue:!1,showCount:!0,count:l}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Based on ",l," review",1!==l?"s":""]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Rating Breakdown"}),(0,a.jsx)(eZ,{distribution:i,totalRatings:l})]})]})})]}),(0,a.jsx)(b,{children:(0,a.jsx)(k,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>h(!u),children:[(0,a.jsx)(eI.Z,{className:"h-4 w-4 mr-2"}),"Filters"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Sort by:"}),(0,a.jsxs)("select",{value:d.sortBy||"newest",onChange:e=>j(e.target.value),className:"px-3 py-1 border border-input rounded-md bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[(0,a.jsx)("option",{value:"newest",children:"Newest"}),(0,a.jsx)("option",{value:"oldest",children:"Oldest"}),(0,a.jsx)("option",{value:"helpful",children:"Most Helpful"}),(0,a.jsx)("option",{value:"rating",children:"Highest Rating"})]})]}),u&&(0,a.jsxs)("div",{className:"flex items-center gap-4 ml-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Rating:"}),(0,a.jsxs)("select",{value:d.rating||"",onChange:e=>v(e.target.value?parseInt(e.target.value):void 0),className:"px-3 py-1 border border-input rounded-md bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[(0,a.jsx)("option",{value:"",children:"All Ratings"}),(0,a.jsx)("option",{value:"5",children:"5 Stars"}),(0,a.jsx)("option",{value:"4",children:"4 Stars"}),(0,a.jsx)("option",{value:"3",children:"3 Stars"}),(0,a.jsx)("option",{value:"2",children:"2 Stars"}),(0,a.jsx)("option",{value:"1",children:"1 Star"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Verified:"}),(0,a.jsxs)("select",{value:void 0===d.verified?"":d.verified.toString(),onChange:e=>N(""===e.target.value?void 0:"true"===e.target.value),className:"px-3 py-1 border border-input rounded-md bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[(0,a.jsx)("option",{value:"",children:"All Reviews"}),(0,a.jsx)("option",{value:"true",children:"Verified Only"}),(0,a.jsx)("option",{value:"false",children:"Non-Verified Only"})]})]})]})]})})}),(0,a.jsx)("div",{className:"space-y-4",children:0===s.length?(0,a.jsx)(b,{children:(0,a.jsx)(k,{className:"p-8 text-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No reviews found matching your filters."})})}):s.map(e=>(0,a.jsx)(b,{className:"hover:shadow-md transition-shadow",children:(0,a.jsx)(k,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)(eT.Z,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.userName}),e.isVerified&&(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(eS,{rating:e.rating,size:"sm",showValue:!1}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:p(e.createdAt)})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(G,{className:g(e.difficulty),children:e.difficulty}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,a.jsx)(ei.Z,{className:"h-3 w-3"}),f(e.timeSpent)]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:e.content})]}),e.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map(e=>(0,a.jsx)(G,{variant:"secondary",className:"text-xs",children:e},e))}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{onClick:()=>n(e.id,!0),className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-primary transition-colors",children:[(0,a.jsx)(ez.Z,{className:"h-4 w-4"}),"Helpful (",e.helpfulVotes,")"]}),(0,a.jsxs)("button",{onClick:()=>n(e.id,!1),className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-destructive transition-colors",children:[(0,a.jsx)(eP.Z,{className:"h-4 w-4"}),"Not Helpful (",e.notHelpfulVotes,")"]})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.isVerified?"Verified Purchase":"Unverified"})]})]})})},e.id))})]})}var eF=t(3417),eM=t(9397),eE=t(5868),eD=t(8930),eB=t(7690);function eU(e){let{technique:s,isOpen:t,onClose:l,className:i}=e,[n,c]=(0,r.useState)("reviews"),[o,d]=(0,r.useState)(!1),[x,u]=(0,r.useState)({}),{getTechniqueRating:h,getUserReview:g,addReview:p,updateReview:f,deleteReview:j,getReviews:v,hasUserReviewed:N,canUserReview:b,voteReview:y}=(0,eB.D)(),w=h(s.id),k=g(s.id),S=v(s.id,x),Z=(null==w?void 0:w.averageRating)||s.rating,A=(null==w?void 0:w.totalRatings)||0,z=(null==w?void 0:w.ratingDistribution)||{1:0,2:0,3:0,4:0,5:0};return(0,a.jsx)(B,{open:t,onOpenChange:l,children:(0,a.jsx)(V,{className:"max-w-4xl max-h-[90vh] overflow-hidden p-0",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)(Y,{className:"p-6 pb-4 border-b",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(Q,{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-6 w-6 text-yellow-500"}),"Reviews & Ratings"]}),(0,a.jsxs)("p",{className:"text-muted-foreground text-lg",children:['"',s.title,'" - See what others think']})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 ml-4",children:(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:l,className:"text-muted-foreground hover:text-primary",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsxs)(q,{value:n,onValueChange:c,className:"h-full flex flex-col",children:[(0,a.jsxs)(R,{className:"grid w-full grid-cols-2 mx-6 mt-4",children:[(0,a.jsxs)(I,{value:"reviews",className:"flex items-center gap-2",children:[(0,a.jsx)(eF.Z,{className:"h-4 w-4"}),"Reviews (",S.length,")"]}),(0,a.jsxs)(I,{value:"write",className:"flex items-center gap-2",children:[(0,a.jsx)(eM.Z,{className:"h-4 w-4"}),"Write Review"]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,a.jsx)(T,{value:"reviews",className:"h-full mt-0",children:(0,a.jsxs)("div",{className:"p-6 h-full overflow-y-auto",children:[k&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-500"}),"Your Review"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>{d(!0)},children:[(0,a.jsx)(eE.Z,{className:"h-4 w-4 mr-1"}),"Edit"]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete your review?")&&j(s.id)},className:"text-destructive hover:text-destructive",children:[(0,a.jsx)(eD.Z,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eS,{rating:k.rating,size:"sm",showValue:!1}),(0,a.jsx)("span",{className:"font-medium",children:k.title})]}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:k.content}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Difficulty: ",k.difficulty]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["Time: ",k.timeSpent," min"]}),k.tags.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["Tags: ",k.tags.join(", ")]})]})]})]})]}),(0,a.jsx)(eL,{reviews:S,averageRating:Z,totalRatings:A,ratingDistribution:z,onVote:(e,s)=>{y(e,s)},onFilterChange:e=>{u(e)},currentFilters:x})]})}),(0,a.jsx)(T,{value:"write",className:"h-full mt-0",children:(0,a.jsx)("div",{className:"p-6 h-full overflow-y-auto",children:b(s.id)?(0,a.jsx)(eR,{techniqueId:s.id,techniqueTitle:s.title,initialReview:k||void 0,onSubmit:e=>{k?f(s.id,e):p(s.id,e),d(!1)},onCancel:()=>d(!1)}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(C.Z,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:N(s.id)?"You've Already Reviewed This Technique":"Complete the Technique to Review"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:N(s.id)?"You can edit your existing review from the Reviews tab.":"Please complete this technique before writing a review."}),(0,a.jsx)(m,{onClick:()=>c("reviews"),children:"View Reviews"})]})})})]})]})})]})})})}var eO=t(5805),eV=t(8919);function eY(e){let{technique:s,isOpen:t,onClose:l,onNext:i,onPrevious:n,hasNext:c=!1,hasPrevious:o=!1}=e,[d,x]=(0,r.useState)(0),[u,h]=(0,r.useState)("video"),[g,N]=(0,r.useState)(!1),{getTechniqueProgress:b,updateTechniqueProgress:y,markTechniqueComplete:w}=(0,v.S)(),{isFavorite:k,isBookmarked:Z}=(0,j.r)(),{getTechniqueRating:A}=(0,eB.D)(),z=s?b(s.id):null,P=s?A(s.id):null;return s?(0,a.jsxs)(B,{open:t,onOpenChange:l,children:[(0,a.jsx)(V,{className:"max-w-6xl max-h-[90vh] overflow-hidden p-0",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)(Y,{className:"p-6 pb-4 border-b",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(Q,{className:"text-2xl font-bold mb-2",children:s.title}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg mb-4",children:s.description})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[z&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[z.isCompleted&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-green-600",children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Completed"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm font-medium",children:[z.completionPercentage,"% Complete"]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[z.timeSpent," min spent"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[k(s.id)&&(0,a.jsxs)(G,{variant:"secondary",className:"bg-red-100 text-red-800",children:[(0,a.jsx)(f.Z,{className:"h-3 w-3 mr-1 fill-current"}),"Favorite"]}),Z(s.id)&&(0,a.jsxs)(G,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[(0,a.jsx)(ep.Z,{className:"h-3 w-3 mr-1 fill-current"}),"Bookmarked"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),s.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eO.Z,{className:"h-4 w-4"}),s.students.toLocaleString()," students"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.rating]}),(0,a.jsx)(G,{className:(e=>{switch(e){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(s.difficulty),children:s.difficulty})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)(ef,{techniqueId:s.id,type:"favorite",size:"sm",variant:"ghost"}),(0,a.jsx)(ef,{techniqueId:s.id,type:"bookmark",size:"sm",variant:"ghost"}),(0,a.jsx)(m,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-primary",children:(0,a.jsx)(eV.Z,{className:"h-4 w-4"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:l,className:"text-muted-foreground hover:text-primary",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsxs)(q,{value:u,onValueChange:h,className:"h-full flex flex-col",children:[(0,a.jsxs)(R,{className:"grid w-full grid-cols-4 mx-6 mt-4",children:[(0,a.jsxs)(I,{value:"video",className:"flex items-center gap-2",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4"}),"Video Tutorial"]}),(0,a.jsxs)(I,{value:"steps",className:"flex items-center gap-2",children:[(0,a.jsx)(eN.Z,{className:"h-4 w-4"}),"Step by Step"]}),(0,a.jsxs)(I,{value:"details",className:"flex items-center gap-2",children:[(0,a.jsx)(ey.Z,{className:"h-4 w-4"}),"Details"]}),(0,a.jsxs)(I,{value:"reviews",className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4"}),"Reviews",P&&P.totalRatings>0&&(0,a.jsx)("span",{className:"ml-1 text-xs bg-primary/20 text-primary px-1.5 py-0.5 rounded-full",children:P.totalRatings})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,a.jsx)(T,{value:"video",className:"h-full mt-0",children:(0,a.jsxs)("div",{className:"p-6 h-full space-y-4",children:[z&&z.completionPercentage>0&&(0,a.jsxs)("div",{className:"bg-muted/30 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4"}),"Your Progress"]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[z.timeSpent," min watched"]})]}),(0,a.jsx)(ew,{progress:z.completionPercentage,total:100,completed:z.completionPercentage,showPercentage:!0,showCount:!1,size:"md",variant:z.isCompleted?"success":"default"})]}),(0,a.jsx)(el,{src:s.videoUrl||"",poster:s.image,title:s.title,className:"h-full min-h-[400px]",onProgress:(e,t)=>{s&&y(s.id,{completionPercentage:Math.round(e/t*100),timeSpent:Math.round(e/60)})},onComplete:()=>{s&&w(s.id)}})]})}),(0,a.jsx)(T,{value:"steps",className:"h-full mt-0",children:(0,a.jsx)("div",{className:"p-6 h-full",children:(0,a.jsx)(eu,{steps:s.steps,currentStep:d,onStepChange:x,className:"h-full",showNavigation:!0,showThumbnails:!0,autoPlay:!1})})}),(0,a.jsx)(T,{value:"details",className:"h-full mt-0",children:(0,a.jsx)("div",{className:"p-6 h-full overflow-y-auto",children:(0,a.jsxs)("div",{className:"space-y-6",children:[z&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5"}),"Your Learning Progress"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[z.completionPercentage,"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Complete"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:z.timeSpent}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Minutes Spent"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:z.isCompleted?"✓":"○"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:z.isCompleted?"Completed":"In Progress"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"About This Technique"}),(0,a.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:s.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.tags.map((e,s)=>(0,a.jsx)(G,{variant:"secondary",children:e},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Prerequisites"}),s.prerequisites&&s.prerequisites.length>0?(0,a.jsx)("div",{className:"space-y-2",children:s.prerequisites.map((e,s)=>(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["• Prerequisite technique ",e]},s))}):(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"No prerequisites required"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Statistics"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Duration:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:s.duration})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Difficulty:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:s.difficulty})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Rating:"}),(0,a.jsxs)("span",{className:"ml-2 font-medium",children:[s.rating,"/5"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Students:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:s.students.toLocaleString()})]})]})]}),s.steps&&s.steps.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(em.Z,{className:"h-5 w-5"}),"Key Tips"]}),(0,a.jsx)("div",{className:"space-y-3",children:s.steps.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[e.tips&&e.tips.length>0&&(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,a.jsxs)("h4",{className:"font-medium text-blue-900 mb-2",children:["Step ",e.stepNumber,": ",e.title]}),(0,a.jsx)("ul",{className:"space-y-1",children:e.tips.map((e,s)=>(0,a.jsxs)("li",{className:"text-sm text-blue-800 flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),e]},s))})]}),e.warnings&&e.warnings.length>0&&(0,a.jsxs)("div",{className:"bg-orange-50 rounded-lg p-3",children:[(0,a.jsxs)("h4",{className:"font-medium text-orange-900 mb-2 flex items-center gap-2",children:[(0,a.jsx)(ex.Z,{className:"h-4 w-4"}),"Important Warnings"]}),(0,a.jsx)("ul",{className:"space-y-1",children:e.warnings.map((e,s)=>(0,a.jsxs)("li",{className:"text-sm text-orange-800 flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-orange-500 mt-1",children:"•"}),e]},s))})]})]},e.id))})]})]})})}),(0,a.jsx)(T,{value:"reviews",className:"h-full mt-0",children:(0,a.jsx)("div",{className:"p-6 h-full overflow-y-auto",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-muted/30 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Overall Rating"}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>N(!0),children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 mr-2"}),"View All Reviews"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-primary mb-2",children:P?P.averageRating.toFixed(1):s.rating}),(0,a.jsx)(eS,{rating:P?P.averageRating:s.rating,size:"lg",showValue:!1,showCount:!0,count:P?P.totalRatings:0}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Based on ",P?P.totalRatings:0," review",P&&1!==P.totalRatings?"s":""]})]}),P&&P.totalRatings>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Rating Breakdown"}),[5,4,3,2,1].map(e=>{let s=P.ratingDistribution[e],t=P.totalRatings>0?s/P.totalRatings*100:0;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 w-8",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e}),(0,a.jsx)(C.Z,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"})]}),(0,a.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:"".concat(t,"%")}})}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground w-8 text-right",children:s})]},e)})]})]})]}),P&&P.reviews.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Reviews"}),(0,a.jsx)("div",{className:"space-y-4",children:P.reviews.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-primary",children:e.userName.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.userName}),e.isVerified&&(0,a.jsx)(ev.Z,{className:"h-3 w-3 text-green-500"})]}),(0,a.jsx)(eS,{rating:e.rating,size:"sm",showValue:!1})]})]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,a.jsx)("h4",{className:"font-medium text-sm mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.content})]},e.id))}),P.reviews.length>3&&(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsxs)(m,{variant:"outline",onClick:()=>N(!0),children:["View All ",P.reviews.length," Reviews"]})})]}),(!P||0===P.reviews.length)&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(C.Z,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Reviews Yet"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Be the first to share your experience with this technique!"}),(0,a.jsxs)(m,{onClick:()=>N(!0),children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 mr-2"}),"Write a Review"]})]})]})})})]})]})}),(0,a.jsx)("div",{className:"p-6 pt-4 border-t",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[o&&(0,a.jsxs)(m,{variant:"outline",onClick:n,children:[(0,a.jsx)(en.Z,{className:"h-4 w-4 mr-1"}),"Previous"]}),c&&(0,a.jsxs)(m,{variant:"outline",onClick:i,children:["Next",(0,a.jsx)(ec.Z,{className:"h-4 w-4 ml-1"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[z&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mr-4",children:[(0,a.jsx)(ef,{techniqueId:s.id,type:"favorite",size:"sm",variant:"outline"}),(0,a.jsx)(ef,{techniqueId:s.id,type:"bookmark",size:"sm",variant:"outline"})]}),(0,a.jsx)(m,{variant:"outline",onClick:l,children:"Close"}),(0,a.jsx)(m,{onClick:()=>{"video"!==u?h("video"):l()},className:(null==z?void 0:z.isCompleted)?"bg-green-500 hover:bg-green-600":"",children:(null==z?void 0:z.isCompleted)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4 mr-2"}),"Review Technique"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),((null==z?void 0:z.completionPercentage)||0)>0?"Continue Learning":"Start Learning"]})})]})]})})]})}),(0,a.jsx)(eU,{technique:s,isOpen:g,onClose:()=>N(!1)})]}):null}var eQ=t(7188);let eH=eQ.fC,eG=eQ.xz,eW=r.forwardRef((e,s)=>{let{className:t,align:r="center",sideOffset:l=4,...i}=e;return(0,a.jsx)(eQ.h_,{children:(0,a.jsx)(eQ.VY,{ref:s,align:r,sideOffset:l,className:o("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});eW.displayName=eQ.VY.displayName;var e_=t(2542),eK=t(875),eJ=t(2135),e$=t(401);let eX=e_.fC;e_.ZA;let e0=e_.B4,e1=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(e_.xz,{ref:s,className:o("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,a.jsx)(e_.JO,{asChild:!0,children:(0,a.jsx)(eK.Z,{className:"h-4 w-4 opacity-50"})})]})});e1.displayName=e_.xz.displayName;let e4=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(e_.u_,{ref:s,className:o("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(eJ.Z,{className:"h-4 w-4"})})});e4.displayName=e_.u_.displayName;let e2=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(e_.$G,{ref:s,className:o("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(eK.Z,{className:"h-4 w-4"})})});e2.displayName=e_.$G.displayName;let e5=r.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...i}=e;return(0,a.jsx)(e_.h_,{children:(0,a.jsxs)(e_.VY,{ref:s,className:o("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...i,children:[(0,a.jsx)(e4,{}),(0,a.jsx)(e_.l_,{className:o("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(e2,{})]})})});e5.displayName=e_.VY.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(e_.__,{ref:s,className:o("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=e_.__.displayName;let e3=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(e_.ck,{ref:s,className:o("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(e_.wU,{children:(0,a.jsx)(e$.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(e_.eT,{children:r})]})});e3.displayName=e_.ck.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(e_.Z0,{ref:s,className:o("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=e_.Z0.displayName;var e6=t(3247);let e8=[{value:"0-15",label:"Under 15 min"},{value:"15-30",label:"15-30 min"},{value:"30-60",label:"30-60 min"},{value:"60+",label:"Over 1 hour"}],e9=[{value:"4.5",label:"4.5+ stars"},{value:"4.0",label:"4.0+ stars"},{value:"3.5",label:"3.5+ stars"},{value:"3.0",label:"3.0+ stars"}],e7=[{value:"Beginner",label:"Beginner"},{value:"Intermediate",label:"Intermediate"},{value:"Advanced",label:"Advanced"}],se=[{value:"Fundamentals",label:"Fundamentals"},{value:"Cakes & Desserts",label:"Cakes & Desserts"},{value:"Viennoiserie",label:"Viennoiserie"}],ss=["chocolate","pastry","french","basics","advanced","cakes","cookies","bread","decorating","tempering"];function st(e){var s;let t;let{filters:l,onFiltersChange:i,onClearFilters:n,className:c}=e,[d,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)(l),g=(e,s)=>{h({...u,[e]:s})},p=e=>{let s=u.tags||[];g("tags",s.includes(e)?s.filter(s=>s!==e):[...s,e])},f=(t=0,l.category&&t++,l.difficulty&&t++,l.duration&&t++,l.rating&&t++,l.tags&&l.tags.length>0&&t++,t);return(0,a.jsxs)("div",{className:o("flex items-center gap-2",c),children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(e6.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search techniques...",value:l.search||"",onChange:e=>i({...l,search:e.target.value}),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"}),l.search&&(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>i({...l,search:""}),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 text-muted-foreground hover:text-foreground",children:(0,a.jsx)(D.Z,{className:"h-3 w-3"})})]}),(0,a.jsxs)(eH,{open:d,onOpenChange:x,children:[(0,a.jsx)(eG,{asChild:!0,children:(0,a.jsxs)(m,{variant:"outline",className:"flex items-center gap-2",children:[(0,a.jsx)(eI.Z,{className:"h-4 w-4"}),"Filters",f>0&&(0,a.jsx)(G,{variant:"secondary",className:"ml-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:f})]})}),(0,a.jsx)(eW,{className:"w-80 p-4",align:"end",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Filter Techniques"}),f>0&&(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>{h({}),n(),x(!1)},className:"text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(er.Z,{className:"h-4 w-4 mr-1"}),"Clear All"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Category"}),(0,a.jsxs)(eX,{value:u.category||"",onValueChange:e=>g("category",e||void 0),children:[(0,a.jsx)(e1,{children:(0,a.jsx)(e0,{placeholder:"All categories"})}),(0,a.jsxs)(e5,{children:[(0,a.jsx)(e3,{value:"",children:"All categories"}),se.map(e=>(0,a.jsx)(e3,{value:e.value,children:e.label},e.value))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Difficulty"}),(0,a.jsxs)(eX,{value:u.difficulty||"",onValueChange:e=>g("difficulty",e||void 0),children:[(0,a.jsx)(e1,{children:(0,a.jsx)(e0,{placeholder:"All levels"})}),(0,a.jsxs)(e5,{children:[(0,a.jsx)(e3,{value:"",children:"All levels"}),e7.map(e=>(0,a.jsx)(e3,{value:e.value,children:e.label},e.value))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Duration"}),(0,a.jsxs)(eX,{value:u.duration||"",onValueChange:e=>g("duration",e||void 0),children:[(0,a.jsx)(e1,{children:(0,a.jsx)(e0,{placeholder:"Any duration"})}),(0,a.jsxs)(e5,{children:[(0,a.jsx)(e3,{value:"",children:"Any duration"}),e8.map(e=>(0,a.jsx)(e3,{value:e.value,children:e.label},e.value))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Minimum Rating"}),(0,a.jsxs)(eX,{value:(null===(s=u.rating)||void 0===s?void 0:s.toString())||"",onValueChange:e=>g("rating",e?parseFloat(e):void 0),children:[(0,a.jsx)(e1,{children:(0,a.jsx)(e0,{placeholder:"Any rating"})}),(0,a.jsxs)(e5,{children:[(0,a.jsx)(e3,{value:"",children:"Any rating"}),e9.map(e=>(0,a.jsx)(e3,{value:e.value,children:e.label},e.value))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:ss.map(e=>{var s;return(0,a.jsxs)(m,{variant:(null===(s=u.tags)||void 0===s?void 0:s.includes(e))?"default":"outline",size:"sm",onClick:()=>p(e),className:"text-xs",children:[(0,a.jsx)(eq.Z,{className:"h-3 w-3 mr-1"}),e]},e)})}),u.tags&&u.tags.length>0&&(0,a.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:u.tags.map(e=>(0,a.jsxs)(G,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-destructive hover:text-destructive-foreground",onClick:()=>p(e),children:[e,(0,a.jsx)(D.Z,{className:"h-3 w-3 ml-1"})]},e))})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,a.jsx)(m,{variant:"outline",onClick:()=>x(!1),className:"flex-1",children:"Cancel"}),(0,a.jsx)(m,{onClick:()=>{i(u),x(!1)},className:"flex-1",children:"Apply Filters"})]})]})})]}),f>0&&(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[l.category&&(0,a.jsxs)(G,{variant:"secondary",className:"text-xs",children:[l.category,(0,a.jsx)(D.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>i({...l,category:void 0})})]}),l.difficulty&&(0,a.jsxs)(G,{variant:"secondary",className:"text-xs",children:[l.difficulty,(0,a.jsx)(D.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>i({...l,difficulty:void 0})})]}),l.duration&&(0,a.jsxs)(G,{variant:"secondary",className:"text-xs",children:[l.duration,(0,a.jsx)(D.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>i({...l,duration:void 0})})]}),l.rating&&(0,a.jsxs)(G,{variant:"secondary",className:"text-xs",children:[l.rating,"+ stars",(0,a.jsx)(D.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>i({...l,rating:void 0})})]}),l.tags&&l.tags.length>0&&(0,a.jsxs)(G,{variant:"secondary",className:"text-xs",children:[l.tags.length," tags",(0,a.jsx)(D.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>i({...l,tags:void 0})})]})]})]})]})}function sa(e){let{technique:s,isOpen:t,onClose:l,className:i}=e,[n,c]=(0,r.useState)(0);if(!s)return null;let d=[{src:s.image,title:s.title,description:s.description},...s.steps.filter(e=>e.image).map(e=>({src:e.image,title:e.title,description:e.description}))],x=d[n],u=e=>{c(e)};return t&&0!==d.length?(0,a.jsx)(B,{open:t,onOpenChange:l,children:(0,a.jsx)(V,{className:"max-w-4xl max-h-[90vh] overflow-hidden p-0",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)(Y,{className:"p-6 pb-4 border-b",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(Q,{className:"text-2xl font-bold mb-2",children:[s.title," - Image Gallery"]}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg",children:"Step-by-step visual guide"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 ml-4",children:(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:l,className:"text-muted-foreground hover:text-primary",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})})]})}),(0,a.jsxs)("div",{className:"flex-1 p-6",children:[(0,a.jsxs)("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden mb-4",children:[(0,a.jsx)("img",{src:x.src,alt:x.title,className:"w-full h-full object-contain"}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300",children:[(0,a.jsxs)("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between",children:[(0,a.jsxs)(G,{variant:"secondary",className:"bg-white/90 text-gray-900",children:[n+1," of ",d.length]}),(0,a.jsx)(m,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:(0,a.jsx)($.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between",children:[(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>{c(e=>(e-1+d.length)%d.length)},disabled:d.length<=1,className:"text-white hover:bg-white/20 disabled:opacity-50",children:(0,a.jsx)(en.Z,{className:"h-4 w-4"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>{c(e=>(e+1)%d.length)},disabled:d.length<=1,className:"text-white hover:bg-white/20 disabled:opacity-50",children:(0,a.jsx)(ec.Z,{className:"h-4 w-4"})})]})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-2",children:x.title}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:x.description})]})]}),d.length>1&&(0,a.jsx)("div",{className:"p-6 pt-0 border-t",children:(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:d.map((e,s)=>(0,a.jsx)("button",{onClick:()=>u(s),className:o("flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all",n===s?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"),children:(0,a.jsx)("img",{src:e.src,alt:e.title,className:"w-full h-full object-cover"})},s))})}),d.length>1&&(0,a.jsx)("div",{className:"px-6 pb-6",children:(0,a.jsx)("div",{className:"flex justify-center gap-1",children:d.map((e,s)=>(0,a.jsx)("button",{onClick:()=>u(s),className:o("w-2 h-2 rounded-full transition-all",n===s?"bg-primary w-6":"bg-muted-foreground/30 hover:bg-muted-foreground/50")},s))})})]})})}):null}function sr(e){let{isOpen:s,onClose:t,techniques:l}=e,{favoriteTechniques:i,bookmarkedTechniques:n,removeFromFavorites:c,removeFromBookmarks:o,clearAllFavorites:d,clearAllBookmarks:x,getFavoriteTechniques:u,getBookmarkedTechniques:h}=(0,j.r)(),[g,p]=(0,r.useState)(""),[v,N]=(0,r.useState)("favorites"),Z=u(l),A=h(l),z=e=>{if(!g.trim())return e;let s=g.toLowerCase();return e.filter(e=>e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.category.toLowerCase().includes(s)||e.tags.some(e=>e.toLowerCase().includes(s)))},P=z(Z),L=z(A),F=e=>{switch(e){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=e=>{c(e)},E=e=>{o(e)};return(0,a.jsx)(B,{open:s,onOpenChange:t,children:(0,a.jsx)(V,{className:"max-w-4xl max-h-[90vh] overflow-hidden p-0",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)(Y,{className:"p-6 pb-4 border-b",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(Q,{className:"text-2xl font-bold mb-2",children:"My Favorites & Bookmarks"}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg",children:"Manage your saved techniques and learning materials"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 ml-4",children:(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:t,className:"text-muted-foreground hover:text-primary",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})})]})}),(0,a.jsx)("div",{className:"p-6 pb-4 border-b",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(e6.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search your favorites and bookmarks...",value:g,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsxs)(q,{value:v,onValueChange:N,className:"h-full flex flex-col",children:[(0,a.jsxs)(R,{className:"grid w-full grid-cols-2 mx-6 mt-4",children:[(0,a.jsxs)(I,{value:"favorites",className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4"}),"Favorites (",i.length,")"]}),(0,a.jsxs)(I,{value:"bookmarks",className:"flex items-center gap-2",children:[(0,a.jsx)(ep.Z,{className:"h-4 w-4"}),"Bookmarks (",n.length,")"]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,a.jsx)(T,{value:"favorites",className:"h-full mt-0",children:(0,a.jsx)("div",{className:"p-6 h-full overflow-y-auto",children:0===P.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,a.jsx)(f.Z,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:g?"No matching favorites found":"No favorites yet"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:g?"Try adjusting your search terms":"Start adding techniques to your favorites to see them here"})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:["Favorite Techniques (",P.length,")"]}),i.length>0&&(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to remove all favorites?")&&d()},className:"text-destructive hover:text-destructive",children:[(0,a.jsx)(eD.Z,{className:"h-4 w-4 mr-2"}),"Clear All"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(e=>(0,a.jsxs)(b,{className:"group hover:shadow-lg transition-all duration-300",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.title,className:"w-full h-48 object-cover rounded-t-lg"}),(0,a.jsx)(m,{size:"sm",variant:"ghost",onClick:()=>M(e.id),className:"absolute top-2 right-2 bg-white/90 text-red-600 hover:bg-red-50 hover:text-red-700",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})}),(0,a.jsx)(G,{className:"absolute bottom-2 left-2 ".concat(F(e.difficulty)),children:e.difficulty})]}),(0,a.jsxs)(y,{className:"pb-3",children:[(0,a.jsx)(w,{className:"text-lg text-balance",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-pretty line-clamp-2",children:e.description})]}),(0,a.jsxs)(k,{className:"pt-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),e.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eO.Z,{className:"h-4 w-4"}),e.students.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.rating]})]}),(0,a.jsxs)(m,{className:"w-full",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Continue Learning"]})]})]},e.id))})]})})}),(0,a.jsx)(T,{value:"bookmarks",className:"h-full mt-0",children:(0,a.jsx)("div",{className:"p-6 h-full overflow-y-auto",children:0===L.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,a.jsx)(ep.Z,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:g?"No matching bookmarks found":"No bookmarks yet"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:g?"Try adjusting your search terms":"Start bookmarking techniques to save them for later"})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:["Bookmarked Techniques (",L.length,")"]}),n.length>0&&(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to remove all bookmarks?")&&x()},className:"text-destructive hover:text-destructive",children:[(0,a.jsx)(eD.Z,{className:"h-4 w-4 mr-2"}),"Clear All"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(e=>(0,a.jsxs)(b,{className:"group hover:shadow-lg transition-all duration-300",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.title,className:"w-full h-48 object-cover rounded-t-lg"}),(0,a.jsx)(m,{size:"sm",variant:"ghost",onClick:()=>E(e.id),className:"absolute top-2 right-2 bg-white/90 text-red-600 hover:bg-red-50 hover:text-red-700",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})}),(0,a.jsx)(G,{className:"absolute bottom-2 left-2 ".concat(F(e.difficulty)),children:e.difficulty})]}),(0,a.jsxs)(y,{className:"pb-3",children:[(0,a.jsx)(w,{className:"text-lg text-balance",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-pretty line-clamp-2",children:e.description})]}),(0,a.jsxs)(k,{className:"pt-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),e.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eO.Z,{className:"h-4 w-4"}),e.students.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.rating]})]}),(0,a.jsxs)(m,{className:"w-full",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Continue Learning"]})]})]},e.id))})]})})})]})]})})]})})})}var sl=t(2735),si=t(7689);function sn(e){let{isOpen:s,onClose:t,techniques:l}=e,{userProgress:i,techniqueProgress:n,getOverallProgress:c,getCategoryProgress:o,markTechniqueComplete:d,markTechniqueIncomplete:x,resetProgress:u,exportProgress:g,importProgress:f}=(0,v.S)(),[j,N]=(0,r.useState)("overview"),[S,Z]=(0,r.useState)(!1),A=l.reduce((e,s)=>{let t=s.category;e[t]||(e[t]={total:0,completed:0}),e[t].total+=1;let a=n[s.id];return(null==a?void 0:a.isCompleted)&&(e[t].completed+=1),e},{}),z=l.map(e=>({...e,progress:n[e.id]||{techniqueId:e.id,isCompleted:!1,completionPercentage:0,timeSpent:0,lastAccessed:new Date().toISOString(),stepsCompleted:[],notes:"",rating:0,difficulty:e.difficulty}})).sort((e,s)=>{let t=e.progress.completionPercentage,a=s.progress.completionPercentage;return t===a?(s.progress.lastAccessed||"").localeCompare(e.progress.lastAccessed||""):a-t}),P=e=>{let s=n[e];(null==s?void 0:s.isCompleted)?x(e):d(e)},L=c();return(0,a.jsx)(B,{open:s,onOpenChange:t,children:(0,a.jsxs)(V,{className:"max-w-6xl max-h-[90vh] overflow-hidden p-0",children:[(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)(Y,{className:"p-6 pb-4 border-b",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(Q,{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-6 w-6 text-primary"}),"Progress Dashboard"]}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg",children:"Track your learning journey and celebrate achievements"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([g()],{type:"application/json"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="patissier-progress-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(s)},children:[(0,a.jsx)(sl.Z,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,a.jsxs)("label",{className:"cursor-pointer",children:[(0,a.jsx)(m,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)("span",{children:[(0,a.jsx)(si.Z,{className:"h-4 w-4 mr-2"}),"Import"]})}),(0,a.jsx)("input",{type:"file",accept:".json",onChange:e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];if(t){let e=new FileReader;e.onload=e=>{var s;f(null===(s=e.target)||void 0===s?void 0:s.result)?alert("Progress imported successfully!"):alert("Failed to import progress data.")},e.readAsText(t)}},className:"hidden"})]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>Z(!0),className:"text-destructive hover:text-destructive",children:[(0,a.jsx)(er.Z,{className:"h-4 w-4 mr-2"}),"Reset"]}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:t,className:"text-muted-foreground hover:text-primary",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsxs)(q,{value:j,onValueChange:N,className:"h-full flex flex-col",children:[(0,a.jsxs)(R,{className:"grid w-full grid-cols-4 mx-6 mt-4",children:[(0,a.jsxs)(I,{value:"overview",className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4"}),"Overview"]}),(0,a.jsxs)(I,{value:"techniques",className:"flex items-center gap-2",children:[(0,a.jsx)(eN.Z,{className:"h-4 w-4"}),"Techniques"]}),(0,a.jsxs)(I,{value:"categories",className:"flex items-center gap-2",children:[(0,a.jsx)(ey.Z,{className:"h-4 w-4"}),"Categories"]}),(0,a.jsxs)(I,{value:"achievements",className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),"Achievements"]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,a.jsx)(T,{value:"overview",className:"h-full mt-0",children:(0,a.jsx)("div",{className:"p-6 h-full overflow-y-auto",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(eC,{level:parseInt(i.level)||1,experience:i.experience,nextLevelExperience:i.nextLevelExperience,totalTechniquesCompleted:i.totalTechniquesCompleted,totalTimeSpent:i.totalTimeSpent,currentStreak:i.currentStreak,longestStreak:i.longestStreak})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5 text-primary"}),"Overall Progress"]})}),(0,a.jsx)(k,{children:(0,a.jsx)(ew,{progress:L,total:100,completed:i.totalTechniquesCompleted,label:"Techniques Completed",showPercentage:!0,showCount:!0,size:"lg",variant:"success"})})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(ei.Z,{className:"h-5 w-5 text-primary"}),"Recent Activity"]})}),(0,a.jsx)(k,{children:(0,a.jsx)("div",{className:"space-y-3",children:z.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"}),(0,a.jsx)("span",{className:"font-medium",children:e.title}),(0,a.jsx)(G,{variant:"secondary",className:"text-xs",children:e.category})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.progress.completionPercentage,"%"]}),e.progress.isCompleted&&(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-500"})]})]},e.id))})})]})]})]})})}),(0,a.jsx)(T,{value:"techniques",className:"h-full mt-0",children:(0,a.jsx)("div",{className:"p-6 h-full overflow-y-auto",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"All Techniques"}),(0,a.jsxs)(G,{variant:"secondary",children:[i.totalTechniquesCompleted," of ",l.length," completed"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:z.map(e=>(0,a.jsx)(ek,{techniqueId:e.id,title:e.title,progress:e.progress.completionPercentage,isCompleted:e.progress.isCompleted,timeSpent:e.progress.timeSpent,lastAccessed:e.progress.lastAccessed,difficulty:e.difficulty,onToggleComplete:P},e.id))})]})})}),(0,a.jsx)(T,{value:"categories",className:"h-full mt-0",children:(0,a.jsx)("div",{className:"p-6 h-full overflow-y-auto",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Progress by Category"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(A).map(e=>{let[s,t]=e,r=Math.round(t.completed/t.total*100);return(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsx)(w,{className:"text-lg",children:s})}),(0,a.jsx)(k,{children:(0,a.jsx)(ew,{progress:r,total:100,completed:t.completed,label:"".concat(t.completed," of ").concat(t.total," techniques"),showPercentage:!0,showCount:!1,size:"md",variant:100===r?"success":"default"})})]},s)})})]})})}),(0,a.jsx)(T,{value:"achievements",className:"h-full mt-0",children:(0,a.jsx)("div",{className:"p-6 h-full overflow-y-auto",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Achievements"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsx)(b,{className:"opacity-50",children:(0,a.jsxs)(k,{className:"p-6 text-center",children:[(0,a.jsx)(h.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"First Steps"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Complete your first technique"})]})}),(0,a.jsx)(b,{className:"opacity-50",children:(0,a.jsxs)(k,{className:"p-6 text-center",children:[(0,a.jsx)(C.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Rising Star"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Complete 10 techniques"})]})}),(0,a.jsx)(b,{className:"opacity-50",children:(0,a.jsxs)(k,{className:"p-6 text-center",children:[(0,a.jsx)(ey.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Master Chef"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Complete all techniques"})]})})]})]})})})]})]})})]}),S&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)(b,{className:"w-96",children:[(0,a.jsx)(y,{children:(0,a.jsx)(w,{className:"text-destructive",children:"Reset Progress"})}),(0,a.jsxs)(k,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Are you sure you want to reset all your progress? This action cannot be undone."}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,a.jsx)(m,{variant:"outline",onClick:()=>Z(!1),children:"Cancel"}),(0,a.jsx)(m,{variant:"destructive",onClick:()=>{u(),Z(!1)},children:"Reset Progress"})]})]})]})})]})})}var sc=t(1473),so=t(1855),sd=t(7586),sm=t(3468),sx=t(1281),su=t(820);function sh(e){let{items:s,renderItem:t,keyExtractor:l,className:i,emptyMessage:n="No items found",loading:c=!1,error:d=null,onRetry:x,showLayoutControls:u=!0,showSortControls:h=!0,sortOptions:g=[{value:"default",label:"Default"},{value:"name",label:"Name"},{value:"rating",label:"Rating"},{value:"difficulty",label:"Difficulty"},{value:"duration",label:"Duration"},{value:"progress",label:"Progress"}],onSort:p,currentSort:f={option:"default",direction:"desc"},itemsPerPage:j=12,showPagination:v=!1,onPageChange:N,currentPage:y=1,totalPages:w=1}=e,[C,S]=(0,r.useState)("grid"),[Z,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{A(!0)},[]);let q=e=>{switch(C){case"list":default:return"w-full";case"masonry":return"break-inside-avoid mb-4 md:mb-6"}},R=e=>{S(e)},I=e=>{if(p){let s=f.option===e&&"desc"===f.direction?"asc":"desc";p(e,s)}};return c?(0,a.jsxs)("div",{className:"space-y-6",children:[u&&(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Layout:"}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:[{value:"grid",icon:sc.Z,label:"Grid"},{value:"grid-sm",icon:so.Z,label:"Compact"},{value:"list",icon:sd.Z,label:"List"},{value:"masonry",icon:sm.Z,label:"Masonry"}].map(e=>{let{value:s,icon:t,label:r}=e;return(0,a.jsx)(m,{variant:C===s?"default":"outline",size:"sm",onClick:()=>R(s),className:"h-8 w-8 p-0",title:r,children:(0,a.jsx)(t,{className:"h-4 w-4"})},s)})})]})}),(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Loading..."})]})})]}):d?(0,a.jsxs)("div",{className:"space-y-6",children:[u&&(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Layout:"}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:[{value:"grid",icon:sc.Z,label:"Grid"},{value:"grid-sm",icon:so.Z,label:"Compact"},{value:"list",icon:sd.Z,label:"List"},{value:"masonry",icon:sm.Z,label:"Masonry"}].map(e=>{let{value:s,icon:t,label:r}=e;return(0,a.jsx)(m,{variant:C===s?"default":"outline",size:"sm",onClick:()=>R(s),className:"h-8 w-8 p-0",title:r,children:(0,a.jsx)(t,{className:"h-4 w-4"})},s)})})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-8 text-center",children:[(0,a.jsx)("p",{className:"text-destructive mb-4",children:d}),x&&(0,a.jsx)(m,{onClick:x,children:"Retry"})]})})]}):0===s.length?(0,a.jsxs)("div",{className:"space-y-6",children:[u&&(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Layout:"}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:[{value:"grid",icon:sc.Z,label:"Grid"},{value:"grid-sm",icon:so.Z,label:"Compact"},{value:"list",icon:sd.Z,label:"List"},{value:"masonry",icon:sm.Z,label:"Masonry"}].map(e=>{let{value:s,icon:t,label:r}=e;return(0,a.jsx)(m,{variant:C===s?"default":"outline",size:"sm",onClick:()=>R(s),className:"h-8 w-8 p-0",title:r,children:(0,a.jsx)(t,{className:"h-4 w-4"})},s)})})]})}),(0,a.jsx)(b,{children:(0,a.jsx)(k,{className:"p-8 text-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:n})})})]}):(0,a.jsxs)("div",{className:o("space-y-6",i),children:[(u||h)&&(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Layout:"}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:[{value:"grid",icon:sc.Z,label:"Grid"},{value:"grid-sm",icon:so.Z,label:"Compact"},{value:"list",icon:sd.Z,label:"List"},{value:"masonry",icon:sm.Z,label:"Masonry"}].map(e=>{let{value:s,icon:t,label:r}=e;return(0,a.jsx)(m,{variant:C===s?"default":"outline",size:"sm",onClick:()=>R(s),className:"h-8 w-8 p-0",title:r,children:(0,a.jsx)(t,{className:"h-4 w-4"})},s)})})]}),h&&p&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Sort by:"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("select",{value:f.option,onChange:e=>I(e.target.value),className:"px-3 py-1 border border-input rounded-md bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:g.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>p(f.option,"asc"===f.direction?"desc":"asc"),className:"h-8 w-8 p-0",title:"Sort ".concat("asc"===f.direction?"Descending":"Ascending"),children:"asc"===f.direction?(0,a.jsx)(sx.Z,{className:"h-4 w-4"}):(0,a.jsx)(su.Z,{className:"h-4 w-4"})})]})]})]}),(0,a.jsx)("div",{className:(()=>{switch(C){case"grid":default:return"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6";case"grid-sm":return"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4";case"list":return"flex flex-col gap-4";case"masonry":return"columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-4 md:gap-6"}})(),children:s.map((e,s)=>(0,a.jsx)("div",{className:q(s),children:t(e,s)},l(e)))}),v&&w>1&&N&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>N(y-1),disabled:y<=1,children:"Previous"}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,w)},(e,s)=>{let t=s+1;return(0,a.jsx)(m,{variant:y===t?"default":"outline",size:"sm",onClick:()=>N(t),className:"h-8 w-8 p-0",children:t},t)})}),(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>N(y+1),disabled:y>=w,children:"Next"})]})]})}function sg(e){let{technique:s,layout:t="grid",onImageGalleryOpen:r,onTechniqueClick:l,onToggleComplete:i,className:n}=e,{getTechniqueProgress:c,markTechniqueComplete:d,markTechniqueIncomplete:x}=(0,v.S)(),{getTechniqueRating:u}=(0,eB.D)(),h=c(s.id),g=u(s.id),p=e=>{switch(e){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=()=>{h.isCompleted?x(s.id):d(s.id)};return"grid"===t?(0,a.jsxs)(b,{className:o("group hover:shadow-lg transition-all duration-300 overflow-hidden",n),children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:s.image||"/placeholder.svg",alt:s.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300 cursor-pointer",onClick:()=>r(s)}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors duration-300"}),(0,a.jsx)(ej,{techniqueId:s.id,type:"favorite"}),(0,a.jsx)(ej,{techniqueId:s.id,type:"bookmark",className:"top-8"}),(0,a.jsx)("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:(0,a.jsxs)(m,{size:"sm",className:"bg-white/90 text-gray-900 hover:bg-white",onClick:e=>{e.stopPropagation(),l(s)},children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-1"}),"Watch"]})}),(0,a.jsx)(G,{className:"absolute bottom-4 left-4 ".concat(p(s.difficulty)),children:s.difficulty}),h.completionPercentage>0&&(0,a.jsxs)("div",{className:"absolute bottom-4 right-4 bg-white/90 rounded-full px-2 py-1 text-xs font-medium",children:[h.completionPercentage,"%"]}),h.isCompleted&&(0,a.jsx)("div",{className:"absolute top-4 left-4 bg-green-500 text-white rounded-full p-1",children:(0,a.jsx)(ev.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)(y,{className:"pb-3",children:[(0,a.jsx)(w,{className:"text-lg text-balance line-clamp-2",children:s.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-pretty line-clamp-2",children:s.description})]}),(0,a.jsxs)(k,{className:"pt-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),s.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eO.Z,{className:"h-4 w-4"}),s.students.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),g?g.averageRating.toFixed(1):s.rating,g&&g.totalRatings>0&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",g.totalRatings,")"]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[h.completionPercentage>0&&(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:"".concat(h.completionPercentage,"%")}})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(m,{className:"flex-1",onClick:()=>l(s),children:h.isCompleted?"Review":"Start Learning"}),(0,a.jsx)(m,{variant:h.isCompleted?"default":"outline",size:"sm",onClick:f,className:h.isCompleted?"bg-green-500 hover:bg-green-600":"",children:h.isCompleted?"✓":"○"}),(0,a.jsx)(ef,{techniqueId:s.id,type:"favorite",size:"sm",variant:"outline"}),(0,a.jsx)(ef,{techniqueId:s.id,type:"bookmark",size:"sm",variant:"outline"})]})]})]})]}):"grid-sm"===t?(0,a.jsxs)(b,{className:o("group hover:shadow-md transition-all duration-300 overflow-hidden",n),children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:s.image||"/placeholder.svg",alt:s.title,className:"w-full h-32 object-cover group-hover:scale-105 transition-transform duration-300 cursor-pointer",onClick:()=>r(s)}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors duration-300"}),(0,a.jsx)(ej,{techniqueId:s.id,type:"favorite"}),(0,a.jsx)(ej,{techniqueId:s.id,type:"bookmark",className:"top-6"}),(0,a.jsx)(G,{className:"absolute bottom-2 left-2 text-xs ".concat(p(s.difficulty)),children:s.difficulty}),h.isCompleted&&(0,a.jsx)("div",{className:"absolute top-2 left-2 bg-green-500 text-white rounded-full p-1",children:(0,a.jsx)(ev.Z,{className:"h-3 w-3"})})]}),(0,a.jsxs)(k,{className:"p-3",children:[(0,a.jsx)(w,{className:"text-sm font-medium line-clamp-2 mb-1",children:s.title}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-3 w-3"}),s.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),g?g.averageRating.toFixed(1):s.rating]})]}),h.completionPercentage>0&&(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1 mb-2",children:(0,a.jsx)("div",{className:"bg-primary h-1 rounded-full transition-all duration-300",style:{width:"".concat(h.completionPercentage,"%")}})}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsxs)(m,{size:"sm",className:"flex-1 text-xs h-7",onClick:()=>l(s),children:[(0,a.jsx)(S.Z,{className:"h-3 w-3 mr-1"}),h.isCompleted?"Review":"Start"]}),(0,a.jsx)(m,{variant:h.isCompleted?"default":"outline",size:"sm",onClick:f,className:"h-7 w-7 p-0 ".concat(h.isCompleted?"bg-green-500 hover:bg-green-600":""),children:h.isCompleted?"✓":"○"})]})]})]}):"list"===t?(0,a.jsx)(b,{className:o("group hover:shadow-md transition-all duration-300",n),children:(0,a.jsxs)("div",{className:"flex gap-4 p-4",children:[(0,a.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,a.jsx)("img",{src:s.image||"/placeholder.svg",alt:s.title,className:"w-24 h-24 object-cover rounded-lg cursor-pointer",onClick:()=>r(s)}),(0,a.jsx)(ej,{techniqueId:s.id,type:"favorite"}),(0,a.jsx)(ej,{techniqueId:s.id,type:"bookmark",className:"top-6"})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)(w,{className:"text-lg font-semibold line-clamp-1",children:s.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:s.description})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)(G,{className:p(s.difficulty),children:s.difficulty}),h.isCompleted&&(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-green-500"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),s.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eO.Z,{className:"h-4 w-4"}),s.students.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),g?g.averageRating.toFixed(1):s.rating,g&&g.totalRatings>0&&(0,a.jsxs)("span",{className:"text-xs",children:["(",g.totalRatings,")"]})]})]}),h.completionPercentage>0&&(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:(0,a.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:"".concat(h.completionPercentage,"%")}})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m,{onClick:()=>l(s),children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),h.isCompleted?"Review Technique":"Start Learning"]}),(0,a.jsx)(m,{variant:h.isCompleted?"default":"outline",size:"sm",onClick:f,className:h.isCompleted?"bg-green-500 hover:bg-green-600":"",children:h.isCompleted?"✓":"○"}),(0,a.jsx)(ef,{techniqueId:s.id,type:"favorite",size:"sm",variant:"outline"}),(0,a.jsx)(ef,{techniqueId:s.id,type:"bookmark",size:"sm",variant:"outline"})]})]})]})}):"masonry"===t?(0,a.jsxs)(b,{className:o("group hover:shadow-lg transition-all duration-300 overflow-hidden",n),children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:s.image||"/placeholder.svg",alt:s.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300 cursor-pointer",onClick:()=>r(s)}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors duration-300"}),(0,a.jsx)(ej,{techniqueId:s.id,type:"favorite"}),(0,a.jsx)(ej,{techniqueId:s.id,type:"bookmark",className:"top-8"}),(0,a.jsx)(G,{className:"absolute bottom-4 left-4 ".concat(p(s.difficulty)),children:s.difficulty}),h.isCompleted&&(0,a.jsx)("div",{className:"absolute top-4 left-4 bg-green-500 text-white rounded-full p-1",children:(0,a.jsx)(ev.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)(k,{className:"p-4",children:[(0,a.jsx)(w,{className:"text-lg font-semibold line-clamp-2 mb-2",children:s.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3 mb-3",children:s.description}),(0,a.jsx)("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),s.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),g?g.averageRating.toFixed(1):s.rating]})]})}),h.completionPercentage>0&&(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:(0,a.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:"".concat(h.completionPercentage,"%")}})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(m,{size:"sm",className:"flex-1",onClick:()=>l(s),children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-1"}),h.isCompleted?"Review":"Start"]}),(0,a.jsx)(m,{variant:h.isCompleted?"default":"outline",size:"sm",onClick:f,className:h.isCompleted?"bg-green-500 hover:bg-green-600":"",children:h.isCompleted?"✓":"○"})]})]})]}):null}function sp(){let[e,s]=(0,r.useState)("Fundamentals"),[t,l]=(0,r.useState)(null),[i,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!1),[d,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)({}),[f,j]=(0,r.useState)("grid"),[N,b]=(0,r.useState)("default"),[y,w]=(0,r.useState)("desc"),{techniques:k,loading:C,error:S,searchTechniques:Z,filterTechniques:A}=M(g),{getTechniqueProgress:P,markTechniqueComplete:L,markTechniqueIncomplete:F}=(0,v.S)(),E=k.reduce((e,s)=>{let t=s.category.toLowerCase().replace(/\s+/g,"-");return e[t]||(e[t]=[]),e[t].push(s),e},{}),D=async e=>{s(e);let t={...g,category:e};p(t),await A(t)},B=[...g.search?k:E[e.toLowerCase().replace(/\s+/g,"-")]||[]].sort((e,s)=>{let t=0;switch(N){case"name":t=e.title.localeCompare(s.title);break;case"rating":t=(e.rating||0)-(s.rating||0);break;case"difficulty":let a={Beginner:1,Intermediate:2,Advanced:3};t=(a[e.difficulty]||0)-(a[s.difficulty]||0);break;case"duration":let r=e=>{let s=e.match(/(\d+)/);return s?parseInt(s[1]):0};t=r(e.duration)-r(s.duration);break;case"progress":let l=P(e.id),i=P(s.id);t=l.completionPercentage-i.completionPercentage;break;default:return 0}return"asc"===y?t:-t}),U=e=>{l(e),n(!0)},O=e=>{l(e),o(!0)},V=(e,s)=>{b(e),w(s)};return(0,a.jsxs)("section",{id:"techniques",className:"py-20 px-4",children:[(0,a.jsxs)("div",{className:"container mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Technique Library"}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground text-balance max-w-2xl mx-auto",children:"Master essential pastry techniques with our comprehensive video library, organized by skill level and pastry type."})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(st,{filters:g,onFiltersChange:e=>{p(e),A(e)},onClearFilters:()=>{p({}),A({})}})}),(0,a.jsxs)(q,{value:e,onValueChange:e=>D(e),className:"w-full",children:[(0,a.jsxs)(R,{className:"grid w-full grid-cols-3 mb-8",children:[(0,a.jsx)(I,{value:"Fundamentals",className:"text-sm font-medium",children:"Fundamentals"}),(0,a.jsx)(I,{value:"Cakes & Desserts",className:"text-sm font-medium",children:"Cakes & Desserts"}),(0,a.jsx)(I,{value:"Viennoiserie",className:"text-sm font-medium",children:"Viennoiserie"})]}),(0,a.jsx)(T,{value:"Fundamentals",children:C?(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,a.jsx)(z.Z,{className:"h-8 w-8 animate-spin text-primary"}),(0,a.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading techniques..."})]}):S?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsxs)("p",{className:"text-destructive mb-4",children:["Error loading techniques: ",S]}),(0,a.jsx)(m,{onClick:()=>window.location.reload(),children:"Retry"})]}):(0,a.jsx)(sh,{items:B,renderItem:e=>(0,a.jsx)(sg,{technique:e,layout:f,onImageGalleryOpen:O,onTechniqueClick:U,onToggleComplete:e=>{P(e).isCompleted?F(e):L(e)}}),keyExtractor:e=>e.id,loading:C,error:S,onRetry:()=>window.location.reload(),showLayoutControls:!0,showSortControls:!0,onSort:V,currentSort:{option:N,direction:y},emptyMessage:"No techniques found for this category."})}),(0,a.jsx)(T,{value:"Cakes & Desserts",children:C?(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,a.jsx)(z.Z,{className:"h-8 w-8 animate-spin text-primary"}),(0,a.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading techniques..."})]}):S?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsxs)("p",{className:"text-destructive mb-4",children:["Error loading techniques: ",S]}),(0,a.jsx)(m,{onClick:()=>window.location.reload(),children:"Retry"})]}):(0,a.jsx)(sh,{items:B,renderItem:e=>(0,a.jsx)(sg,{technique:e,layout:f,onImageGalleryOpen:O,onTechniqueClick:U,onToggleComplete:e=>{P(e).isCompleted?F(e):L(e)}}),keyExtractor:e=>e.id,loading:C,error:S,onRetry:()=>window.location.reload(),showLayoutControls:!0,showSortControls:!0,onSort:V,currentSort:{option:N,direction:y},emptyMessage:"No techniques found for this category."})}),(0,a.jsx)(T,{value:"Viennoiserie",children:C?(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,a.jsx)(z.Z,{className:"h-8 w-8 animate-spin text-primary"}),(0,a.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading techniques..."})]}):S?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsxs)("p",{className:"text-destructive mb-4",children:["Error loading techniques: ",S]}),(0,a.jsx)(m,{onClick:()=>window.location.reload(),children:"Retry"})]}):(0,a.jsx)(sh,{items:B,renderItem:e=>(0,a.jsx)(sg,{technique:e,layout:f,onImageGalleryOpen:O,onTechniqueClick:U,onToggleComplete:e=>{P(e).isCompleted?F(e):L(e)}}),keyExtractor:e=>e.id,loading:C,error:S,onRetry:()=>window.location.reload(),showLayoutControls:!0,showSortControls:!0,onSort:V,currentSort:{option:N,direction:y},emptyMessage:"No techniques found for this category."})})]}),(0,a.jsx)("div",{className:"text-center mt-12",children:(0,a.jsx)(m,{variant:"outline",size:"lg",children:"Browse All Techniques"})})]}),(0,a.jsx)(eY,{technique:t,isOpen:i,onClose:()=>{n(!1),l(null)}}),(0,a.jsx)(sa,{technique:t,isOpen:c,onClose:()=>{o(!1),l(null)}}),(0,a.jsx)(sr,{isOpen:d,onClose:()=>{x(!1)},techniques:k}),(0,a.jsx)(sn,{isOpen:u,onClose:()=>{h(!1)},techniques:k})]})}var sf=t(6337);let sj=[{id:1,title:"Beginner Baker",description:"Start your pastry journey with fundamental techniques and basic recipes",level:"Beginner",duration:"4-6 weeks",lessons:12,progress:75,unlocked:!0,color:"bg-green-500",modules:[{title:"Kitchen Setup & Tools",completed:!0,duration:"15 min"},{title:"Basic Mixing Techniques",completed:!0,duration:"20 min"},{title:"Simple Cookie Dough",completed:!0,duration:"25 min"},{title:"Basic Cake Batter",completed:!1,duration:"30 min",current:!0},{title:"Frosting Fundamentals",completed:!1,duration:"20 min"},{title:"Decoration Basics",completed:!1,duration:"35 min"}]},{id:2,title:"Intermediate Artisan",description:"Advance your skills with complex techniques and professional methods",level:"Intermediate",duration:"6-8 weeks",lessons:16,progress:30,unlocked:!0,color:"bg-yellow-500",modules:[{title:"Advanced Dough Techniques",completed:!0,duration:"40 min"},{title:"Pastry Cream Mastery",completed:!0,duration:"35 min"},{title:"Lamination Basics",completed:!1,duration:"45 min",current:!0},{title:"Chocolate Tempering",completed:!1,duration:"30 min"},{title:"Sugar Work Introduction",completed:!1,duration:"50 min"},{title:"Plated Desserts",completed:!1,duration:"40 min"}]},{id:3,title:"Master Patissier",description:"Perfect advanced techniques and create restaurant-quality desserts",level:"Advanced",duration:"8-12 weeks",lessons:20,progress:0,unlocked:!1,color:"bg-red-500",modules:[{title:"Complex Laminated Doughs",completed:!1,duration:"60 min"},{title:"Advanced Sugar Techniques",completed:!1,duration:"75 min"},{title:"Molecular Gastronomy",completed:!1,duration:"90 min"},{title:"Competition Techniques",completed:!1,duration:"120 min"},{title:"Menu Development",completed:!1,duration:"45 min"},{title:"Final Portfolio",completed:!1,duration:"180 min"}]}];function sv(e){let{path:s}=e;return(0,a.jsxs)(b,{className:"relative overflow-hidden ".concat(s.unlocked?"":"opacity-60"),children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 ".concat(s.color)}),(0,a.jsxs)(y,{className:"pb-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(w,{className:"text-xl mb-2",children:s.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-pretty",children:s.description})]}),!s.unlocked&&(0,a.jsx)(sf.Z,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-4",children:[(0,a.jsx)(G,{variant:"outline",children:s.level}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),s.duration]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4"}),s.lessons," lessons"]})]})]}),(0,a.jsxs)(k,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[s.progress,"%"]})]}),(0,a.jsx)(_,{value:s.progress,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"Current Modules"}),(0,a.jsx)("div",{className:"space-y-2",children:s.modules.slice(0,4).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[e.completed?(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-500"}):e.current?(0,a.jsx)("div",{className:"h-4 w-4 rounded-full border-2 border-primary bg-primary/20"}):(0,a.jsx)("div",{className:"h-4 w-4 rounded-full border-2 border-muted-foreground/30"}),(0,a.jsx)("span",{className:e.completed?"text-muted-foreground":e.current?"font-medium":"",children:e.title}),(0,a.jsx)("span",{className:"text-muted-foreground ml-auto",children:e.duration})]},s))})]}),(0,a.jsx)(m,{className:"w-full",disabled:!s.unlocked,variant:s.progress>0?"default":"outline",children:s.unlocked?s.progress>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.Z,{className:"mr-2 h-4 w-4"}),"Continue Learning"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Z,{className:"mr-2 h-4 w-4"}),"Start Path"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sf.Z,{className:"mr-2 h-4 w-4"}),"Locked"]})})]})]})}function sN(){return(0,a.jsx)("section",{id:"paths",className:"py-20 px-4 bg-muted/30",children:(0,a.jsxs)("div",{className:"container mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Learning Paths"}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground text-balance max-w-2xl mx-auto",children:"Follow structured learning paths designed to take you from beginner to master patissier, with achievements and progress tracking."})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:sj.map(e=>(0,a.jsx)(sv,{path:e},e.id))}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-8 text-center",children:[(0,a.jsx)(h.Z,{className:"h-12 w-12 text-secondary mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Unlock Advanced Paths"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Complete the Intermediate Artisan path with 80% or higher scores to unlock the Master Patissier program and advanced techniques."}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-500"}),"Complete all modules"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-secondary"}),"Pass final assessment"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 text-primary"}),"Maintain 80% average"]})]})]})]})})}var sb=t(5954),sy=t(9160);let sw=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(sy.fC,{className:o("grid gap-2",t),...r,ref:s})});sw.displayName=sy.fC.displayName;let sk=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(sy.ck,{ref:s,className:o("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,a.jsx)(sy.z$,{className:"flex items-center justify-center",children:(0,a.jsx)(e$.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});sk.displayName=sy.ck.displayName;var sC=t(3771);let sS=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),sZ=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(sC.f,{ref:s,className:o(sS(),t),...r})});sZ.displayName=sC.f.displayName;var sA=t(4601);let sq=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(sA.fC,{ref:s,className:o("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:(0,a.jsx)(sA.z$,{className:o("flex items-center justify-center text-current"),children:(0,a.jsx)(e$.Z,{className:"h-4 w-4"})})})});sq.displayName=sA.fC.displayName;var sR=t(9388),sI=t(5368);function sT(e){var s,t;let{question:l,onAnswer:i,selectedAnswer:n,isAnswered:c=!1,showCorrectAnswer:d=!1,timeRemaining:x,onHint:u,hintsUsed:h=!1,allowMultiple:g=!1,disabled:p=!1,className:f}=e,[j,v]=(0,r.useState)(n),[N,C]=(0,r.useState)(!1),[S,Z]=(0,r.useState)(!1);(0,r.useEffect)(()=>{l.timeLimit&&void 0!==x&&x<=0&&(Z(!0),void 0===j&&i(g?[]:-1))},[x,l.timeLimit,j,i,g]);let A=e=>!!d&&(Array.isArray(l.correctAnswer)?l.correctAnswer.includes(e):"number"==typeof l.correctAnswer&&l.correctAnswer===e),q=e=>Array.isArray(j)?j.includes(e):j===e,R=()=>!!c&&!!d&&(Array.isArray(l.correctAnswer)&&Array.isArray(j)?l.correctAnswer.length===j.length&&l.correctAnswer.every(e=>j.includes(e)):!(Array.isArray(l.correctAnswer)||Array.isArray(j))&&l.correctAnswer===j),I=e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"));return(0,a.jsxs)(b,{className:o("w-full",f),children:[(0,a.jsx)(y,{children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(w,{className:"text-lg font-semibold mb-2",children:l.question}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[(0,a.jsxs)(G,{variant:"outline",children:[l.points," points"]}),l.timeLimit&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:void 0!==x?I(x):"".concat(I(l.timeLimit)," limit")})]}),l.hints&&l.hints.length>0&&(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:u,disabled:h||p,className:"h-6 px-2",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4 mr-1"}),"Hint"]})]}),l.timeLimit&&void 0!==x&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(_,{value:x/l.timeLimit*100,className:"h-2"})}),l.image&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("img",{src:l.image,alt:"Question illustration",className:"max-w-full h-auto rounded-lg border"})}),l.videoUrl&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("video",{src:l.videoUrl,controls:!0,className:"max-w-full h-auto rounded-lg border"})})})]})})}),(0,a.jsxs)(k,{children:[g?(0,a.jsx)("div",{className:"space-y-3",children:null===(s=l.options)||void 0===s?void 0:s.map((e,s)=>{let t=A(s),r=q(s),l=c&&r&&!t;return(0,a.jsxs)("div",{className:o("flex items-center space-x-3 p-3 rounded-lg border transition-all duration-200",{"bg-primary/5 border-primary":r&&!d,"bg-green-50 border-green-200":d&&t,"bg-red-50 border-red-200":d&&l,"hover:bg-muted/50":!p&&!S,"opacity-50 cursor-not-allowed":p||S,"cursor-pointer":!p&&!S}),children:[(0,a.jsx)(sq,{id:"option-".concat(s),checked:r,disabled:p||S,className:"mt-1",onCheckedChange:e=>{if(e){let e=[...Array.isArray(j)?j:[],s];v(e),i(e)}else{let e=(Array.isArray(j)?j:[]).filter(e=>e!==s);v(e),i(e)}}}),(0,a.jsx)(sZ,{htmlFor:"option-".concat(s),className:o("flex-1 cursor-pointer",{"cursor-not-allowed":p||S}),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e}),d&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t&&(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-green-600"}),l&&(0,a.jsx)(sR.Z,{className:"h-5 w-5 text-red-600"})]})]})})]},s)})}):(0,a.jsx)(sw,{value:null==j?void 0:j.toString(),onValueChange:e=>{if(!p&&!S){if(g){let s=parseInt(e),t=Array.isArray(j)?j:[];if(t.includes(s)){let e=t.filter(e=>e!==s);v(e),i(e)}else{let e=[...t,s];v(e),i(e)}}else{let s=parseInt(e);v(s),i(s)}}},disabled:p||S,className:"space-y-3",children:null===(t=l.options)||void 0===t?void 0:t.map((e,s)=>{let t=A(s),r=q(s),l=c&&r&&!t;return(0,a.jsxs)("div",{className:o("flex items-center space-x-3 p-3 rounded-lg border transition-all duration-200",{"bg-primary/5 border-primary":r&&!d,"bg-green-50 border-green-200":d&&t,"bg-red-50 border-red-200":d&&l,"hover:bg-muted/50":!p&&!S,"opacity-50 cursor-not-allowed":p||S,"cursor-pointer":!p&&!S}),children:[(0,a.jsx)(sk,{value:s.toString(),id:"option-".concat(s),disabled:p||S,className:"mt-1"}),(0,a.jsx)(sZ,{htmlFor:"option-".concat(s),className:o("flex-1 cursor-pointer",{"cursor-not-allowed":p||S}),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e}),d&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t&&(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-green-600"}),l&&(0,a.jsx)(sR.Z,{className:"h-5 w-5 text-red-600"})]})]})})]},s)})}),N&&l.explanation&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Explanation:"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.explanation})]}),c&&!N&&l.explanation&&(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>C(!0),className:"mt-4",children:[(0,a.jsx)(sI.Z,{className:"h-4 w-4 mr-2"}),"Show Explanation"]}),S&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-yellow-800",children:"Time's up! Your answer has been automatically submitted."})}),c&&d&&(0,a.jsx)("div",{className:o("mt-4 p-3 rounded-lg",R()?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:(0,a.jsx)("p",{className:o("text-sm font-medium",R()?"text-green-800":"text-red-800"),children:R()?"Correct!":"Incorrect. The correct answer is highlighted above."})})]})]})}function sz(e){var s,t;let{question:l,onAnswer:i,selectedAnswer:n=[],isAnswered:c=!1,showCorrectAnswer:d=!1,timeRemaining:x,onHint:u,hintsUsed:h=!1,disabled:g=!1,className:p}=e,[f,j]=(0,r.useState)(null),[v,N]=(0,r.useState)(null),[C,S]=(0,r.useState)(n),[Z,A]=(0,r.useState)(!1),[q,R]=(0,r.useState)(!1),I=(null===(s=l.dragItems)||void 0===s?void 0:s.map((e,s)=>({id:"target-".concat(s),label:"Target ".concat(s+1),category:e.category,acceptedItems:[e.id],position:{x:100+200*s,y:300}})))||[];(0,r.useEffect)(()=>{l.timeLimit&&void 0!==x&&x<=0&&(R(!0),0===C.length&&i([]))},[x,l.timeLimit,C.length,i]);let T=(e,s)=>{g||q||(j(s),e.dataTransfer.effectAllowed="move")},z=(e,s)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",N(s)},P=()=>{N(null)},L=(e,s)=>{if(e.preventDefault(),!f||g||q)return;let t=I.find(e=>e.id===s);if(!t)return;if(!t.acceptedItems.includes(f.id)){N(null),j(null);return}let a=C.filter(e=>e.itemId!==f.id);a.push({itemId:f.id,targetId:s}),S(a),i(a),N(null),j(null)},F=()=>{j(null),N(null)},M=e=>{if(g||q)return;let s=C.filter(s=>s.itemId!==e);S(s),i(s)},E=e=>{if(!d)return!1;let s=C.find(s=>s.itemId===e);if(!s)return!1;let t=I.find(s=>s.acceptedItems.includes(e));return(null==t?void 0:t.id)===s.targetId},D=e=>!!(d&&C.find(s=>s.itemId===e))&&!E(e),B=e=>C.filter(s=>s.targetId===e).map(e=>{var s;return null===(s=l.dragItems)||void 0===s?void 0:s.find(s=>s.id===e.itemId)}).filter(Boolean),U=e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"));return(0,a.jsxs)(b,{className:o("w-full",p),children:[(0,a.jsx)(y,{children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(w,{className:"text-lg font-semibold mb-2",children:l.question}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[(0,a.jsxs)(G,{variant:"outline",children:[l.points," points"]}),l.timeLimit&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:void 0!==x?U(x):"".concat(U(l.timeLimit)," limit")})]}),l.hints&&l.hints.length>0&&(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:u,disabled:h||g,className:"h-6 px-2",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4 mr-1"}),"Hint"]}),(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>{g||q||(S([]),i([]))},disabled:g||q||0===C.length,className:"h-6 px-2",children:[(0,a.jsx)(er.Z,{className:"h-4 w-4 mr-1"}),"Reset"]})]}),l.timeLimit&&void 0!==x&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(_,{value:x/l.timeLimit*100,className:"h-2"})}),l.image&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("img",{src:l.image,alt:"Question illustration",className:"max-w-full h-auto rounded-lg border"})})]})})}),(0,a.jsxs)(k,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Drag these items to the correct targets:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-3",children:null===(t=l.dragItems)||void 0===t?void 0:t.map(e=>{let s=C.some(s=>s.itemId===e.id),t=E(e.id),r=D(e.id);return(0,a.jsxs)("div",{draggable:!g&&!q&&!s,onDragStart:s=>T(s,e),onDragEnd:F,className:o("flex items-center gap-2 p-3 rounded-lg border cursor-move transition-all duration-200",{"bg-primary/5 border-primary hover:bg-primary/10":!s&&!g&&!q,"bg-green-50 border-green-200":d&&t,"bg-red-50 border-red-200":d&&r,"opacity-50 cursor-not-allowed":g||q||s,"cursor-move":!g&&!q&&!s}),children:[e.image&&(0,a.jsx)("img",{src:e.image,alt:e.content,className:"w-8 h-8 rounded object-cover"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.content}),d&&(0,a.jsxs)("div",{className:"flex items-center",children:[t&&(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-600"}),r&&(0,a.jsx)(sR.Z,{className:"h-4 w-4 text-red-600"})]})]},e.id)})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Drop zones:"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(e=>{let s=B(e.id),t=v===e.id;return(0,a.jsx)("div",{onDragOver:s=>z(s,e.id),onDragLeave:P,onDrop:s=>L(s,e.id),className:o("min-h-[120px] p-4 rounded-lg border-2 border-dashed transition-all duration-200",{"border-primary bg-primary/5":t&&!g&&!q,"border-muted-foreground/25":!t,"border-green-200 bg-green-50":d&&s.length>0&&s.every(e=>E(e.id)),"border-red-200 bg-red-50":d&&s.length>0&&s.some(e=>D(e.id))}),children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h5",{className:"text-sm font-medium mb-2",children:e.label}),e.category&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:e.category}),(0,a.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,a.jsxs)("div",{className:o("flex items-center justify-between gap-2 p-2 rounded border text-xs",{"bg-green-100 border-green-300":d&&E(e.id),"bg-red-100 border-red-300":d&&D(e.id),"bg-muted":!d}),children:[(0,a.jsx)("span",{className:"flex-1",children:e.content}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>M(e.id),disabled:g||q,className:"h-6 w-6 p-0",children:(0,a.jsx)(sR.Z,{className:"h-3 w-3"})})]},e.id))}),0===s.length&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Drop items here"})]})},e.id)})})]}),Z&&l.explanation&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Explanation:"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.explanation})]}),c&&!Z&&l.explanation&&(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>A(!0),className:"mt-4",children:[(0,a.jsx)(sI.Z,{className:"h-4 w-4 mr-2"}),"Show Explanation"]}),q&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-yellow-800",children:"Time's up! Your answers have been automatically submitted."})}),c&&d&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm",children:0===C.length?"No items were placed. The correct placements are highlighted above.":"You placed ".concat(C.length," item(s). Correct placements are highlighted in green, incorrect ones in red.")})})]})]})}var sP=t(265),sL=t(5051);function sF(e){let{question:s,onAnswer:t,selectedAnswer:l=[],isAnswered:i=!1,showCorrectAnswer:n=!1,timeRemaining:c,onHint:d,hintsUsed:x=!1,disabled:u=!1,className:h}=e,[g,p]=(0,r.useState)([]),[f,j]=(0,r.useState)(l),[v,N]=(0,r.useState)(!1),[C,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s.sequenceItems&&p(n?[...s.sequenceItems].sort((e,s)=>e.order-s.order):[...s.sequenceItems].sort(()=>Math.random()-.5))},[s.sequenceItems,n]),(0,r.useEffect)(()=>{if(s.timeLimit&&void 0!==c&&c<=0&&(S(!0),0===f.length)){let e=g.map((e,s)=>({itemId:e.id,order:s+1}));j(e),t(e)}},[c,s.timeLimit,f.length,g,t]);let Z=e=>{if(u||C||0===e)return;let s=[...g],a=s[e];s[e]=s[e-1],s[e-1]=a,p(s);let r=s.map((e,s)=>({itemId:e.id,order:s+1}));j(r),t(r)},A=e=>{if(u||C||e===g.length-1)return;let s=[...g],a=s[e];s[e]=s[e+1],s[e+1]=a,p(s);let r=s.map((e,s)=>({itemId:e.id,order:s+1}));j(r),t(r)},q=(e,s)=>!!n&&e.order===s+1,R=(e,s)=>!!n&&!q(e,s),I=e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"));return(0,a.jsxs)(b,{className:o("w-full",h),children:[(0,a.jsx)(y,{children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(w,{className:"text-lg font-semibold mb-2",children:s.question}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[(0,a.jsxs)(G,{variant:"outline",children:[s.points," points"]}),s.timeLimit&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:void 0!==c?I(c):"".concat(I(s.timeLimit)," limit")})]}),s.hints&&s.hints.length>0&&(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:d,disabled:x||u,className:"h-6 px-2",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4 mr-1"}),"Hint"]}),(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>{var e;if(u||C)return;let a=(null===(e=s.sequenceItems)||void 0===e?void 0:e.sort((e,s)=>e.order-s.order))||[];p(a);let r=a.map((e,s)=>({itemId:e.id,order:s+1}));j(r),t(r)},disabled:u||C,className:"h-6 px-2",children:[(0,a.jsx)(er.Z,{className:"h-4 w-4 mr-1"}),"Reset"]})]}),s.timeLimit&&void 0!==c&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(_,{value:c/s.timeLimit*100,className:"h-2"})}),s.image&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("img",{src:s.image,alt:"Question illustration",className:"max-w-full h-auto rounded-lg border"})})]})})}),(0,a.jsxs)(k,{children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Arrange the items in the correct order by using the up/down arrows:"})}),(0,a.jsx)("div",{className:"space-y-3",children:g.map((e,s)=>{let t=q(e,s),r=R(e,s);return(0,a.jsxs)("div",{className:o("flex items-center gap-3 p-4 rounded-lg border transition-all duration-200",{"bg-green-50 border-green-200":n&&t,"bg-red-50 border-red-200":n&&r,"bg-muted/50":!n}),children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-medium",children:s+1}),(0,a.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[e.image&&(0,a.jsx)("img",{src:e.image,alt:e.content,className:"w-12 h-12 rounded object-cover"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.content})]}),n&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t&&(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-green-600"}),r&&(0,a.jsx)(sR.Z,{className:"h-5 w-5 text-red-600"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>Z(s),disabled:u||C||0===s,className:"h-6 w-6 p-0",children:(0,a.jsx)(sP.Z,{className:"h-3 w-3"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>A(s),disabled:u||C||s===g.length-1,className:"h-6 w-6 p-0",children:(0,a.jsx)(sL.Z,{className:"h-3 w-3"})})]})]},e.id)})}),v&&s.explanation&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Explanation:"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:s.explanation})]}),i&&!v&&s.explanation&&(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>N(!0),className:"mt-4",children:[(0,a.jsx)(sI.Z,{className:"h-4 w-4 mr-2"}),"Show Explanation"]}),C&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-yellow-800",children:"Time's up! Your current sequence has been submitted."})}),i&&n&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm",children:0===f.length?"No sequence was provided. The correct order is shown above.":"Your sequence has been submitted. Correct positions are highlighted in green, incorrect ones in red."})})]})]})}let sM=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:o("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});function sE(e){let{question:s,onAnswer:t,selectedAnswer:l=[],isAnswered:i=!1,showCorrectAnswer:n=!1,timeRemaining:c,onHint:d,hintsUsed:x=!1,disabled:u=!1,className:h}=e,[g,p]=(0,r.useState)(l),[f,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(s.timeLimit&&void 0!==c&&c<=0&&(N(!0),0===g.length)){var e;let a=(null===(e=s.blanks)||void 0===e?void 0:e.map(e=>({blankId:e.id,answer:""})))||[];p(a),t(a)}},[c,s.timeLimit,g.length,s.blanks,t]);let C=(e,s)=>{if(u||v)return;let a=g.filter(s=>s.blankId!==e);a.push({blankId:e,answer:s}),p(a),t(a)},S=e=>{let s=g.find(s=>s.blankId===e);return(null==s?void 0:s.answer)||""},Z=e=>{if(!n)return!1;let s=S(e.id).toLowerCase().trim();return s===e.correctAnswer.toLowerCase().trim()||!!e.alternatives&&e.alternatives.some(e=>e.toLowerCase().trim()===s)},A=e=>!!n&&""!==S(e.id).trim()&&!Z(e),q=e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"));return(0,a.jsxs)(b,{className:o("w-full",h),children:[(0,a.jsx)(y,{children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(w,{className:"text-lg font-semibold mb-2",children:"Fill in the blanks"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[(0,a.jsxs)(G,{variant:"outline",children:[s.points," points"]}),s.timeLimit&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:void 0!==c?q(c):"".concat(q(s.timeLimit)," limit")})]}),s.hints&&s.hints.length>0&&(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:d,disabled:x||u,className:"h-6 px-2",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4 mr-1"}),"Hint"]}),(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>{u||v||(p([]),t([]))},disabled:u||v,className:"h-6 px-2",children:[(0,a.jsx)(er.Z,{className:"h-4 w-4 mr-1"}),"Reset"]})]}),s.timeLimit&&void 0!==c&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(_,{value:c/s.timeLimit*100,className:"h-2"})}),s.image&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("img",{src:s.image,alt:"Question illustration",className:"max-w-full h-auto rounded-lg border"})})]})})}),(0,a.jsxs)(k,{children:[(0,a.jsx)("div",{className:"mb-6",children:(()=>{if(!s.blanks||0===s.blanks.length)return(0,a.jsx)("p",{className:"text-sm",children:s.question});let e=[...s.blanks].sort((e,s)=>e.position-s.position),t=[],r=0;return e.forEach((l,i)=>{let c=s.question.substring(r,l.position),d=i===e.length-1?s.question.substring(l.position):"";c&&t.push(c),t.push((0,a.jsx)("span",{className:"inline-block mx-1",children:(0,a.jsx)(sM,{value:S(l.id),onChange:e=>C(l.id,e.target.value),placeholder:"Blank ".concat(i+1),disabled:u||v,className:o("inline-block w-32 h-8 text-center",{"border-green-500 bg-green-50":n&&Z(l),"border-red-500 bg-red-50":n&&A(l)})})},"blank-".concat(l.id))),d&&t.push(d),r=l.position}),(0,a.jsx)("div",{className:"text-sm leading-relaxed",children:t})})()}),s.hints&&s.hints.length>0&&x&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2 text-blue-800",children:"Hint:"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:s.hints[0]})]}),n&&s.blanks&&(0,a.jsx)("div",{className:"mb-6 space-y-3",children:s.blanks.map((e,s)=>{let t=S(e.id),r=Z(e),l=A(e);return(0,a.jsxs)("div",{className:o("p-3 rounded-lg border",{"bg-green-50 border-green-200":r,"bg-red-50 border-red-200":l,"bg-muted/50":!r&&!l}),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:["Blank ",s+1]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[r&&(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-600"}),l&&(0,a.jsx)(sR.Z,{className:"h-4 w-4 text-red-600"})]})]}),(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Your answer:"}),(0,a.jsx)("span",{className:o("ml-2 px-2 py-1 rounded text-xs",{"bg-green-100 text-green-800":r,"bg-red-100 text-red-800":l,"bg-muted":!r&&!l}),children:t||"(empty)"})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Correct answer:"}),(0,a.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:e.correctAnswer})]}),e.hint&&(0,a.jsxs)("p",{className:"text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-medium",children:"Hint:"})," ",e.hint]})]})]},e.id)})}),f&&s.explanation&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Explanation:"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:s.explanation})]}),i&&!f&&s.explanation&&(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>j(!0),className:"mt-4",children:[(0,a.jsx)(sI.Z,{className:"h-4 w-4 mr-2"}),"Show Explanation"]}),v&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-yellow-800",children:"Time's up! Your answers have been automatically submitted."})}),i&&n&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm",children:0===g.length?"No answers were provided. The correct answers are shown above.":"You provided ".concat(g.length," answer(s). Correct answers are highlighted in green, incorrect ones in red.")})})]})]})}sM.displayName="Input";var sD=t(6858);function sB(e){var s,t;let{question:l,onAnswer:i,selectedAnswer:n=[],isAnswered:c=!1,showCorrectAnswer:d=!1,timeRemaining:x,onHint:u,hintsUsed:h=!1,disabled:g=!1,className:p}=e,[f,j]=(0,r.useState)(n),[v,N]=(0,r.useState)(null),[C,S]=(0,r.useState)(null),[Z,A]=(0,r.useState)(!1),[q,R]=(0,r.useState)(!1);(0,r.useEffect)(()=>{l.timeLimit&&void 0!==x&&x<=0&&(R(!0),0===f.length&&i([]))},[x,l.timeLimit,f.length,i]);let I=e=>{g||q||(v===e?N(null):C?(z(e,C),N(null),S(null)):N(e))},T=e=>{g||q||(C===e?S(null):v?(z(v,e),N(null),S(null)):S(e))},z=(e,s)=>{var t;let a=null===(t=l.matchingPairs)||void 0===t?void 0:t.find(t=>t.left===e&&t.right===s);if(!a)return;let r=f.filter(s=>s.leftId!==e);r.push({pairId:a.id,leftId:e,rightId:s}),j(r),i(r)},P=e=>{if(g||q)return;let s=f.filter(s=>s.leftId!==e);j(s),i(s)},L=(e,s)=>{if(!d)return!1;let t=f.find(s=>s.leftId===e);return!!t&&t.rightId===s},F=(e,s)=>{if(!d)return!1;let t=f.find(s=>s.leftId===e);return!!t&&t.rightId!==s},M=e=>{let s=f.find(s=>s.leftId===e);return(null==s?void 0:s.rightId)||null},E=e=>f.some(s=>s.rightId===e),D=e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"));return(0,a.jsxs)(b,{className:o("w-full",p),children:[(0,a.jsx)(y,{children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(w,{className:"text-lg font-semibold mb-2",children:l.question}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[(0,a.jsxs)(G,{variant:"outline",children:[l.points," points"]}),l.timeLimit&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:void 0!==x?D(x):"".concat(D(l.timeLimit)," limit")})]}),l.hints&&l.hints.length>0&&(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:u,disabled:h||g,className:"h-6 px-2",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4 mr-1"}),"Hint"]}),(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>{g||q||(j([]),i([]),N(null),S(null))},disabled:g||q,className:"h-6 px-2",children:[(0,a.jsx)(er.Z,{className:"h-4 w-4 mr-1"}),"Reset"]})]}),l.timeLimit&&void 0!==x&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(_,{value:x/l.timeLimit*100,className:"h-2"})}),l.image&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("img",{src:l.image,alt:"Question illustration",className:"max-w-full h-auto rounded-lg border"})})]})})}),(0,a.jsxs)(k,{children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Match the items on the left with the correct items on the right by clicking on them in sequence."})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-center",children:"Left Column"}),null===(s=l.matchingPairs)||void 0===s?void 0:s.map(e=>{let s=M(e.left),t=v===e.left,r=null!==s;return(0,a.jsxs)("div",{onClick:()=>I(e.left),className:o("flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all duration-200",{"bg-primary/5 border-primary":t&&!g&&!q,"bg-green-50 border-green-200":d&&r&&L(e.left,s),"bg-red-50 border-red-200":d&&r&&F(e.left,s),"bg-muted/50":r&&!d,"hover:bg-muted/50":!g&&!q&&!r,"opacity-50 cursor-not-allowed":g||q}),children:[e.leftImage&&(0,a.jsx)("img",{src:e.leftImage,alt:e.left,className:"w-8 h-8 rounded object-cover"}),(0,a.jsx)("span",{className:"text-sm font-medium flex-1",children:e.left}),r&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(sD.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),P(e.left)},disabled:g||q,className:"h-6 w-6 p-0",children:(0,a.jsx)(sR.Z,{className:"h-3 w-3"})})]})]},e.id)})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-center",children:"Right Column"}),null===(t=l.matchingPairs)||void 0===t?void 0:t.map(e=>{var s;let t=C===e.right,r=E(e.right),l=null===(s=f.find(s=>s.rightId===e.right))||void 0===s?void 0:s.leftId;return(0,a.jsxs)("div",{onClick:()=>T(e.right),className:o("flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all duration-200",{"bg-primary/5 border-primary":t&&!g&&!q,"bg-green-50 border-green-200":d&&r&&l&&L(l,e.right),"bg-red-50 border-red-200":d&&r&&l&&F(l,e.right),"bg-muted/50":r&&!d,"hover:bg-muted/50":!g&&!q&&!r,"opacity-50 cursor-not-allowed":g||q||r}),children:[e.rightImage&&(0,a.jsx)("img",{src:e.rightImage,alt:e.right,className:"w-8 h-8 rounded object-cover"}),(0,a.jsx)("span",{className:"text-sm font-medium flex-1",children:e.right}),d&&r&&(0,a.jsxs)("div",{className:"flex items-center",children:[l&&L(l,e.right)&&(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-600"}),l&&F(l,e.right)&&(0,a.jsx)(sR.Z,{className:"h-4 w-4 text-red-600"})]})]},e.id)})]})]}),f.length>0&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Current Matches:"}),(0,a.jsx)("div",{className:"space-y-2",children:f.map(e=>{var s;let t=null===(s=l.matchingPairs)||void 0===s?void 0:s.find(s=>s.id===e.pairId);return t?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:t.left}),(0,a.jsx)(sD.Z,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("span",{children:t.right})]},e.pairId):null})})]}),Z&&l.explanation&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Explanation:"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.explanation})]}),c&&!Z&&l.explanation&&(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>A(!0),className:"mt-4",children:[(0,a.jsx)(sI.Z,{className:"h-4 w-4 mr-2"}),"Show Explanation"]}),q&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-yellow-800",children:"Time's up! Your current matches have been submitted."})}),c&&d&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm",children:0===f.length?"No matches were made. The correct matches are highlighted above.":"You made ".concat(f.length," match(es). Correct matches are highlighted in green, incorrect ones in red.")})})]})]})}function sU(e){let{question:s,onAnswer:t,selectedAnswer:l,isAnswered:i=!1,showCorrectAnswer:n=!1,timeRemaining:c,onHint:d,hintsUsed:x=!1,disabled:u=!1,className:h}=e,[g,p]=(0,r.useState)(l),[f,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s.timeLimit&&void 0!==c&&c<=0&&(N(!0),void 0===g&&t(!1))},[c,s.timeLimit,g,t]);let C=()=>"boolean"==typeof s.correctAnswer?s.correctAnswer:1===s.correctAnswer||"true"===s.correctAnswer,S=e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"));return(0,a.jsxs)(b,{className:o("w-full",h),children:[(0,a.jsx)(y,{children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(w,{className:"text-lg font-semibold mb-2",children:s.question}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[(0,a.jsxs)(G,{variant:"outline",children:[s.points," points"]}),s.timeLimit&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:void 0!==c?S(c):"".concat(S(s.timeLimit)," limit")})]}),s.hints&&s.hints.length>0&&(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:d,disabled:x||u,className:"h-6 px-2",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4 mr-1"}),"Hint"]})]}),s.timeLimit&&void 0!==c&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(_,{value:c/s.timeLimit*100,className:"h-2"})}),s.image&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("img",{src:s.image,alt:"Question illustration",className:"max-w-full h-auto rounded-lg border"})}),s.videoUrl&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("video",{src:s.videoUrl,controls:!0,className:"max-w-full h-auto rounded-lg border"})})})]})})}),(0,a.jsxs)(k,{children:[(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(sw,{value:null==g?void 0:g.toString(),onValueChange:e=>{if(u||v)return;let s="true"===e;p(s),t(s)},disabled:u||v,className:"space-y-3",children:[(0,a.jsxs)("div",{className:o("flex items-center space-x-3 p-4 rounded-lg border transition-all duration-200 cursor-pointer",{"bg-primary/5 border-primary":!0===g&&!n,"bg-green-50 border-green-200":n&&!0===C(),"bg-red-50 border-red-200":n&&!0===g&&!C(),"hover:bg-muted/50":!u&&!v,"opacity-50 cursor-not-allowed":u||v}),children:[(0,a.jsx)(sk,{value:"true",id:"true-option",disabled:u||v,className:"mt-1"}),(0,a.jsxs)(sZ,{htmlFor:"true-option",className:o("flex-1 cursor-pointer flex items-center gap-3",{"cursor-not-allowed":u||v}),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(e$.Z,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"True"})]}),n&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[!0===C()&&(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-green-600"}),!0===g&&!C()&&(0,a.jsx)(sR.Z,{className:"h-5 w-5 text-red-600"})]})]})]}),(0,a.jsxs)("div",{className:o("flex items-center space-x-3 p-4 rounded-lg border transition-all duration-200 cursor-pointer",{"bg-primary/5 border-primary":!1===g&&!n,"bg-green-50 border-green-200":n&&!1===C(),"bg-red-50 border-red-200":n&&!1===g&&!C(),"hover:bg-muted/50":!u&&!v,"opacity-50 cursor-not-allowed":u||v}),children:[(0,a.jsx)(sk,{value:"false",id:"false-option",disabled:u||v,className:"mt-1"}),(0,a.jsxs)(sZ,{htmlFor:"false-option",className:o("flex-1 cursor-pointer flex items-center gap-3",{"cursor-not-allowed":u||v}),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.Z,{className:"h-5 w-5 text-red-600"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"False"})]}),n&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[!1===C()&&(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-green-600"}),!1===g&&!C()&&(0,a.jsx)(sR.Z,{className:"h-5 w-5 text-red-600"})]})]})]})]})}),f&&s.explanation&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Explanation:"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:s.explanation})]}),i&&!f&&s.explanation&&(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>j(!0),className:"mt-4",children:[(0,a.jsx)(sI.Z,{className:"h-4 w-4 mr-2"}),"Show Explanation"]}),v&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-yellow-800",children:"Time's up! Your answer has been automatically submitted."})}),i&&n&&(0,a.jsx)("div",{className:o("mt-4 p-3 rounded-lg",i&&n&&void 0!==g&&g===("true"===s.correctAnswer)?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:(0,a.jsx)("p",{className:o("text-sm font-medium",i&&n&&void 0!==g&&g===("true"===s.correctAnswer)?"text-green-800":"text-red-800"),children:i&&n&&void 0!==g&&g===("true"===s.correctAnswer)?"Correct!":"Incorrect. The correct answer is ".concat(C()?"True":"False",".")})})]})]})}function sO(e){let{question:s,onAnswer:t,selectedAnswer:r,isAnswered:l=!1,showCorrectAnswer:i=!1,timeRemaining:n,onHint:c,hintsUsed:o=!1,disabled:d=!1,className:m}=e;switch(s.type){case"multiple-choice":return(0,a.jsx)(sT,{question:s,onAnswer:t,selectedAnswer:r,isAnswered:l,showCorrectAnswer:i,timeRemaining:n,onHint:c,hintsUsed:o,disabled:d,className:m});case"drag-drop":return(0,a.jsx)(sz,{question:s,onAnswer:t,selectedAnswer:r,isAnswered:l,showCorrectAnswer:i,timeRemaining:n,onHint:c,hintsUsed:o,disabled:d,className:m});case"sequence":return(0,a.jsx)(sF,{question:s,onAnswer:t,selectedAnswer:r,isAnswered:l,showCorrectAnswer:i,timeRemaining:n,onHint:c,hintsUsed:o,disabled:d,className:m});case"fill-blank":return(0,a.jsx)(sE,{question:s,onAnswer:t,selectedAnswer:r,isAnswered:l,showCorrectAnswer:i,timeRemaining:n,onHint:c,hintsUsed:o,disabled:d,className:m});case"matching":return(0,a.jsx)(sB,{question:s,onAnswer:t,selectedAnswer:r,isAnswered:l,showCorrectAnswer:i,timeRemaining:n,onHint:c,hintsUsed:o,disabled:d,className:m});case"true-false":return(0,a.jsx)(sU,{question:s,onAnswer:t,selectedAnswer:r,isAnswered:l,showCorrectAnswer:i,timeRemaining:n,onHint:c,hintsUsed:o,disabled:d,className:m});default:return(0,a.jsx)("div",{className:"p-4 border rounded-lg bg-muted/50",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Unsupported question type: ",s.type]})})}}var sV=t(7769),sY=t(2208),sQ=t(6211);function sH(e){let{questions:s,currentQuestionIndex:t,onQuestionChange:l,answers:i,timeRemaining:n,totalTime:c,onSkip:d,onReset:x,onFinish:u,onToggleReview:h,isReviewMode:g=!1,disabled:p=!1,className:f}=e,[j,v]=(0,r.useState)(!1),N=Array.from(i.keys()).length,C=N/s.length*100,S=e=>i.has(e)?"answered":e===t?"current":"unanswered",Z=e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0")),A=()=>{t>0&&l(t-1)},q=()=>{t<s.length-1&&l(t+1)},R=e=>{l(e),v(!1)};return(0,r.useEffect)(()=>{let e=e=>{if(!p)switch(e.key){case"ArrowLeft":e.preventDefault(),A();break;case"ArrowRight":e.preventDefault(),q();break;case"Escape":e.preventDefault(),v(!1)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,p]),(0,a.jsxs)("div",{className:o("space-y-4",f),children:[(0,a.jsx)(b,{children:(0,a.jsx)(k,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"font-medium",children:["Question ",t+1," of ",s.length]}),(0,a.jsxs)(G,{variant:"outline",children:[N," answered"]}),void 0!==n&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:Z(n)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>v(!j),disabled:p,children:[g?(0,a.jsx)(sV.Z,{className:"h-4 w-4"}):(0,a.jsx)(sY.Z,{className:"h-4 w-4"}),g?"Hide":"Show"," Questions"]}),(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:h,disabled:p,children:[(0,a.jsx)(sQ.Z,{className:"h-4 w-4 mr-1"}),g?"Exit Review":"Review"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(_,{value:C,className:"h-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Progress: ",Math.round(C),"%"]}),(0,a.jsxs)("span",{children:[N,"/",s.length," completed"]})]})]})]})})}),j&&(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsx)(w,{className:"text-sm",children:"Question Navigator"})}),(0,a.jsx)(k,{children:(0,a.jsx)("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:s.map((e,s)=>{let t=S(s);return(0,a.jsx)(m,{variant:"current"===t?"default":"outline",size:"sm",onClick:()=>R(s),disabled:p,className:o("h-8 w-8 p-0 text-xs",{"bg-green-100 border-green-300 text-green-800":"answered"===t,"bg-primary text-primary-foreground":"current"===t,"bg-muted":"unanswered"===t}),children:"answered"===t?(0,a.jsx)(ev.Z,{className:"h-4 w-4"}):(0,a.jsx)("span",{children:s+1})},s)})})})]}),(0,a.jsx)(b,{children:(0,a.jsx)(k,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:A,disabled:p||0===t,children:[(0,a.jsx)(en.Z,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:q,disabled:p||t===s.length-1,children:["Next",(0,a.jsx)(ec.Z,{className:"h-4 w-4 ml-1"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:d,disabled:p,children:[(0,a.jsx)(es.Z,{className:"h-4 w-4 mr-1"}),"Skip"]}),(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:x,disabled:p,children:[(0,a.jsx)(er.Z,{className:"h-4 w-4 mr-1"}),"Reset"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>v(!j),disabled:p,children:[(0,a.jsx)(sI.Z,{className:"h-4 w-4 mr-1"}),j?"Hide":"Show"," List"]}),(0,a.jsx)(m,{variant:"default",size:"sm",onClick:u,disabled:p,className:"bg-primary hover:bg-primary/90",children:"Finish Quiz"})]})]})})}),void 0!==n&&n<60&&n>0&&(0,a.jsx)(b,{className:"border-yellow-200 bg-yellow-50",children:(0,a.jsx)(k,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-yellow-800",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:n<30?"Warning: Only ".concat(n," seconds remaining!"):"Time remaining: ".concat(Z(n))})]})})}),(0,a.jsx)(b,{className:"bg-muted/50",children:(0,a.jsx)(k,{className:"p-3",children:(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,a.jsx)("strong",{children:"Keyboard shortcuts:"})," ← Previous question, → Next question, Esc Close question list"]})})})]})}var sG=t(3085);function sW(e){var s,t,l,i;let{results:n,onRetake:c,onExit:d,className:x}=e,[g,f]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:o("w-full max-w-4xl mx-auto space-y-6",x),children:[(0,a.jsxs)(b,{className:"text-center",children:[(0,a.jsxs)(y,{children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-4",children:n.passed?(0,a.jsx)(h.Z,{className:"h-16 w-16 text-yellow-500"}):(0,a.jsx)(eN.Z,{className:"h-16 w-16 text-muted-foreground"})}),(0,a.jsx)(w,{className:"text-2xl",children:n.passed?"Congratulations!":"Keep Learning!"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:(s=n.percentage)>=90?"Outstanding! You have mastered this topic.":s>=80?"Excellent work! You have a strong understanding.":s>=70?"Good job! You passed the quiz.":s>=50?"You're getting there! Review the material and try again.":"Keep studying! You'll get it next time."})]}),(0,a.jsxs)(k,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:o("text-6xl font-bold",(t=n.percentage)>=90?"text-green-600":t>=70?"text-blue-600":t>=50?"text-yellow-600":"text-red-600"),children:[n.percentage,"%"]}),(0,a.jsx)(G,{variant:(l=n.percentage)>=90?"default":l>=70?"secondary":l>=50?"outline":"destructive",className:"text-lg px-4 py-2",children:n.passed?"PASSED":"NEEDS IMPROVEMENT"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:n.questionResults.filter(e=>e.isCorrect).length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Correct"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:n.questionResults.filter(e=>!e.isCorrect).length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Incorrect"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:n.score}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Points Earned"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(i=n.timeSpent,"".concat(Math.floor(i/60),":").concat((i%60).toString().padStart(2,"0")))}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Time Spent"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Overall Progress"}),(0,a.jsxs)("span",{children:[n.percentage,"%"]})]}),(0,a.jsx)(_,{value:n.percentage,className:"h-3"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,a.jsxs)(m,{onClick:c,variant:"default",size:"lg",children:[(0,a.jsx)(er.Z,{className:"h-4 w-4 mr-2"}),"Retake Quiz"]}),(0,a.jsx)(m,{onClick:d,variant:"outline",size:"lg",children:"Exit to Dashboard"}),(0,a.jsxs)(m,{onClick:()=>f(!g),variant:"ghost",size:"lg",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),g?"Hide":"Show"," Details"]})]})]})]}),g&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsx)(w,{children:"Question Review"})}),(0,a.jsx)(k,{children:(0,a.jsx)("div",{className:"space-y-4",children:n.questionResults.map((e,s)=>(0,a.jsx)(s_,{questionResult:e,questionNumber:s+1},e.questionId))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5 text-green-600"}),"Strengths"]})}),(0,a.jsx)(k,{children:n.strengths.length>0?(0,a.jsx)("ul",{className:"space-y-2",children:n.strengths.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{children:e})]},s))}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No specific strengths identified."})})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(sG.Z,{className:"h-5 w-5 text-red-600"}),"Areas for Improvement"]})}),(0,a.jsx)(k,{children:n.weaknesses.length>0?(0,a.jsx)("ul",{className:"space-y-2",children:n.weaknesses.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,a.jsx)(sR.Z,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{children:e})]},s))}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No specific weaknesses identified."})})]})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(em.Z,{className:"h-5 w-5 text-yellow-600"}),"Recommendations"]})}),(0,a.jsx)(k,{children:n.recommendations.length>0?(0,a.jsx)("ul",{className:"space-y-2",children:n.recommendations.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{children:e})]},s))}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No specific recommendations at this time."})})]})]})]})}function s_(e){let{questionResult:s,questionNumber:t}=e,[l,i]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:o("p-4 rounded-lg border transition-all duration-200",{"bg-green-50 border-green-200":s.isCorrect,"bg-red-50 border-red-200":!s.isCorrect}),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:o("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",{"bg-green-100 text-green-800":s.isCorrect,"bg-red-100 text-red-800":!s.isCorrect}),children:t}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:s.question}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-1",children:[(0,a.jsxs)("span",{children:[s.pointsEarned,"/",s.maxPoints," points"]}),(0,a.jsxs)("span",{children:[Math.round(s.timeSpent),"s"]})]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:s.isCorrect?(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-green-600"}):(0,a.jsx)(sR.Z,{className:"h-5 w-5 text-red-600"})})]}),(0,a.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsx)("span",{className:"font-medium",children:"Your answer: "}),(0,a.jsx)("span",{className:o("px-2 py-1 rounded text-xs",{"bg-green-100 text-green-800":s.isCorrect,"bg-red-100 text-red-800":!s.isCorrect}),children:s.userAnswer?String(s.userAnswer):"No answer"})]}),!s.isCorrect&&(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsx)("span",{className:"font-medium",children:"Correct answer: "}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:String(s.correctAnswer)})]})]}),s.explanation&&(0,a.jsx)("div",{className:"mt-3",children:l?(0,a.jsx)("div",{className:"p-3 bg-muted/50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-medium",children:"Explanation: "}),s.explanation]})}):(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>i(!0),className:"h-6 px-2 text-xs",children:"Show Explanation"})})]})}class sK{static calculateScore(e,s){let t=[],a=0,r=0,l=0;e.forEach((e,i)=>{let n=s.get(i),c=this.scoreQuestion(e,n);t.push(c),a+=c.pointsEarned,r+=c.maxPoints,c.isCorrect&&l++});let i=r>0?a/r*100:0,n=i>=70;return{attemptId:"attempt-".concat(Date.now()),quizId:0,userId:"current-user",score:a,maxScore:r,percentage:Math.round(i),passed:n,timeSpent:this.calculateTotalTimeSpent(t),completedAt:new Date().toISOString(),questionResults:t,strengths:this.identifyStrengths(t),weaknesses:this.identifyWeaknesses(t),recommendations:this.generateRecommendations(t,i)}}static scoreQuestion(e,s){let t=e.points,a=0,r=!1,l=(null==s?void 0:s.timeSpent)||0;return s&&(a=(r=this.checkAnswer(e,s.answer))?t:0),{questionId:e.id,question:e.question,userAnswer:(null==s?void 0:s.answer)||null,correctAnswer:e.correctAnswer,isCorrect:r,pointsEarned:a,maxPoints:t,timeSpent:l,explanation:e.explanation}}static checkAnswer(e,s){switch(e.type){case"multiple-choice":return this.checkMultipleChoice(e,s);case"true-false":return this.checkTrueFalse(e,s);case"sequence":return this.checkSequence(e,s);case"drag-drop":return this.checkDragDrop(e,s);case"fill-blank":return this.checkFillBlank(e,s);case"matching":return this.checkMatching(e,s);default:return!1}}static checkMultipleChoice(e,s){return Array.isArray(e.correctAnswer)?!!Array.isArray(s)&&e.correctAnswer.length===s.length&&e.correctAnswer.every(e=>s.includes(e)):s===e.correctAnswer}static checkTrueFalse(e,s){return s===("boolean"==typeof e.correctAnswer?e.correctAnswer:1===e.correctAnswer||"true"===e.correctAnswer)}static checkSequence(e,s){return!!(Array.isArray(s)&&Array.isArray(e.correctAnswer))&&s.length===e.correctAnswer.length&&s.every((s,t)=>s.order===e.correctAnswer[t])}static checkDragDrop(e,s){return!!Array.isArray(s)&&!!e.dragItems&&s.every(s=>{var t,a;let r=null===(t=e.dragItems)||void 0===t?void 0:t.find(e=>e.id===s.itemId);return r&&s.targetId==="target-".concat(null===(a=e.dragItems)||void 0===a?void 0:a.indexOf(r))})}static checkFillBlank(e,s){return!!Array.isArray(s)&&!!e.blanks&&e.blanks.every(e=>{let t=s.find(s=>s.blankId===e.id);if(!t)return!1;let a=t.answer.toLowerCase().trim();return a===e.correctAnswer.toLowerCase().trim()||!!e.alternatives&&e.alternatives.some(e=>e.toLowerCase().trim()===a)})}static checkMatching(e,s){return!!Array.isArray(s)&&!!e.matchingPairs&&e.matchingPairs.every(e=>{let t=s.find(s=>s.left===e.left);return t&&t.right===e.right})}static calculateTotalTimeSpent(e){return e.reduce((e,s)=>e+s.timeSpent,0)}static identifyStrengths(e){let s=[],t=e.filter(e=>e.isCorrect);return t.length===e.length?s.push("Perfect score! You have excellent knowledge in this area."):t.length>=.8*e.length&&s.push("Strong performance! You have good understanding of most concepts."),new Set(e.map(e=>e.questionId)).size>1&&s.push("You performed well across different question types."),s}static identifyWeaknesses(e){let s=[],t=e.filter(e=>!e.isCorrect);return t.length>0&&s.push("You missed ".concat(t.length," question(s). Review the explanations to improve.")),e.filter(e=>e.timeSpent>120).length>0&&s.push("Some questions took longer than expected. Consider reviewing the material."),s}static generateRecommendations(e,s){let t=[];return s<50?t.push("Consider reviewing the fundamental concepts before retaking the quiz."):s<70?t.push("You're close to passing! Review the incorrect answers and try again."):s<90?t.push("Good job! You passed. Consider reviewing the explanations to improve further."):t.push("Excellent work! You have a strong understanding of the material."),e.filter(e=>!e.isCorrect).length>0&&t.push("Focus on the questions you got wrong and study the explanations provided."),t}static saveQuizAttempt(e){try{let s=this.getQuizAttempts();s.push(e),localStorage.setItem("quiz-attempts",JSON.stringify(s))}catch(e){console.error("Error saving quiz attempt:",e)}}static getQuizAttempts(){try{let e=localStorage.getItem("quiz-attempts");return e?JSON.parse(e):[]}catch(e){return console.error("Error loading quiz attempts:",e),[]}}static getQuizAttemptsForQuiz(e){return this.getQuizAttempts().filter(s=>s.quizId===e)}static getBestScore(e){let s=this.getQuizAttemptsForQuiz(e);return s.length>0?Math.max(...s.map(e=>e.score)):0}static getAverageScore(e){let s=this.getQuizAttemptsForQuiz(e);return 0===s.length?0:Math.round(s.reduce((e,s)=>e+s.score,0)/s.length)}static canRetakeQuiz(e,s){return this.getQuizAttemptsForQuiz(e).length<s}static getQuizStatistics(e){let s=this.getQuizAttemptsForQuiz(e);if(0===s.length)return{totalAttempts:0,bestScore:0,averageScore:0,passRate:0,averageTimeSpent:0};let t=s.filter(e=>e.passed).length,a=s.reduce((e,s)=>e+s.timeSpent,0);return{totalAttempts:s.length,bestScore:Math.max(...s.map(e=>e.score)),averageScore:Math.round(s.reduce((e,s)=>e+s.score,0)/s.length),passRate:Math.round(t/s.length*100),averageTimeSpent:Math.round(a/s.length)}}}function sJ(e){var s;let{quizId:t,questions:l,config:i,onComplete:n,onExit:c,className:d}=e,[x,u]=(0,r.useState)({id:"quiz-".concat(t,"-").concat(Date.now()),quizId:t,userId:"current-user",currentQuestionIndex:0,answers:new Map,startTime:new Date,timeRemaining:i.timeLimit,isCompleted:!1,isPaused:!1,hintsUsed:[],questionsSkipped:[]}),[h,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(x.isPaused||x.isCompleted||!x.timeRemaining)return;let e=setInterval(()=>{u(e=>e.timeRemaining&&e.timeRemaining>0?{...e,timeRemaining:e.timeRemaining-1}:(I(),e))},1e3);return()=>clearInterval(e)},[x.isPaused,x.isCompleted,x.timeRemaining]);let j=(0,r.useCallback)(e=>{u(s=>({...s,answers:new Map(s.answers).set(s.currentQuestionIndex,e)}))},[]),v=(0,r.useCallback)(e=>{u(s=>({...s,currentQuestionIndex:e}))},[]),N=(0,r.useCallback)(()=>{let e=l[x.currentQuestionIndex];(null==e?void 0:e.hints)&&e.hints.length>0&&u(e=>({...e,hintsUsed:[...e.hintsUsed,e.currentQuestionIndex]}))},[x.currentQuestionIndex,l]),C=(0,r.useCallback)(()=>{u(e=>({...e,questionsSkipped:[...e.questionsSkipped,e.currentQuestionIndex],currentQuestionIndex:Math.min(e.currentQuestionIndex+1,l.length-1)}))},[l.length]),Z=(0,r.useCallback)(()=>{u(e=>({...e,currentQuestionIndex:0,answers:new Map,timeRemaining:i.timeLimit,isCompleted:!1,isPaused:!1,hintsUsed:[],questionsSkipped:[]}))},[i.timeLimit]),A=(0,r.useCallback)(()=>{u(e=>({...e,isPaused:!e.isPaused}))},[]),q=(0,r.useCallback)(()=>sK.calculateScore(l,x.answers),[l,x.answers]),R=(0,r.useCallback)(()=>{let e=q(),s={id:"attempt-".concat(Date.now()),quizId:t,userId:"current-user",answers:Array.from(x.answers.entries()).map(e=>{let[s,t]=e;return{questionId:l[s].id,answer:t.answer,isCorrect:t.isCorrect,timeSpent:t.timeSpent}}),score:e.percentage,completedAt:new Date().toISOString(),timeSpent:e.timeSpent,passed:e.passed};sK.saveQuizAttempt(s),n(e)},[q,t,x.answers,l,n]),I=(0,r.useCallback)(()=>{u(e=>({...e,isCompleted:!0,isPaused:!0})),g(!0),R()},[R]),T=(0,r.useCallback)(()=>{f(e=>!e)},[]),z=l[x.currentQuestionIndex],P=x.answers.get(x.currentQuestionIndex);if(h){let e=q();return(0,a.jsx)(sW,{results:e,onRetake:Z,onExit:c,className:d})}return(0,a.jsxs)("div",{className:o("w-full max-w-6xl mx-auto space-y-6",d),children:[(0,a.jsx)(b,{children:(0,a.jsx)(y,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(w,{children:"Quiz Session"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Question ",x.currentQuestionIndex+1," of ",l.length]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[x.timeRemaining&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"font-mono text-lg",children:(s=x.timeRemaining,"".concat(Math.floor(s/60),":").concat((s%60).toString().padStart(2,"0")))})]}),(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:A,disabled:x.isCompleted,children:x.isPaused?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Resume"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X.Z,{className:"h-4 w-4 mr-2"}),"Pause"]})}),(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:c,children:"Exit"})]})]})})}),(0,a.jsx)(sH,{questions:l,currentQuestionIndex:x.currentQuestionIndex,onQuestionChange:v,answers:x.answers,timeRemaining:x.timeRemaining,totalTime:i.timeLimit,onSkip:C,onReset:Z,onFinish:I,onToggleReview:T,isReviewMode:p,disabled:x.isPaused||x.isCompleted}),z&&(0,a.jsx)(sO,{question:z,onAnswer:j,selectedAnswer:P,isAnswered:void 0!==P,showCorrectAnswer:p,timeRemaining:x.timeRemaining,onHint:N,hintsUsed:x.hintsUsed.includes(x.currentQuestionIndex),disabled:x.isPaused||x.isCompleted}),x.isPaused&&!x.isCompleted&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)(b,{className:"w-96",children:[(0,a.jsx)(y,{children:(0,a.jsx)(w,{className:"text-center",children:"Quiz Paused"})}),(0,a.jsxs)(k,{className:"text-center space-y-4",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Your progress has been saved. Click resume to continue."}),(0,a.jsxs)(m,{onClick:A,className:"w-full",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Resume Quiz"]})]})]})})]})}let s$=[{id:1,title:"Pastry Fundamentals",description:"Test your knowledge of basic pastry techniques and ingredients",questionCount:5,duration:"10 min",difficulty:"Beginner",completed:!0,score:87,type:"multiple-choice",category:"Fundamentals",techniqueIds:[1,2,3],questions:[{id:1,question:"What is the ideal temperature for tempering dark chocolate?",type:"multiple-choice",options:["28-30\xb0C (82-86\xb0F)","31-32\xb0C (88-90\xb0F)","35-37\xb0C (95-99\xb0F)","40-42\xb0C (104-108\xb0F)"],correctAnswer:1,explanation:"Dark chocolate should be tempered at 31-32\xb0C (88-90\xb0F) for the proper crystal formation that gives it shine and snap.",points:20,timeLimit:60},{id:2,question:"Which ingredient is essential for creating flaky pastry?",type:"multiple-choice",options:["Sugar","Butter","Eggs","Milk"],correctAnswer:1,explanation:"Butter creates layers in pastry when it melts during baking, resulting in flaky texture.",points:20,timeLimit:60},{id:3,question:"What is the correct order for making choux pastry?",type:"sequence",sequenceItems:[{id:"1",content:"Bring water and butter to boil",order:1},{id:"2",content:"Add flour and cook out",order:2},{id:"3",content:"Add eggs gradually",order:3},{id:"4",content:"Beat until smooth paste forms",order:4}],correctAnswer:[1,2,3,4],explanation:"Choux pastry requires bringing the liquid to a boil, adding flour, cooking out the starch, then gradually adding eggs while beating.",points:20,timeLimit:90},{id:4,question:"True or False: Yeast dough should be proofed at room temperature.",type:"true-false",correctAnswer:"true",explanation:"Yeast dough should be proofed at room temperature (68-72\xb0F) for optimal fermentation.",points:20,timeLimit:30},{id:5,question:"Match the technique with its description:",type:"matching",matchingPairs:[{id:"1",left:"Lamination",right:"Creating layers of dough and fat"},{id:"2",left:"Tempering",right:"Controlling chocolate crystallization"},{id:"3",left:"Proofing",right:"Allowing dough to rise"}],correctAnswer:[0,1,2],explanation:"Each technique has a specific purpose in pastry making.",points:20,timeLimit:120}],passingScore:70,maxAttempts:3,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:2,title:"Chocolate Techniques",description:"Master the art of chocolate work through interactive challenges",questionCount:4,duration:"8 min",difficulty:"Intermediate",completed:!1,score:void 0,type:"drag-drop",category:"Fundamentals",techniqueIds:[4,5,6],questions:[{id:1,question:"Arrange these chocolate tempering steps in the correct order:",type:"drag-drop",dragItems:[{id:"melt",content:"Melt chocolate to 45\xb0C",category:"tempering"},{id:"cool",content:"Cool to 27\xb0C",category:"tempering"},{id:"reheat",content:"Reheat to 31\xb0C",category:"tempering"},{id:"test",content:"Test temper",category:"tempering"}],correctAnswer:[0,1,2,3],explanation:"Proper tempering requires melting, cooling, reheating, and testing the chocolate.",points:25,timeLimit:120},{id:2,question:"Fill in the blanks: Chocolate should be stored at __\xb0C with __% humidity.",type:"fill-blank",blanks:[{id:"temp",position:0,correctAnswer:"18-20",hint:"Room temperature range"},{id:"humidity",position:1,correctAnswer:"50-60",hint:"Moderate humidity level"}],correctAnswer:["18-20","50-60"],explanation:"Chocolate should be stored at 18-20\xb0C with 50-60% humidity for optimal quality.",points:25,timeLimit:90},{id:3,question:"What is the purpose of tempering chocolate?",type:"multiple-choice",options:["To make it sweeter","To create proper crystal structure","To make it darker","To reduce fat content"],correctAnswer:1,explanation:"Tempering creates the proper crystal structure that gives chocolate its shine and snap.",points:25,timeLimit:60},{id:4,question:"True or False: White chocolate contains cocoa solids.",type:"true-false",correctAnswer:"false",explanation:"White chocolate contains cocoa butter but no cocoa solids, which is why it's white.",points:25,timeLimit:30}],passingScore:75,maxAttempts:2,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:3,title:"Advanced Lamination",description:"Perfect your understanding of complex dough lamination",questionCount:6,duration:"15 min",difficulty:"Advanced",completed:!1,score:void 0,type:"mixed",category:"Fundamentals",techniqueIds:[7,8,9],questions:[{id:1,question:"What is the ideal butter temperature for lamination?",type:"multiple-choice",options:["10-12\xb0C","15-18\xb0C","20-22\xb0C","25-28\xb0C"],correctAnswer:1,explanation:"Butter should be pliable but not too soft - 15-18\xb0C is ideal for lamination.",points:20,timeLimit:60},{id:2,question:"Arrange the lamination process steps:",type:"sequence",sequenceItems:[{id:"1",content:"Prepare detrempe (base dough)",order:1},{id:"2",content:"Roll out dough",order:2},{id:"3",content:"Place butter block",order:3},{id:"4",content:"Fold and roll",order:4},{id:"5",content:"Rest in refrigerator",order:5},{id:"6",content:"Repeat folding process",order:6}],correctAnswer:[1,2,3,4,5,6],explanation:"Lamination requires careful preparation, rolling, folding, and resting cycles.",points:20,timeLimit:180},{id:3,question:"How many turns are typically needed for croissant dough?",type:"multiple-choice",options:["2 turns","3 turns","4 turns","6 turns"],correctAnswer:2,explanation:"Croissant dough typically requires 4 turns (2 double turns) to create the proper layer structure.",points:20,timeLimit:60},{id:4,question:"Match the lamination technique with its description:",type:"matching",matchingPairs:[{id:"1",left:"Single fold",right:"Fold one third over center"},{id:"2",left:"Double fold",right:"Fold both ends to center"},{id:"3",left:"Book fold",right:"Fold like a book"}],correctAnswer:[0,1,2],explanation:"Different folding techniques create different layer patterns in laminated dough.",points:20,timeLimit:120},{id:5,question:"True or False: Laminated dough should always be rolled in the same direction.",type:"true-false",correctAnswer:"false",explanation:"Laminated dough should be rolled in alternating directions to prevent the butter from breaking through the layers.",points:20,timeLimit:30},{id:6,question:"What happens if the butter is too cold during lamination?",type:"multiple-choice",options:["Dough becomes too sticky","Butter breaks into pieces","Layers don't form properly","All of the above"],correctAnswer:3,explanation:"Butter that's too cold will break into pieces, preventing proper layer formation and making the dough difficult to work with.",points:20,timeLimit:60}],passingScore:80,maxAttempts:2,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"}],sX={multipleChoice:{question:"What is the ideal temperature for tempering dark chocolate?",options:["28-30\xb0C (82-86\xb0F)","31-32\xb0C (88-90\xb0F)","35-37\xb0C (95-99\xb0F)","40-42\xb0C (104-108\xb0F)"],correct:1,explanation:"Dark chocolate should be tempered at 31-32\xb0C (88-90\xb0F) for the proper crystal formation that gives it shine and snap."},dragDrop:{question:"Arrange these steps for making choux pastry in the correct order:",items:["Add eggs gradually","Bring water and butter to boil","Add flour and cook out","Beat until smooth paste forms"],correctOrder:[1,2,3,0]}};function s0(e){let{quiz:s,onStartQuiz:t}=e;return(0,a.jsxs)(b,{className:"group hover:shadow-lg transition-all duration-300",children:[(0,a.jsxs)(y,{className:"pb-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)(w,{className:"text-lg",children:s.title}),s.completed&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-green-600",children:[s.score,"%"]})]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-pretty",children:s.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-4",children:[(0,a.jsx)(G,{className:(e=>{switch(e){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(s.difficulty),children:s.difficulty}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eN.Z,{className:"h-4 w-4"}),s.questionCount," questions"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(sb.Z,{className:"h-4 w-4"}),s.duration]})]})]}),(0,a.jsx)(k,{children:(0,a.jsx)(m,{className:"w-full",variant:s.completed?"outline":"default",onClick:()=>t(s),children:s.completed?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Retake Quiz"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.Z,{className:"mr-2 h-4 w-4"}),"Start Quiz"]})})})]})}function s1(){let[e,s]=(0,r.useState)(0),[t,l]=(0,r.useState)(null),[i,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)(sX.dragDrop.items),[d,x]=(0,r.useState)("multiple-choice"),u=e=>{l(e),n(!0)},h=()=>{l(null),n(!1),o(sX.dragDrop.items)};return(0,a.jsxs)(b,{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)(y,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(w,{className:"text-xl",children:"Interactive Quiz Demo"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(m,{variant:"multiple-choice"===d?"default":"outline",size:"sm",onClick:()=>{x("multiple-choice"),h()},children:"Multiple Choice"}),(0,a.jsx)(m,{variant:"drag-drop"===d?"default":"outline",size:"sm",onClick:()=>{x("drag-drop"),h()},children:"Drag & Drop"})]})]}),(0,a.jsx)(_,{value:50,className:"h-2"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Question 1 of 2"})]}),(0,a.jsxs)(k,{className:"space-y-6",children:["multiple-choice"===d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-balance",children:sX.multipleChoice.question}),(0,a.jsx)("div",{className:"space-y-3",children:sX.multipleChoice.options.map((e,s)=>(0,a.jsx)("button",{onClick:()=>u(s),disabled:i,className:"w-full p-4 text-left rounded-lg border transition-all ".concat(t===s?s===sX.multipleChoice.correct?"border-green-500 bg-green-50 text-green-800":"border-red-500 bg-red-50 text-red-800":i&&s===sX.multipleChoice.correct?"border-green-500 bg-green-50 text-green-800":"border-border hover:border-primary hover:bg-muted/50"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:e}),i&&(0,a.jsxs)(a.Fragment,{children:[s===sX.multipleChoice.correct&&(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-green-600"}),t===s&&s!==sX.multipleChoice.correct&&(0,a.jsx)(D.Z,{className:"h-5 w-5 text-red-600"})]})]})},s))}),i&&(0,a.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"Explanation:"})," ",sX.multipleChoice.explanation]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-balance",children:sX.dragDrop.question}),(0,a.jsx)("div",{className:"space-y-3",children:c.map((e,s)=>(0,a.jsx)("div",{className:"p-4 bg-card border border-border rounded-lg cursor-move hover:shadow-md transition-all",draggable:!0,children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center text-sm font-medium",children:s+1}),(0,a.jsx)("span",{children:e})]})},s))}),(0,a.jsx)("div",{className:"p-4 bg-muted/50 border border-dashed border-muted-foreground/30 rounded-lg text-center",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Drag and drop the items above to arrange them in the correct order"})})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(m,{onClick:h,variant:"outline",className:"flex-1 bg-transparent",children:"Reset"}),(0,a.jsx)(m,{className:"flex-1",children:"Next Question"})]})]})]})}function s4(){let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(!1),i=e=>{s(e),l(!0)};return t&&e?(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsx)(sJ,{quizId:e.id,questions:e.questions,config:{allowHints:!0,allowSkipping:!0,showCorrectAnswers:!0,showExplanations:!0,randomizeQuestions:!1,randomizeOptions:!1,timeLimit:600,passingScore:70,maxAttempts:3,retakeDelay:0},onComplete:e=>{console.log("Quiz completed:",e)},onExit:()=>{l(!1),s(null)}})}):(0,a.jsx)("section",{id:"quizzes",className:"py-20 px-4",children:(0,a.jsxs)("div",{className:"container mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Interactive Quizzes"}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground text-balance max-w-2xl mx-auto",children:"Test your knowledge with engaging quizzes featuring multiple choice questions, drag-and-drop challenges, and instant feedback."})]}),(0,a.jsx)("div",{className:"mb-16",children:(0,a.jsx)(s1,{})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:s$.map(e=>(0,a.jsx)(s0,{quiz:e,onStartQuiz:i},e.id))}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(m,{variant:"outline",size:"lg",children:"View All Quizzes"})})]})})}var s2=t(2023),s5=t(5621),s3=t(6215),s6=t(5598);function s8(e){let{onImageSelect:s,onImageRemove:t,selectedImage:l,maxSize:i=10,acceptedTypes:n=["image/jpeg","image/png","image/webp"],className:c}=e,[d,x]=(0,r.useState)(null),[u,h]=(0,r.useState)(!1),g=(0,r.useCallback)((e,t)=>{if(x(null),t.length>0){var a,r;let e=t[0];(null===(a=e.errors[0])||void 0===a?void 0:a.code)==="file-too-large"?x("File is too large. Maximum size is ".concat(i,"MB.")):(null===(r=e.errors[0])||void 0===r?void 0:r.code)==="file-invalid-type"?x("Invalid file type. Please upload ".concat(n.join(", ")," files.")):x("File upload failed. Please try again.");return}if(e.length>0){let t=e[0];h(!0),setTimeout(()=>{s(t),h(!1)},1e3)}},[s,i,n]),{getRootProps:p,getInputProps:f,isDragActive:j}=(0,s6.uI)({onDrop:g,accept:n.reduce((e,s)=>({...e,[s]:[]}),{}),maxSize:1048576*i,multiple:!1});return l?(0,a.jsxs)("div",{className:o("space-y-4",c),children:[(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("img",{src:URL.createObjectURL(l),alt:"Selected image",className:"w-full h-64 object-cover rounded-lg border"}),(0,a.jsx)(m,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{x(null),t()},children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,a.jsx)("span",{children:l.name}),(0,a.jsxs)("span",{children:[(l.size/1024/1024).toFixed(2)," MB"]})]})]}):(0,a.jsxs)("div",{className:o("space-y-4",c),children:[(0,a.jsxs)("div",{...p(),className:o("border-2 border-dashed rounded-lg p-8 text-center transition-all cursor-pointer",j?"border-primary bg-primary/5":"border-muted-foreground/30 hover:border-primary/50",d&&"border-destructive bg-destructive/5"),children:[(0,a.jsx)("input",{...f()}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:u?(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"}):(0,a.jsx)(si.Z,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:u?"Uploading...":"Upload Your Creation"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:j?"Drop the image here":"Drag and drop your image here, or click to browse"})]}),(0,a.jsxs)(m,{onClick:()=>{let e=document.createElement("input");e.type="file",e.accept=n.join(","),e.onchange=e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];t&&g([t],[])},e.click()},disabled:u,className:"w-full max-w-xs",children:[(0,a.jsx)(si.Z,{className:"mr-2 h-4 w-4"}),"Choose File"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Supports ",n.join(", ")," up to ",i,"MB"]})]})]}),d&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[(0,a.jsx)(eA.Z,{className:"h-4 w-4"}),d]})]})}var s9=t(2805),s7=t(417);function te(e){var s;let{result:t,onRetake:r,onClose:l,className:i}=e,n=e=>e>=90?"text-green-600":e>=80?"text-blue-600":e>=70?"text-yellow-600":"text-red-600";return(0,a.jsx)("div",{className:i,children:(0,a.jsxs)(b,{className:"overflow-hidden",children:[(0,a.jsxs)(y,{className:"text-center bg-gradient-to-r from-primary/10 to-secondary/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)(C.Z,{className:"h-6 w-6 text-yellow-500 fill-yellow-500"}),(0,a.jsxs)("span",{className:"text-3xl font-bold",children:[t.score,"/100"]})]}),(0,a.jsx)(w,{className:"text-xl ".concat(n(t.score)),children:(s=t.score)>=90?"Excellent":s>=80?"Very Good":s>=70?"Good":s>=60?"Fair":"Needs Improvement"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-4",children:[(0,a.jsx)(G,{variant:"secondary",className:"bg-white/90 text-gray-900",children:t.category}),(0,a.jsxs)(G,{variant:"outline",className:"bg-white/90 text-gray-900",children:[t.confidence,"% Confidence"]})]})]}),(0,a.jsxs)(k,{className:"p-6",children:[(0,a.jsxs)(q,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(R,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(I,{value:"overview",className:"text-xs",children:"Overview"}),(0,a.jsx)(I,{value:"positive",className:"text-xs",children:"Strengths"}),(0,a.jsx)(I,{value:"improvements",className:"text-xs",children:"Improvements"}),(0,a.jsx)(I,{value:"techniques",className:"text-xs",children:"Techniques"})]}),(0,a.jsx)(T,{value:"overview",className:"mt-6",children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s9.Z,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Color"}),(0,a.jsxs)("span",{className:"text-sm font-bold ".concat(n(t.analysis.color.score)),children:[t.analysis.color.score,"/100"]})]}),(0,a.jsx)(_,{value:t.analysis.color.score,className:"h-2"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t.analysis.color.feedback})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s7.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Shape"}),(0,a.jsxs)("span",{className:"text-sm font-bold ".concat(n(t.analysis.shape.score)),children:[t.analysis.shape.score,"/100"]})]}),(0,a.jsx)(_,{value:t.analysis.shape.score,className:"h-2"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t.analysis.shape.feedback})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eN.Z,{className:"h-4 w-4 text-purple-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Texture"}),(0,a.jsxs)("span",{className:"text-sm font-bold ".concat(n(t.analysis.texture.score)),children:[t.analysis.texture.score,"/100"]})]}),(0,a.jsx)(_,{value:t.analysis.texture.score,className:"h-2"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t.analysis.texture.feedback})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eb.Z,{className:"h-4 w-4 text-orange-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Technique"}),(0,a.jsxs)("span",{className:"text-sm font-bold ".concat(n(t.analysis.technique.score)),children:[t.analysis.technique.score,"/100"]})]}),(0,a.jsx)(_,{value:t.analysis.technique.score,className:"h-2"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t.analysis.technique.feedback})]})]})})}),(0,a.jsx)(T,{value:"positive",className:"mt-6",children:(0,a.jsx)("div",{className:"space-y-3",children:t.feedback.positive.length>0?t.feedback.positive.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-pretty",children:e})]},s)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No specific strengths identified. Keep practicing!"})})}),(0,a.jsx)(T,{value:"improvements",className:"mt-6",children:(0,a.jsx)("div",{className:"space-y-3",children:t.feedback.improvements.length>0?t.feedback.improvements.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(eA.Z,{className:"h-5 w-5 text-yellow-500 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-pretty",children:e})]},s)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Great job! No specific improvements needed at this time."})})}),(0,a.jsx)(T,{value:"techniques",className:"mt-6",children:(0,a.jsx)("div",{className:"space-y-3",children:t.feedback.techniques.length>0?t.feedback.techniques.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(em.Z,{className:"h-5 w-5 text-blue-500 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-pretty",children:e})]},s)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No specific technique feedback available."})})})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[r&&(0,a.jsx)("button",{onClick:r,className:"flex-1 bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Analyze Another Image"}),l&&(0,a.jsx)("button",{onClick:l,className:"flex-1 bg-muted text-muted-foreground hover:bg-muted/80 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Close"})]})]})]})})}var ts=t(6272);class tt{static getInstance(){return tt.instance||(tt.instance=new tt),tt.instance}saveFeedbackEntry(e){let s={...e,id:this.generateId(),timestamp:new Date},t=this.getFeedbackHistory();t.unshift(s);let a=t.slice(0,50);return localStorage.setItem(this.storageKey,JSON.stringify(a)),s}getFeedbackHistory(){try{let e=localStorage.getItem(this.storageKey);if(!e)return[];return JSON.parse(e).map(e=>({...e,timestamp:new Date(e.timestamp)}))}catch(e){return console.error("Error loading feedback history:",e),[]}}getFeedbackEntry(e){return this.getFeedbackHistory().find(s=>s.id===e)||null}getRecentFeedback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getFeedbackHistory().slice(0,e)}getFeedbackByCategory(e){return this.getFeedbackHistory().filter(s=>s.analysisResult.category.toLowerCase()===e.toLowerCase())}compareFeedback(e,s){let t=this.getFeedbackEntry(e),a=this.getFeedbackEntry(s);if(!t||!a)return null;let r=[],l=[],i=t.analysisResult.score-a.analysisResult.score;i>5?r.push("Overall score improved by ".concat(i," points")):i<-5&&l.push("Overall score decreased by ".concat(Math.abs(i)," points"));let n=t.analysisResult.analysis,c=a.analysisResult.analysis;Object.keys(n).forEach(e=>{let s=n[e].score-c[e].score;s>5?r.push("".concat(e," score improved by ").concat(s," points")):s<-5&&l.push("".concat(e," score decreased by ").concat(Math.abs(s)," points"))});let o=Math.max(0,Math.min(100,(t.analysisResult.score-a.analysisResult.score)/100*100+50));return{current:t,previous:a,improvements:r,regressions:l,overallProgress:o}}getProgressTrends(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,s=this.getFeedbackHistory(),t=new Date;t.setDate(t.getDate()-e);let a=s.filter(e=>e.timestamp>=t);return{dates:a.map(e=>e.timestamp.toISOString().split("T")[0]),scores:a.map(e=>e.analysisResult.score),categories:a.map(e=>e.analysisResult.category)}}getStatistics(){var e;let s=this.getFeedbackHistory();if(0===s.length)return{totalSubmissions:0,averageScore:0,bestScore:0,worstScore:0,mostCommonCategory:"",improvementRate:0};let t=s.map(e=>e.analysisResult.score),a=s.map(e=>e.analysisResult.category),r=t.reduce((e,s)=>e+s,0)/t.length,l=(null===(e=Object.entries(a.reduce((e,s)=>(e[s]=(e[s]||0)+1,e),{})).sort((e,s)=>{let[,t]=e,[,a]=s;return a-t})[0])||void 0===e?void 0:e[0])||"",i=t.slice(0,Math.min(5,t.length)),n=t.slice(-Math.min(5,t.length)),c=i.length>0&&n.length>0?(i.reduce((e,s)=>e+s,0)/i.length-n.reduce((e,s)=>e+s,0)/n.length)/100:0;return{totalSubmissions:s.length,averageScore:Math.round(r),bestScore:Math.max(...t),worstScore:Math.min(...t),mostCommonCategory:l,improvementRate:Math.round(100*c)/100}}deleteFeedbackEntry(e){let s=this.getFeedbackHistory(),t=s.filter(s=>s.id!==e);return t.length!==s.length&&(localStorage.setItem(this.storageKey,JSON.stringify(t)),!0)}clearFeedbackHistory(){localStorage.removeItem(this.storageKey)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}constructor(){this.storageKey="patissier-feedback-history"}}let ta=tt.getInstance();function tr(e){let{onViewFeedback:s,onCompareFeedback:t,onShareFeedback:l,className:i}=e,[n,c]=(0,r.useState)([]),[o,d]=(0,r.useState)(null),[x,u]=(0,r.useState)([]),[h,g]=(0,r.useState)("recent");(0,r.useEffect)(()=>{p(),f()},[]);let p=()=>{c(ta.getFeedbackHistory())},f=()=>{d(ta.getStatistics())},j=e=>{ta.deleteFeedbackEntry(e)&&(p(),f())},v=e=>{u(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},N=e=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e),C=e=>e>=90?"text-green-600":e>=80?"text-blue-600":e>=70?"text-yellow-600":"text-red-600",S=e=>e>=90?"Excellent":e>=80?"Very Good":e>=70?"Good":e>=60?"Fair":"Needs Improvement";return 0===n.length?(0,a.jsxs)(b,{className:i,children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(s5.Z,{className:"h-5 w-5"}),"Feedback History"]})}),(0,a.jsx)(k,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(s5.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Feedback Yet"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Upload your first pastry creation to start tracking your progress!"})]})})]}):(0,a.jsx)("div",{className:i,children:(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(s5.Z,{className:"h-5 w-5"}),"Feedback History",(0,a.jsxs)(G,{variant:"secondary",children:[n.length," entries"]})]})}),(0,a.jsx)(k,{children:(0,a.jsxs)(q,{value:h,onValueChange:g,children:[(0,a.jsxs)(R,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(I,{value:"recent",children:"Recent"}),(0,a.jsx)(I,{value:"statistics",children:"Statistics"}),(0,a.jsx)(I,{value:"compare",children:"Compare"})]}),(0,a.jsx)(T,{value:"recent",className:"mt-6",children:(0,a.jsx)("div",{className:"space-y-4",children:n.slice(0,10).map(e=>(0,a.jsx)(b,{className:"overflow-hidden",children:(0,a.jsx)(k,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("img",{src:e.imageUrl,alt:"Feedback entry",className:"w-16 h-16 object-cover rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold ".concat(C(e.analysisResult.score)),children:[e.analysisResult.score,"/100"]}),(0,a.jsx)(G,{variant:"outline",children:e.analysisResult.category})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[S(e.analysisResult.score)," • ",N(e.timestamp)]}),e.technique&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Technique: ",e.technique]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>null==s?void 0:s(e),children:(0,a.jsx)(sY.Z,{className:"h-4 w-4"})}),(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>null==l?void 0:l(e),children:(0,a.jsx)(eV.Z,{className:"h-4 w-4"})}),(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>j(e.id),children:(0,a.jsx)(eD.Z,{className:"h-4 w-4"})})]})]})})},e.id))})}),(0,a.jsx)(T,{value:"statistics",className:"mt-6",children:o&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:o.totalSubmissions}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Submissions"})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:o.averageScore}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Average Score"})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:o.bestScore}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Best Score"})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:o.mostCommonCategory}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Most Common Category"})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[o.improvementRate>0?"+":"",o.improvementRate,"%"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Improvement Rate"})]})})]})}),(0,a.jsx)(T,{value:"compare",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Compare Feedback Entries"}),(0,a.jsxs)(m,{onClick:()=>{if(2===x.length){let[e,s]=x,a=ta.compareFeedback(e,s);a&&t&&t(a)}},disabled:2!==x.length,className:"flex items-center gap-2",children:[(0,a.jsx)(ts.Z,{className:"h-4 w-4"}),"Compare Selected"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.slice(0,6).map(e=>(0,a.jsx)(b,{className:"cursor-pointer transition-all ".concat(x.includes(e.id)?"ring-2 ring-primary bg-primary/5":"hover:bg-muted/50"),onClick:()=>v(e.id),children:(0,a.jsx)(k,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("img",{src:e.imageUrl,alt:"Feedback entry",className:"w-12 h-12 object-cover rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-lg font-bold ".concat(C(e.analysisResult.score)),children:[e.analysisResult.score,"/100"]}),(0,a.jsx)(G,{variant:"outline",className:"text-xs",children:e.analysisResult.category})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:N(e.timestamp)})]}),x.includes(e.id)&&(0,a.jsx)("div",{className:"w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})})]})})},e.id))})]})})]})})]})})}function tl(e){let{comparison:s,onClose:t,className:r}=e,{current:l,previous:i,improvements:n,regressions:c,overallProgress:o}=s,d=e=>e>=90?"text-green-600":e>=80?"text-blue-600":e>=70?"text-yellow-600":"text-red-600",x=e=>e>=90?"Excellent":e>=80?"Very Good":e>=70?"Good":e>=60?"Fair":"Needs Improvement",u=e=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e);return(0,a.jsx)("div",{className:r,children:(0,a.jsxs)(b,{className:"overflow-hidden",children:[(0,a.jsxs)(y,{className:"bg-gradient-to-r from-primary/10 to-secondary/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(eN.Z,{className:"h-5 w-5"}),"Feedback Comparison"]}),t&&(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:t,children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,a.jsxs)(G,{variant:"secondary",className:"bg-white/90 text-gray-900",children:[u(i.timestamp)," → ",u(l.timestamp)]}),(0,a.jsx)(G,{variant:o>50?"default":"destructive",className:"bg-white/90",children:o>50?"Improving":"Needs Work"})]})]}),(0,a.jsxs)(k,{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Overall Progress"}),(0,a.jsxs)("span",{className:"text-lg font-bold ".concat(o>60?"text-green-600":o>40?"text-blue-600":o>20?"text-yellow-600":"text-red-600"),children:[o.toFixed(1),"%"]})]}),(0,a.jsx)(_,{value:o,className:"h-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{className:"pb-3",children:(0,a.jsx)(w,{className:"text-sm text-muted-foreground",children:"Previous"})}),(0,a.jsx)(k,{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-4xl font-bold ".concat(d(i.analysisResult.score)," mb-2"),children:[i.analysisResult.score,"/100"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:x(i.analysisResult.score)}),(0,a.jsx)("img",{src:i.imageUrl,alt:"Previous submission",className:"w-full h-32 object-cover rounded-lg mb-2"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(G,{variant:"outline",children:i.analysisResult.category}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:u(i.timestamp)})]})]})})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{className:"pb-3",children:(0,a.jsx)(w,{className:"text-sm text-muted-foreground",children:"Current"})}),(0,a.jsx)(k,{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-4xl font-bold ".concat(d(l.analysisResult.score)," mb-2"),children:[l.analysisResult.score,"/100"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:x(l.analysisResult.score)}),(0,a.jsx)("img",{src:l.imageUrl,alt:"Current submission",className:"w-full h-32 object-cover rounded-lg mb-2"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(G,{variant:"outline",children:l.analysisResult.category}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:u(l.timestamp)})]})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 text-green-500"}),"Improvements"]}),(0,a.jsx)("div",{className:"space-y-2",children:n.length>0?n.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-pretty",children:e})]},s)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No significant improvements detected"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[(0,a.jsx)(sG.Z,{className:"h-4 w-4 text-red-500"}),"Areas to Watch"]}),(0,a.jsx)("div",{className:"space-y-2",children:c.length>0?c.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-pretty",children:e})]},s)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No significant regressions detected"})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Category Analysis"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(l.analysisResult.analysis).map(e=>{let s=l.analysisResult.analysis[e].score,t=i.analysisResult.analysis[e].score,r=s-t,n=r>0;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium capitalize",children:e}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:t}),(0,a.jsx)(sD.Z,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(n?"text-green-600":"text-red-600"),children:s}),0!==r&&(0,a.jsxs)(G,{variant:n?"default":"destructive",className:"text-xs",children:[n?"+":"",r]})]})]}),(0,a.jsx)(_,{value:s,className:"h-2"})]},e)})})]})]})]})})}class ti{static getInstance(){return ti.instance||(ti.instance=new ti),ti.instance}generateRecommendations(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let s=[],t=e.analysis,a=e.category.toLowerCase();Object.entries(t).forEach(e=>{let[t,r]=e;if(r.score<70){let e=this.createRecommendationForAspect(t,r.score,a);e&&s.push(e)}});let r=this.getCategoryRecommendations(a,e.score);if(s.push(...r),e.score<80){let t=this.getTechniqueRecommendations(e);s.push(...t)}return s.sort((e,s)=>{let t={high:3,medium:2,low:1};return t[s.priority]-t[e.priority]}).slice(0,5)}createPersonalizedLearningPath(e,s){let t=this.generateRecommendations(e,s),a=this.determineCurrentLevel(e.score,s),r=this.identifyFocusAreas(e,s);return{userId:"current-user",currentLevel:a,focusAreas:r,recommendations:t,nextSteps:this.generateNextSteps(t),progressGoals:this.generateProgressGoals(r,a)}}createRecommendationForAspect(e,s,t){let a={color:{title:"Master Color Theory for Pastries",description:"Learn how to create beautiful, consistent colors in your pastries",type:"technique",priority:s<50?"high":"medium",category:"Color Theory",estimatedTime:"2-3 hours",difficulty:"beginner",resources:{videos:["Color Theory Basics","Food Coloring Techniques"],articles:["Understanding Color in Baking","Natural Food Coloring Guide"]},expectedImprovement:"Improve color consistency and visual appeal"},shape:{title:"Perfect Your Shaping Techniques",description:"Develop consistent and professional shaping skills",type:"technique",priority:s<50?"high":"medium",category:"Shaping",estimatedTime:"3-4 hours",difficulty:"intermediate",resources:{videos:["Basic Shaping Techniques","Advanced Shaping Methods"],tutorials:["Step-by-Step Shaping Guide"]},expectedImprovement:"Achieve uniform shapes and professional appearance"},texture:{title:"Master Texture Control",description:"Learn to control and perfect pastry textures",type:"technique",priority:s<50?"high":"medium",category:"Texture",estimatedTime:"4-5 hours",difficulty:"intermediate",resources:{videos:["Texture Control Techniques","Troubleshooting Texture Issues"],articles:["Understanding Pastry Textures","Common Texture Problems"]},expectedImprovement:"Achieve desired texture consistency"},presentation:{title:"Elevate Your Presentation Skills",description:"Learn professional presentation and plating techniques",type:"technique",priority:s<60?"high":"medium",category:"Presentation",estimatedTime:"2-3 hours",difficulty:"beginner",resources:{videos:["Plating Techniques","Garnishing Basics"],tutorials:["Presentation Masterclass"]},expectedImprovement:"Create visually stunning presentations"}}[e];return a?{id:"".concat(e,"-").concat(Date.now()),...a}:null}getCategoryRecommendations(e,s){return({croissant:[{id:"croissant-lamination",type:"technique",title:"Master Lamination Technique",description:"Perfect the art of creating flaky, layered croissants",priority:s<70?"high":"medium",category:"Lamination",estimatedTime:"6-8 hours",difficulty:"advanced",resources:{videos:["Lamination Masterclass","Troubleshooting Lamination"],articles:["Lamination Science","Common Lamination Mistakes"]},expectedImprovement:"Achieve perfect flaky layers"}],macaron:[{id:"macaron-technique",type:"technique",title:"Perfect Macaron Technique",description:"Master the delicate art of making perfect macarons",priority:s<75?"high":"medium",category:"Macaron Making",estimatedTime:"8-10 hours",difficulty:"advanced",resources:{videos:["Macaron Masterclass","Macaron Troubleshooting"],tutorials:["Step-by-Step Macaron Guide"]},expectedImprovement:"Achieve consistent macaron shells and feet"}],cake:[{id:"cake-decorating",type:"technique",title:"Advanced Cake Decorating",description:"Learn professional cake decorating techniques",priority:s<70?"high":"medium",category:"Cake Decorating",estimatedTime:"10-12 hours",difficulty:"intermediate",resources:{videos:["Cake Decorating Basics","Advanced Techniques"],tutorials:["Complete Cake Decorating Course"]},expectedImprovement:"Create professional-quality decorated cakes"}]})[e]||[]}getTechniqueRecommendations(e){let s=[];return e.score<60&&s.push({id:"fundamentals-review",type:"course",title:"Review Baking Fundamentals",description:"Strengthen your foundation with essential baking techniques",priority:"high",category:"Fundamentals",estimatedTime:"12-15 hours",difficulty:"beginner",resources:{videos:["Baking Fundamentals Series"],articles:["Essential Baking Techniques"],tutorials:["Complete Beginner Course"]},expectedImprovement:"Build strong foundation for advanced techniques"}),e.score>=60&&e.score<80&&s.push({id:"intermediate-skills",type:"course",title:"Intermediate Pastry Skills",description:"Develop intermediate-level pastry techniques and skills",priority:"medium",category:"Intermediate Skills",estimatedTime:"15-20 hours",difficulty:"intermediate",resources:{videos:["Intermediate Techniques Series"],tutorials:["Intermediate Pastry Course"]},expectedImprovement:"Advance to intermediate skill level"}),s}determineCurrentLevel(e,s){if(0===s.length)return e>=80?"intermediate":"beginner";let t=s.reduce((e,s)=>e+s.analysisResult.score,0)/s.length;return t>=85?"advanced":t>=70?"intermediate":"beginner"}identifyFocusAreas(e,s){let t=[];return Object.entries(e.analysis).forEach(e=>{let[s,a]=e;a.score<70&&t.push(s)}),e.category&&t.push(e.category),Array.from(new Set(t))}generateNextSteps(e){return e.filter(e=>"high"===e.priority).slice(0,3).map(e=>"Start with: ".concat(e.title))}generateProgressGoals(e,s){return{shortTerm:e.slice(0,2).map(e=>"Improve ".concat(e," technique")),longTerm:["Master ".concat(s," level techniques"),"Develop consistent quality across all aspects","Build professional presentation skills"]}}saveRecommendations(e){localStorage.setItem(this.storageKey,JSON.stringify(e))}loadRecommendations(){try{let e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading recommendations:",e),[]}}markRecommendationCompleted(e){let s=this.loadRecommendations().map(s=>s.id===e?{...s,completed:!0}:s);this.saveRecommendations(s)}constructor(){this.storageKey="patissier-learning-recommendations"}}let tn=ti.getInstance();function tc(e){let{analysisResult:s,feedbackHistory:t=[],onRecommendationClick:l,className:i}=e,[n,c]=(0,r.useState)([]),[o,d]=(0,r.useState)(null),[x,h]=(0,r.useState)("recommendations"),[g,f]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{j()},[s,t]);let j=()=>{let e=tn.generateRecommendations(s,t),a=tn.createPersonalizedLearningPath(s,t);c(e),d(a),f(new Set(tn.loadRecommendations().filter(e=>e.completed).map(e=>e.id)))},v=e=>{null==l||l(e)},N=e=>{tn.markRecommendationCompleted(e),f(s=>new Set(Array.from(s).concat(e)))},Z=e=>{switch(e){case"high":return"text-red-600 bg-red-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},A=e=>{switch(e){case"beginner":return"text-green-600";case"intermediate":return"text-yellow-600";case"advanced":return"text-red-600";default:return"text-gray-600"}},z=e=>{switch(e){case"technique":return(0,a.jsx)(eN.Z,{className:"h-4 w-4"});case"recipe":return(0,a.jsx)(u.Z,{className:"h-4 w-4"});case"course":return(0,a.jsx)(S.Z,{className:"h-4 w-4"});case"practice":return(0,a.jsx)(ey.Z,{className:"h-4 w-4"});default:return(0,a.jsx)(em.Z,{className:"h-4 w-4"})}};return 0===n.length?(0,a.jsxs)(b,{className:i,children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(em.Z,{className:"h-5 w-5"}),"Learning Recommendations"]})}),(0,a.jsx)(k,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(ey.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Excellent Work!"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Your pastry skills are impressive! Keep practicing to maintain your high level."})]})})]}):(0,a.jsx)("div",{className:i,children:(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(em.Z,{className:"h-5 w-5"}),"Personalized Learning Recommendations"]})}),(0,a.jsx)(k,{children:(0,a.jsxs)(q,{value:x,onValueChange:h,children:[(0,a.jsxs)(R,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(I,{value:"recommendations",children:"Recommendations"}),(0,a.jsx)(I,{value:"learning-path",children:"Learning Path"}),(0,a.jsx)(I,{value:"progress",children:"Progress"})]}),(0,a.jsx)(T,{value:"recommendations",className:"mt-6",children:(0,a.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,a.jsx)(b,{className:"transition-all hover:shadow-md ".concat(g.has(e.id)?"opacity-75 bg-green-50":""),children:(0,a.jsx)(k,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[z(e.type),(0,a.jsx)("h3",{className:"font-medium",children:e.title}),(0,a.jsx)(G,{variant:"outline",className:Z(e.priority),children:e.priority}),g.has(e.id)&&(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-600"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.Z,{className:"h-3 w-3"}),e.estimatedTime]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:A(e.difficulty),children:e.difficulty})]}),(0,a.jsx)(G,{variant:"secondary",className:"text-xs",children:e.category})]}),(0,a.jsxs)("p",{className:"text-xs text-blue-600 mb-3",children:["\uD83D\uDCA1 ",e.expectedImprovement]}),e.resources&&(0,a.jsxs)("div",{className:"space-y-1",children:[e.resources.videos&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,a.jsx)(S.Z,{className:"h-3 w-3"}),e.resources.videos.length," video(s)"]}),e.resources.articles&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3"}),e.resources.articles.length," article(s)"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>v(e),children:(0,a.jsx)(sD.Z,{className:"h-4 w-4"})}),!g.has(e.id)&&(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>N(e.id),children:(0,a.jsx)(ev.Z,{className:"h-4 w-4"})})]})]})})},e.id))})}),(0,a.jsx)(T,{value:"learning-path",className:"mt-6",children:o&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:o.currentLevel}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Current Level"})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:o.focusAreas.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Focus Areas"})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:o.recommendations.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Recommendations"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-3",children:"Focus Areas"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:o.focusAreas.map((e,s)=>(0,a.jsx)(G,{variant:"outline",children:e},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-3",children:"Next Steps"}),(0,a.jsx)("div",{className:"space-y-2",children:o.nextSteps.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},s))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-3",children:"Short-term Goals"}),(0,a.jsx)("div",{className:"space-y-2",children:o.progressGoals.shortTerm.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eN.Z,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-3",children:"Long-term Goals"}),(0,a.jsx)("div",{className:"space-y-2",children:o.progressGoals.longTerm.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},s))})]})]})]})}),(0,a.jsx)(T,{value:"progress",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:g.size}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n.length-g.size}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Remaining"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Overall Progress"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round(g.size/n.length*100),"%"]})]}),(0,a.jsx)(_,{value:g.size/n.length*100,className:"h-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-3",children:"Recent Achievements"}),g.size>0?(0,a.jsx)("div",{className:"space-y-2",children:Array.from(g).slice(0,3).map(e=>{let s=n.find(s=>s.id===e);return s?(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded-lg",children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{className:"text-sm",children:s.title})]},e):null})}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No completed recommendations yet"})]})]})})]})})]})})}var to=t(2351),td=t(9219),tm=t(7760),tx=t(598),tu=t(8335),th=t(8867),tg=t(8736),tp=t(3113);class tf{static getInstance(){return tf.instance||(tf.instance=new tf),tf.instance}generateShareableFeedback(e,s){return{id:e.id,imageUrl:e.imageUrl,analysisResult:e.analysisResult,timestamp:e.timestamp,technique:e.technique,notes:e.notes,shareSettings:s}}generateSocialShareData(e,s){let{analysisResult:t,technique:a}=e,r=t.score,l=t.category,i="My ".concat(a||l," Creation - ").concat(r,"/100 Score!"),n="Just got AI feedback on my pastry creation! Scored ".concat(r,"/100 for ").concat(l,". Check out my progress! \uD83E\uDDC1✨"),c=["#PastryPractice","#BakingProgress","#AIFeedback","#".concat(l.replace(/\s+/g,"")),"#".concat((null==a?void 0:a.replace(/\s+/g,""))||"Pastry"),"#BakingCommunity"];switch(s){case"twitter":return{title:i,description:n.slice(0,200),imageUrl:e.shareSettings.includeImage?e.imageUrl:void 0,hashtags:c.slice(0,3),url:"".concat(window.location.origin,"/feedback/").concat(e.id)};case"facebook":return{title:i,description:n,imageUrl:e.shareSettings.includeImage?e.imageUrl:void 0,hashtags:c,url:"".concat(window.location.origin,"/feedback/").concat(e.id)};case"instagram":return{title:"My ".concat(a||l," - ").concat(r,"/100! \uD83E\uDDC1"),description:"AI feedback: ".concat(r,"/100 for ").concat(l,"\n\n").concat(c.join(" ")),imageUrl:e.imageUrl,hashtags:c};case"linkedin":return{title:"Pastry Learning Progress: ".concat(a||l),description:"Excited to share my latest pastry creation! Scored ".concat(r,"/100 with AI feedback on ").concat(l,". Always learning and improving! \uD83E\uDDC1"),imageUrl:e.shareSettings.includeImage?e.imageUrl:void 0,hashtags:c.slice(0,5),url:"".concat(window.location.origin,"/feedback/").concat(e.id)};default:return{title:i,description:n,imageUrl:e.imageUrl,hashtags:c}}}async shareToSocial(e,s){try{let t=this.generateSocialShareData(e,s);if("twitter"===s){let e="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(t.title),"&url=").concat(encodeURIComponent(t.url||""),"&hashtags=").concat(encodeURIComponent(t.hashtags.join(",")));window.open(e,"_blank","width=600,height=400")}else if("facebook"===s){let e="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t.url||""),"&quote=").concat(encodeURIComponent(t.description));window.open(e,"_blank","width=600,height=400")}else if("linkedin"===s){let e="https://www.linkedin.com/sharing/share-offsite/?url=".concat(encodeURIComponent(t.url||""));window.open(e,"_blank","width=600,height=400")}else"instagram"===s&&(await this.copyToClipboard(t.description),alert("Text copied to clipboard! You can now paste it in your Instagram post."));return!0}catch(e){return console.error("Error sharing to social media:",e),!1}}async copyToClipboard(e){try{if(navigator.clipboard)return await navigator.clipboard.writeText(e),!0;{let s=document.createElement("textarea");return s.value=e,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),!0}}catch(e){return console.error("Error copying to clipboard:",e),!1}}async exportFeedback(e,s){try{switch(s.format){case"json":return this.exportAsJSON(e,s);case"csv":return this.exportAsCSV(e,s);case"pdf":return await this.exportAsPDF(e,s);case"image":return await this.exportAsImage(e,s);default:throw Error("Unsupported export format")}}catch(e){return console.error("Error exporting feedback:",e),null}}exportAsJSON(e,s){return new Blob([JSON.stringify(e.map(e=>({id:e.id,timestamp:e.timestamp,technique:e.technique,notes:e.notes,analysisResult:{score:e.analysisResult.score,category:e.analysisResult.category,analysis:e.analysisResult.analysis,suggestions:e.analysisResult.feedback},imageUrl:s.includeImage?e.imageUrl:void 0})),null,2)],{type:"application/json"})}exportAsCSV(e,s){let t=["Date,Technique,Category,Score,Color Score,Shape Score,Texture Score,Presentation Score,Notes"];return e.forEach(e=>{var s,a,r,l;let i=[e.timestamp.toISOString().split("T")[0],e.technique||"",e.analysisResult.category,e.analysisResult.score.toString(),(null===(s=e.analysisResult.analysis.color)||void 0===s?void 0:s.score.toString())||"",(null===(a=e.analysisResult.analysis.shape)||void 0===a?void 0:a.score.toString())||"",(null===(r=e.analysisResult.analysis.texture)||void 0===r?void 0:r.score.toString())||"",(null===(l=e.analysisResult.analysis.technique)||void 0===l?void 0:l.score.toString())||"",(e.notes||"").replace(/,/g,";")];t.push(i.join(","))}),new Blob([t.join("\n")],{type:"text/csv"})}async exportAsPDF(e,s){let t=e.map(e=>"\n      Date: ".concat(e.timestamp.toLocaleDateString(),"\n      Technique: ").concat(e.technique||"N/A","\n      Category: ").concat(e.analysisResult.category,"\n      Score: ").concat(e.analysisResult.score,"/100\n      Notes: ").concat(e.notes||"None","\n      ---\n    ")).join("\n");return new Blob(["\n      Pastry Practice Feedback Report\n      Generated: ".concat(new Date().toLocaleDateString(),"\n      \n      ").concat(t,"\n    ")],{type:"text/plain"})}async exportAsImage(e,s){let t=document.createElement("canvas"),a=t.getContext("2d");if(!a)throw Error("Could not get canvas context");t.width=800,t.height=600,a.fillStyle="#f8f9fa",a.fillRect(0,0,t.width,t.height),a.fillStyle="#333",a.font="bold 24px Arial",a.textAlign="center",a.fillText("Pastry Practice Progress",t.width/2,50);let r=100;return e.slice(0,10).forEach((e,s)=>{a.fillStyle="#666",a.font="16px Arial",a.textAlign="left",a.fillText("".concat(s+1,". ").concat(e.technique||e.analysisResult.category," - ").concat(e.analysisResult.score,"/100"),50,r),r+=30}),new Promise(e=>{t.toBlob(s=>{e(s||new Blob)},"image/png")})}downloadFile(e,s){let t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}generateShareableLink(e){let s=window.location.origin,t=new URLSearchParams({id:e.id,score:e.analysisResult.score.toString(),category:e.analysisResult.category});return"".concat(s,"/share/feedback?").concat(t.toString())}saveSharedFeedback(e){let s=this.getSharedFeedback();s.push(e),localStorage.setItem(this.storageKey,JSON.stringify(s))}getSharedFeedback(){try{let e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading shared feedback:",e),[]}}constructor(){this.storageKey="patissier-shared-feedback"}}let tj=tf.getInstance();function tv(e){var s;let{feedback:t,onClose:l,className:i}=e,[n,c]=(0,r.useState)({includeImage:!0,includeScore:!0,includeSuggestions:!0,includeTechnique:!0,includeNotes:!1}),[o,d]=(0,r.useState)({format:"json",includeImage:!0,includeHistory:!1}),[x,u]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),j=tj.generateShareableFeedback(t,n),v=async e=>{u(!0);try{await tj.shareToSocial(j,e)&&tj.saveSharedFeedback(j)}catch(e){console.error("Error sharing:",e)}finally{u(!1)}},N=async()=>{let e=tj.generateShareableLink(j);await tj.copyToClipboard(e)&&(f(!0),setTimeout(()=>f(!1),2e3))},C=async()=>{g(!0);try{let e=await tj.exportFeedback([t],o);if(e){let s="pastry-feedback-".concat(t.id,".").concat(o.format);tj.downloadFile(e,s)}}catch(e){console.error("Error exporting:",e)}finally{g(!1)}},S=async()=>{let e=tj.generateSocialShareData(j,"twitter"),s="".concat(e.title,"\n\n").concat(e.description,"\n\n").concat(e.hashtags.join(" "));await tj.copyToClipboard(s)&&(f(!0),setTimeout(()=>f(!1),2e3))};return(0,a.jsx)("div",{className:i,children:(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(eV.Z,{className:"h-5 w-5"}),"Share Your Progress"]}),l&&(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:l,children:"\xd7"})]})}),(0,a.jsx)(k,{children:(0,a.jsxs)(q,{defaultValue:"social",className:"w-full",children:[(0,a.jsxs)(R,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(I,{value:"social",children:"Social Share"}),(0,a.jsx)(I,{value:"export",children:"Export"}),(0,a.jsx)(I,{value:"settings",children:"Settings"})]}),(0,a.jsx)(T,{value:"social",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Preview"}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[n.includeImage&&(0,a.jsx)("img",{src:t.imageUrl,alt:"Feedback preview",className:"w-20 h-20 object-cover rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h4",{className:"font-medium",children:["My ",t.technique||t.analysisResult.category," Creation - ",t.analysisResult.score,"/100 Score!"]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Just got AI feedback on my pastry creation! Scored ",t.analysisResult.score,"/100 for ",t.analysisResult.category,". Check out my progress! \uD83E\uDDC1✨"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:["#PastryPractice","#BakingProgress","#AIFeedback"].map(e=>(0,a.jsx)(G,{variant:"secondary",className:"text-xs",children:e},e))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)(m,{onClick:()=>v("twitter"),disabled:x,className:"flex items-center gap-2",children:[(0,a.jsx)(to.Z,{className:"h-4 w-4"}),"Share on Twitter"]}),(0,a.jsxs)(m,{onClick:()=>v("facebook"),disabled:x,className:"flex items-center gap-2",children:[(0,a.jsx)(td.Z,{className:"h-4 w-4"}),"Share on Facebook"]}),(0,a.jsxs)(m,{onClick:()=>v("instagram"),disabled:x,className:"flex items-center gap-2",children:[(0,a.jsx)(tm.Z,{className:"h-4 w-4"}),"Share on Instagram"]}),(0,a.jsxs)(m,{onClick:()=>v("linkedin"),disabled:x,className:"flex items-center gap-2",children:[(0,a.jsx)(tx.Z,{className:"h-4 w-4"}),"Share on LinkedIn"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(m,{variant:"outline",onClick:N,className:"flex items-center gap-2",children:[(0,a.jsx)(tu.Z,{className:"h-4 w-4"}),p?"Copied!":"Copy Link"]}),(0,a.jsxs)(m,{variant:"outline",onClick:S,className:"flex items-center gap-2",children:[(0,a.jsx)(th.Z,{className:"h-4 w-4"}),p?"Copied!":"Copy Text"]})]})]})}),(0,a.jsx)(T,{value:"export",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-3",children:"Export Format"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)(m,{variant:"json"===o.format?"default":"outline",onClick:()=>d(e=>({...e,format:"json"})),className:"flex items-center gap-2",children:[(0,a.jsx)(tg.Z,{className:"h-4 w-4"}),"JSON"]}),(0,a.jsxs)(m,{variant:"csv"===o.format?"default":"outline",onClick:()=>d(e=>({...e,format:"csv"})),className:"flex items-center gap-2",children:[(0,a.jsx)(tg.Z,{className:"h-4 w-4"}),"CSV"]}),(0,a.jsxs)(m,{variant:"pdf"===o.format?"default":"outline",onClick:()=>d(e=>({...e,format:"pdf"})),className:"flex items-center gap-2",children:[(0,a.jsx)(tg.Z,{className:"h-4 w-4"}),"PDF"]}),(0,a.jsxs)(m,{variant:"image"===o.format?"default":"outline",onClick:()=>d(e=>({...e,format:"image"})),className:"flex items-center gap-2",children:[(0,a.jsx)(tp.Z,{className:"h-4 w-4"}),"Image"]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:o.includeImage,onChange:e=>d(s=>({...s,includeImage:e.target.checked}))}),(0,a.jsx)("span",{className:"text-sm",children:"Include image"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:o.includeHistory,onChange:e=>d(s=>({...s,includeHistory:e.target.checked}))}),(0,a.jsx)("span",{className:"text-sm",children:"Include full history"})]})]}),(0,a.jsxs)(m,{onClick:C,disabled:h,className:"w-full flex items-center gap-2",children:[(0,a.jsx)(sl.Z,{className:"h-4 w-4"}),h?"Exporting...":"Export Feedback"]})]})}),(0,a.jsx)(T,{value:"settings",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Share Settings"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.includeImage,onChange:e=>c(s=>({...s,includeImage:e.target.checked}))}),(0,a.jsx)("span",{className:"text-sm",children:"Include image in share"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.includeScore,onChange:e=>c(s=>({...s,includeScore:e.target.checked}))}),(0,a.jsx)("span",{className:"text-sm",children:"Include score"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.includeSuggestions,onChange:e=>c(s=>({...s,includeSuggestions:e.target.checked}))}),(0,a.jsx)("span",{className:"text-sm",children:"Include suggestions"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.includeTechnique,onChange:e=>c(s=>({...s,includeTechnique:e.target.checked}))}),(0,a.jsx)("span",{className:"text-sm",children:"Include technique"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.includeNotes,onChange:e=>c(s=>({...s,includeNotes:e.target.checked}))}),(0,a.jsx)("span",{className:"text-sm",children:"Include personal notes"})]})]}),(0,a.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Current Feedback"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Technique:"}),(0,a.jsx)("span",{children:t.technique||"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Category:"}),(0,a.jsx)("span",{children:t.analysisResult.category})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Score:"}),(0,a.jsxs)("span",{className:(s=t.analysisResult.score)>=90?"text-green-600":s>=80?"text-blue-600":s>=70?"text-yellow-600":"text-red-600",children:[t.analysisResult.score,"/100"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Date:"}),(0,a.jsx)("span",{children:t.timestamp.toLocaleDateString()})]})]})]})]})})]})})]})})}var tN=t(4401),tb=t(1047);class ty{static getInstance(){return ty.instance||(ty.instance=new ty),ty.instance}generateAnalytics(e){if(0===e.length)return this.getEmptyAnalytics();let s=e.length,t=e.map(e=>e.analysisResult.score);return{totalSubmissions:s,averageScore:Math.round(t.reduce((e,s)=>e+s,0)/t.length*100)/100,bestScore:Math.max(...t),worstScore:Math.min(...t),scoreTrend:this.calculateScoreTrend(e),categoryBreakdown:this.calculateCategoryBreakdown(e),techniqueBreakdown:this.calculateTechniqueBreakdown(e),weeklyProgress:this.calculateWeeklyProgress(e),monthlyProgress:this.calculateMonthlyProgress(e),strengths:this.identifyStrengths(e),weaknesses:this.identifyWeaknesses(e),recommendations:this.generateRecommendations(e),achievements:this.calculateAchievements(e),streaks:this.calculateStreaks(e)}}calculateScoreTrend(e){let s=[...e].sort((e,s)=>e.timestamp.getTime()-s.timestamp.getTime()),t=s.map(e=>e.timestamp.toISOString().split("T")[0]),a=s.map(e=>e.analysisResult.score),r=this.calculateMovingAverage(a,7);return{dates:t,scores:a,movingAverage:r}}calculateCategoryBreakdown(e){let s=new Map;return e.forEach(e=>{let t=e.analysisResult.category;s.has(t)||s.set(t,{scores:[],count:0});let a=s.get(t);a.scores.push(e.analysisResult.score),a.count++}),Array.from(s.entries()).map(e=>{let[s,t]=e,a=t.scores.reduce((e,s)=>e+s,0)/t.scores.length,r=this.calculateTrend(t.scores);return{category:s,count:t.count,averageScore:Math.round(100*a)/100,trend:r}}).sort((e,s)=>s.count-e.count)}calculateTechniqueBreakdown(e){let s=new Map;return e.forEach(e=>{let t=e.technique||"Unknown";s.has(t)||s.set(t,{scores:[],count:0});let a=s.get(t);a.scores.push(e.analysisResult.score),a.count++}),Array.from(s.entries()).map(e=>{let[s,t]=e,a=t.scores.reduce((e,s)=>e+s,0)/t.scores.length,r=this.calculateImprovement(t.scores);return{technique:s,count:t.count,averageScore:Math.round(100*a)/100,improvement:Math.round(100*r)/100}}).sort((e,s)=>s.count-e.count)}calculateWeeklyProgress(e){let s=new Map;e.forEach(e=>{let t=this.getWeekString(e.timestamp);s.has(t)||s.set(t,{scores:[],count:0});let a=s.get(t);a.scores.push(e.analysisResult.score),a.count++});let t=Array.from(s.entries()).sort((e,s)=>e[0].localeCompare(s[0])).map(e=>{let[s,t]=e,a=t.scores.reduce((e,s)=>e+s,0)/t.scores.length;return{week:s,submissions:t.count,averageScore:Math.round(100*a)/100,improvement:0}});for(let e=1;e<t.length;e++)t[e].improvement=t[e].averageScore-t[e-1].averageScore;return t}calculateMonthlyProgress(e){let s=new Map;e.forEach(e=>{let t=e.timestamp.toISOString().slice(0,7);s.has(t)||s.set(t,{scores:[],count:0});let a=s.get(t);a.scores.push(e.analysisResult.score),a.count++});let t=Array.from(s.entries()).sort((e,s)=>e[0].localeCompare(s[0])).map(e=>{let[s,t]=e,a=t.scores.reduce((e,s)=>e+s,0)/t.scores.length;return{month:s,submissions:t.count,averageScore:Math.round(100*a)/100,improvement:0}});for(let e=1;e<t.length;e++)t[e].improvement=t[e].averageScore-t[e-1].averageScore;return t}identifyStrengths(e){let s=this.calculateAspectScores(e),t=[];return Object.entries(s).forEach(e=>{let[s,a]=e;a.average>=80&&t.push(this.getAspectDisplayName(s))}),t}identifyWeaknesses(e){let s=this.calculateAspectScores(e),t=[];return Object.entries(s).forEach(e=>{let[s,a]=e;a.average<70&&t.push(this.getAspectDisplayName(s))}),t}generateRecommendations(e){let s=[],t=this.generateAnalytics(e);if(t.weaknesses.length>0&&s.push("Focus on improving your ".concat(t.weaknesses[0]," technique")),t.scoreTrend.movingAverage.length>1){let e=t.scoreTrend.movingAverage.slice(-3);e[2]>e[0]||s.push("Consider reviewing your recent techniques to identify areas for improvement")}return t.streaks.current<3&&s.push("Try to maintain a consistent practice schedule"),s}calculateAchievements(e){let s=[],t=e.map(e=>e.analysisResult.score),a=t.reduce((e,s)=>e+s,0)/t.length;if(Math.max(...t)>=95){var r;s.push({id:"perfect-score",title:"Perfectionist",description:"Achieved a score of 95 or higher",unlockedAt:(null===(r=e.find(e=>e.analysisResult.score>=95))||void 0===r?void 0:r.timestamp)||new Date,type:"score"})}return a>=85&&s.push({id:"high-average",title:"Consistent Excellence",description:"Maintained an average score of 85 or higher",unlockedAt:new Date,type:"consistency"}),this.calculateWeeklyProgress(e).filter(e=>e.improvement>0).length>=4&&s.push({id:"improvement-streak",title:"Rising Star",description:"Improved for 4 consecutive weeks",unlockedAt:new Date,type:"improvement"}),s}calculateStreaks(e){let s=[...e].sort((e,s)=>s.timestamp.getTime()-e.timestamp.getTime()),t=0,a=0,r=0;for(let e=0;e<s.length-1;e++){let l=s[e].timestamp,i=s[e+1].timestamp;1>=Math.floor((l.getTime()-i.getTime())/864e5)?(r++,0===e&&(t=r)):(a=Math.max(a,r),r=0)}return{current:t,longest:a=Math.max(a,r),type:"daily"}}generateProgressInsights(e){let s=[],t=this.generateAnalytics(e);if(t.scoreTrend.movingAverage.length>1){let e=t.scoreTrend.movingAverage.slice(-3),a=t.scoreTrend.movingAverage.slice(-6,-3);if(e.length>0&&a.length>0){let t=e.reduce((e,s)=>e+s,0)/e.length,r=a.reduce((e,s)=>e+s,0)/a.length,l=t-r;l>5?s.push({type:"improvement",title:"Great Progress!",description:"Your average score has improved by ".concat(l.toFixed(1)," points recently"),data:{improvement:l,recentAvg:t,olderAvg:r},recommendation:"Keep up the excellent work!",priority:"high"}):l<-5&&s.push({type:"decline",title:"Need to Focus",description:"Your average score has decreased by ".concat(Math.abs(l).toFixed(1)," points recently"),data:{improvement:l,recentAvg:t,olderAvg:r},recommendation:"Consider reviewing your techniques and practicing more consistently",priority:"high"})}}let a=this.calculateVariance(t.scoreTrend.scores);return a<50&&s.push({type:"consistency",title:"Consistent Performer",description:"Your scores are very consistent, showing good technique stability",data:{variance:a},recommendation:"Try pushing yourself with more challenging techniques",priority:"medium"}),s}calculateMovingAverage(e,s){let t=[];for(let a=s-1;a<e.length;a++){let r=e.slice(a-s+1,a+1),l=r.reduce((e,s)=>e+s,0)/r.length;t.push(Math.round(100*l)/100)}return t}calculateTrend(e){if(e.length<2)return"stable";let s=e.slice(0,Math.floor(e.length/2)),t=e.slice(Math.floor(e.length/2)),a=s.reduce((e,s)=>e+s,0)/s.length,r=t.reduce((e,s)=>e+s,0)/t.length-a;return r>2?"up":r<-2?"down":"stable"}calculateImprovement(e){if(e.length<2)return 0;let s=e.slice(0,Math.floor(e.length/2)),t=e.slice(Math.floor(e.length/2)),a=s.reduce((e,s)=>e+s,0)/s.length;return t.reduce((e,s)=>e+s,0)/t.length-a}getWeekString(e){let s=e.getFullYear(),t=this.getWeekNumber(e);return"".concat(s,"-W").concat(t.toString().padStart(2,"0"))}getWeekNumber(e){let s=new Date(e.getFullYear(),0,1);return Math.ceil(((e.getTime()-s.getTime())/864e5+s.getDay()+1)/7)}calculateAspectScores(e){let s={};e.forEach(e=>{Object.entries(e.analysisResult.analysis).forEach(e=>{let[t,a]=e;s[t]||(s[t]=[]),s[t].push(a.score)})});let t={};return Object.entries(s).forEach(e=>{let[s,a]=e;t[s]={average:a.reduce((e,s)=>e+s,0)/a.length,count:a.length}}),t}getAspectDisplayName(e){return({color:"Color Theory",shape:"Shaping Techniques",texture:"Texture Control",presentation:"Presentation Skills"})[e]||e}calculateVariance(e){if(e.length<2)return 0;let s=e.reduce((e,s)=>e+s,0)/e.length;return Math.round(e.reduce((e,t)=>e+Math.pow(t-s,2),0)/e.length*100)/100}getEmptyAnalytics(){return{totalSubmissions:0,averageScore:0,bestScore:0,worstScore:0,scoreTrend:{dates:[],scores:[],movingAverage:[]},categoryBreakdown:[],techniqueBreakdown:[],weeklyProgress:[],monthlyProgress:[],strengths:[],weaknesses:[],recommendations:[],achievements:[],streaks:{current:0,longest:0,type:"daily"}}}constructor(){this.storageKey="patissier-analytics-cache"}}let tw=ty.getInstance();function tk(e){let{history:s,className:t}=e,[l,i]=(0,r.useState)(null),[n,c]=(0,r.useState)([]),[o,d]=(0,r.useState)("overview"),[m,x]=(0,r.useState)("all");if((0,r.useEffect)(()=>{if(s.length>0){let e=tw.generateAnalytics(s),t=tw.generateProgressInsights(s);i(e),c(t)}},[s]),!l||0===s.length)return(0,a.jsxs)(b,{className:t,children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(s3.Z,{className:"h-5 w-5"}),"Analytics & Progress"]})}),(0,a.jsx)(k,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(s3.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Data Yet"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Upload some pastry creations to start tracking your progress and analytics!"})]})})]});let u=e=>e>=90?"text-green-600":e>=80?"text-blue-600":e>=70?"text-yellow-600":"text-red-600",g=e=>{switch(e){case"up":return(0,a.jsx)(p.Z,{className:"h-4 w-4 text-green-500"});case"down":return(0,a.jsx)(sG.Z,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(tN.Z,{className:"h-4 w-4 text-gray-500"})}},f=e=>{switch(e){case"improvement":return(0,a.jsx)(p.Z,{className:"h-5 w-5 text-green-500"});case"decline":return(0,a.jsx)(sG.Z,{className:"h-5 w-5 text-red-500"});case"consistency":return(0,a.jsx)(ev.Z,{className:"h-5 w-5 text-blue-500"});case"breakthrough":return(0,a.jsx)(eb.Z,{className:"h-5 w-5 text-purple-500"});default:return(0,a.jsx)(eA.Z,{className:"h-5 w-5 text-gray-500"})}},j=e=>{switch(e){case"high":return"border-red-200 bg-red-50";case"medium":return"border-yellow-200 bg-yellow-50";case"low":return"border-green-200 bg-green-50";default:return"border-gray-200 bg-gray-50"}};return(0,a.jsx)("div",{className:t,children:(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(s3.Z,{className:"h-5 w-5"}),"Analytics & Progress"]})}),(0,a.jsx)(k,{children:(0,a.jsxs)(q,{value:o,onValueChange:d,children:[(0,a.jsxs)(R,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(I,{value:"overview",children:"Overview"}),(0,a.jsx)(I,{value:"trends",children:"Trends"}),(0,a.jsx)(I,{value:"insights",children:"Insights"}),(0,a.jsx)(I,{value:"achievements",children:"Achievements"})]}),(0,a.jsx)(T,{value:"overview",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:l.totalSubmissions}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Submissions"})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold ".concat(u(l.averageScore)),children:l.averageScore}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Average Score"})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold ".concat(u(l.bestScore)),children:l.bestScore}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Best Score"})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:l.streaks.current}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Current Streak"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-4",children:"Performance by Category"}),(0,a.jsx)("div",{className:"space-y-3",children:l.categoryBreakdown.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium",children:e.category}),(0,a.jsxs)(G,{variant:"outline",children:[e.count," submissions"]}),g(e.trend)]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-bold ".concat(u(e.averageScore)),children:e.averageScore}),(0,a.jsx)("div",{className:"w-20",children:(0,a.jsx)(_,{value:e.averageScore,className:"h-2"})})]})]},s))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{className:"pb-3",children:(0,a.jsx)(w,{className:"text-sm text-green-600",children:"Strengths"})}),(0,a.jsx)(k,{children:l.strengths.length>0?(0,a.jsx)("div",{className:"space-y-2",children:l.strengths.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},s))}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Keep practicing to identify your strengths!"})})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{className:"pb-3",children:(0,a.jsx)(w,{className:"text-sm text-red-600",children:"Areas for Improvement"})}),(0,a.jsx)(k,{children:l.weaknesses.length>0?(0,a.jsx)("div",{className:"space-y-2",children:l.weaknesses.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eA.Z,{className:"h-4 w-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},s))}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Great job! No major weaknesses identified."})})]})]})]})}),(0,a.jsx)(T,{value:"trends",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-4",children:"Score Trend Over Time"}),(0,a.jsx)(b,{children:(0,a.jsx)(k,{className:"p-6",children:(0,a.jsx)("div",{className:"h-64 flex items-end justify-between gap-1",children:l.scoreTrend.scores.map((e,s)=>(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,a.jsx)("div",{className:"bg-primary rounded-t w-4",style:{height:"".concat(e/100*200,"px")}}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:s%5==0?e:""})]},s))})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-4",children:"Weekly Progress"}),(0,a.jsx)("div",{className:"space-y-3",children:l.weeklyProgress.slice(-8).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(tb.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:e.week}),(0,a.jsxs)(G,{variant:"outline",children:[e.submissions," submissions"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"font-bold ".concat(u(e.averageScore)),children:e.averageScore}),0!==e.improvement&&(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat(e.improvement>0?"text-green-600":"text-red-600"),children:[e.improvement>0?(0,a.jsx)(p.Z,{className:"h-4 w-4"}):(0,a.jsx)(sG.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{className:"text-sm",children:[e.improvement>0?"+":"",e.improvement.toFixed(1)]})]})]})]},s))})]})]})}),(0,a.jsx)(T,{value:"insights",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Progress Insights"}),n.length>0?(0,a.jsx)("div",{className:"space-y-4",children:n.map((e,s)=>(0,a.jsx)(b,{className:"border-l-4 ".concat(j(e.priority)),children:(0,a.jsx)(k,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[f(e.type),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,a.jsx)("p",{className:"text-sm font-medium text-blue-600",children:e.recommendation})]}),(0,a.jsx)(G,{variant:"outline",className:j(e.priority),children:e.priority})]})})},s))}):(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-6 text-center",children:[(0,a.jsx)(tN.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"font-medium mb-2",children:"No Insights Yet"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Keep practicing to generate personalized insights about your progress!"})]})})]})}),(0,a.jsx)(T,{value:"achievements",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:l.achievements.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Achievements Unlocked"})]})}),(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:l.streaks.longest}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Longest Streak"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-4",children:"Your Achievements"}),l.achievements.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.achievements.map((e,s)=>(0,a.jsx)(b,{className:"border-l-4 border-yellow-400 bg-yellow-50",children:(0,a.jsx)(k,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5 text-yellow-600"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Unlocked: ",e.unlockedAt.toLocaleDateString()]})]})]})})},s))}):(0,a.jsx)(b,{children:(0,a.jsxs)(k,{className:"p-6 text-center",children:[(0,a.jsx)(h.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"font-medium mb-2",children:"No Achievements Yet"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Keep practicing to unlock achievements and milestones!"})]})})]})]})})]})})]})})}var tC=t(257);class tS{static getInstance(){return tS.instance||(tS.instance=new tS),tS.instance}async analyzeImage(e){try{return new FormData().append("image",e),await new Promise(e=>setTimeout(e,2e3)),this.generateMockAnalysis(e)}catch(e){throw console.error("Error analyzing image:",e),Error("Failed to analyze image. Please try again.")}}async sendChatMessage(e,s){try{await new Promise(e=>setTimeout(e,1e3));let e=["That's a great question! Let me help you with that technique.","I can see you're working on improving your pastry skills. Here's what I recommend...","Based on your progress, I suggest focusing on these key areas...","That's an excellent observation! Here's how you can take it to the next level...","I understand your concern. Let me break this down step by step..."];return e[Math.floor(Math.random()*e.length)]}catch(e){throw console.error("Error sending chat message:",e),Error("Failed to send message. Please try again.")}}generateMockAnalysis(e){let s=["Viennoiserie","Desserts","Bread","Cakes","Pastries"],t=s[Math.floor(Math.random()*s.length)],a=Math.floor(40*Math.random())+60,r=e=>{let s=[...e];for(let e=s.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}return s};return{score:a,feedback:{positive:r(["Excellent golden-brown color indicates proper baking temperature","Beautiful lamination visible with distinct layers","Perfect crescent shape with proper proportions","Smooth, glossy surface shows good technique","Clean, sharp edges demonstrate precision","Good color contrast with the garnish","Proper rise and volume achieved","Excellent texture and crumb structure"]).slice(0,Math.min(3,Math.floor(a/30))),improvements:r(["Slightly uneven browning on one side - rotate halfway through baking","Could benefit from a slightly longer proof for more volume","Small air bubbles visible - strain the mixture next time","Consider adding texture contrast with nuts or crunchy elements","Tart shell could be slightly thinner for better texture balance","The glaze could be more even - work on your pouring technique","Consider adjusting the oven temperature for more even baking","The decoration could be more precise - practice your piping skills"]).slice(0,Math.min(2,Math.floor((100-a)/20))),techniques:r(["Your butter temperature control was excellent","Great job maintaining dough temperature during lamination","Nice work on the tart shell blind baking","Your folding technique shows improvement","Good attention to detail in the finishing touches","The timing of your proofing was spot on","Your mixing technique is developing well","Great job on the temperature control throughout"]).slice(0,Math.min(2,Math.floor(a/40)))},category:t,confidence:Math.floor(20*Math.random())+80,analysis:{color:{score:Math.floor(20*Math.random())+70,feedback:"Good color development with room for improvement"},shape:{score:Math.floor(20*Math.random())+75,feedback:"Well-formed shape with consistent proportions"},texture:{score:Math.floor(20*Math.random())+65,feedback:"Texture shows good technique execution"},technique:{score:Math.floor(20*Math.random())+70,feedback:"Solid technique with areas for refinement"}}}}constructor(){this.apiKey=tC.env.OPENAI_API_KEY||""}}let tZ=tS.getInstance();function tA(){let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(!1),[i,n]=(0,r.useState)(null),[c,o]=(0,r.useState)(null),[d,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),[g,p]=(0,r.useState)(null),[f,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null),[Z,A]=(0,r.useState)(!1),q=async e=>{s(e),o(null),l(!0);try{let s=await tZ.analyzeImage(e);n(s);let t=URL.createObjectURL(e);ta.saveFeedbackEntry({imageUrl:t,analysisResult:s,technique:s.category})}catch(e){o(e instanceof Error?e.message:"Analysis failed")}finally{l(!1)}};return(0,a.jsx)("section",{id:"ai-feedback",className:"py-16",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"AI Visual Feedback"}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Upload photos of your pastry creations and get instant AI-powered feedback on your technique, presentation, and areas for improvement."})]}),(0,a.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(s2.Z,{className:"h-5 w-5 text-primary"}),"Upload Your Creation"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m,{variant:"outline",onClick:()=>{x(!0),s(null),n(null)},className:"flex items-center gap-2",children:[(0,a.jsx)(s5.Z,{className:"h-4 w-4"}),"History"]}),i&&(0,a.jsxs)(m,{variant:"outline",onClick:()=>{j(!0),x(!1),p(null)},className:"flex items-center gap-2",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4"}),"Learn"]}),(0,a.jsxs)(m,{variant:"outline",onClick:()=>{A(!0),x(!1),j(!1),N(!1),p(null)},className:"flex items-center gap-2",children:[(0,a.jsx)(s3.Z,{className:"h-4 w-4"}),"Analytics"]})]})]})}),(0,a.jsxs)(k,{children:[i?(0,a.jsx)(te,{result:i,onRetake:()=>{s(null),n(null),o(null),x(!1),h(null),p(null),j(!1)}}):(0,a.jsx)(s8,{onImageSelect:q,onImageRemove:()=>{s(null),n(null),o(null)},selectedImage:e}),t&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-4 text-muted-foreground",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Analyzing your image..."]}),c&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-4 text-destructive",children:[(0,a.jsx)(eA.Z,{className:"h-4 w-4"}),c]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[d&&(0,a.jsx)(tr,{onViewFeedback:e=>{h(e),n(e.analysisResult),x(!1)},onCompareFeedback:e=>{p(e),x(!1)},onShareFeedback:e=>{S(e),N(!0),x(!1),j(!1),p(null)}}),f&&i&&(0,a.jsx)(tc,{analysisResult:i,feedbackHistory:ta.getFeedbackHistory(),onRecommendationClick:e=>{console.log("Recommendation clicked:",e)}}),v&&C&&(0,a.jsx)(tv,{feedback:C,onClose:()=>{N(!1),S(null)}}),Z&&(0,a.jsx)(tk,{history:ta.getFeedbackHistory()}),g&&(0,a.jsx)(tl,{comparison:g,onClose:()=>{p(null)}})]})]})})]})})}function tq(){let[e,s]=(0,r.useState)(!1),[t,l]=(0,r.useState)(!1),{techniques:i}=M({});return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(N,{onFavoritesClick:()=>s(!0),onProgressClick:()=>l(!0)}),(0,a.jsxs)("main",{children:[(0,a.jsx)(Z,{}),(0,a.jsx)(sp,{}),(0,a.jsx)(sN,{}),(0,a.jsx)(s4,{}),(0,a.jsx)(tA,{})]}),(0,a.jsx)(sr,{isOpen:e,onClose:()=>s(!1),techniques:i}),(0,a.jsx)(sn,{isOpen:t,onClose:()=>l(!1),techniques:i})]})}}},function(e){e.O(0,[672,984,971,117,744],function(){return e(e.s=2062)}),_N_E=e.O()}]);